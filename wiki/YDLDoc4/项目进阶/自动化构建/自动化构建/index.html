
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1" theme-name="Stellar" theme-version="1.33.1">
  <link rel="canonical" href="https://blog.thatcoder.cn/wiki/YDLDoc4/项目进阶/自动化构建/自动化构建">
  
  <meta name="generator" content="Hexo 7.3.0">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  <title>YDLDoc4：自动化构建 - 钟意博客</title>

  
    <meta name="description" content="# 自动化构建项目（DevOps CI&#x2F;CD）提示课程视频教程链接：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV14Y411k7Rfopen in new window# 第一章 课程目的# 一、企业开发流程自学、培训，一门语言结束后，不知道企业开发流程。本课程分享企业工作中，个人工作开发部署的经验。# 二、注重实操读万卷书不如行万里路。听过太多知识，总记不住，就是因为自己没">
<meta property="og:type" content="website">
<meta property="og:title" content="自动化构建">
<meta property="og:url" content="https://blog.thatcoder.cn/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/">
<meta property="og:site_name" content="钟意博客">
<meta property="og:description" content="# 自动化构建项目（DevOps CI&#x2F;CD）提示课程视频教程链接：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV14Y411k7Rfopen in new window# 第一章 课程目的# 一、企业开发流程自学、培训，一门语言结束后，不知道企业开发流程。本课程分享企业工作中，个人工作开发部署的经验。# 二、注重实操读万卷书不如行万里路。听过太多知识，总记不住，就是因为自己没">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.thatcoder.cn/favicon.ico">
<meta property="article:published_time" content="2025-07-21T12:21:46.812Z">
<meta property="article:modified_time" content="2025-07-21T12:21:46.812Z">
<meta property="article:author" content="钟意">
<meta property="article:tag" content="那个码农">
<meta property="article:tag" content="码农钟意">
<meta property="article:tag" content="钟意的博客">
<meta property="article:tag" content="钟意博客">
<meta property="article:tag" content="That Coder">
<meta property="article:tag" content="thatcoder">
<meta property="article:tag" content="源柒拾柒雅舍">
<meta property="article:tag" content="源WebGary">
<meta property="article:tag" content="giligili.work">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.thatcoder.cn/favicon.ico">
  
  

  <meta name="keywords" content="那个码农,码农钟意,钟意的博客,钟意博客,That Coder,thatcoder,源柒拾柒雅舍,源WebGary,giligili.work">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="钟意博客" type="application/atom+xml">
  

  <link rel="stylesheet" href="/css/main.css?v=1.33.1">


  
    <link rel="shortcut icon" href="/favicon.ico">
  

  
    
<link rel="stylesheet" href="/custom/css/ZYCode.css">

  

  <script type="application/ld+json">{"@context":"https://schema.org","@type":"Website","@id":"https://blog.thatcoder.cn/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/","author":{"@type":"Person","name":"钟意","sameAs":[],"image":"/favicon.ico"},"name":"自动化构建","description":"# 自动化构建项目（DevOps CI/CD）提示课程视频教程链接：https://www.bilibili.com/video/BV14Y411k7Rfopen in new window# 第一章 课程目的# 一、企业开发流程自学、培训，一门语言结束后，不知道企业开发流程。本课程分享企业工作中，个人工作开发部署的经验。# 二、注重实操读万卷书不如行万里路。听过太多知识，总记不住，就是因为...","url":"https://blog.thatcoder.cn/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/","keywords":["那个码农","码农钟意","钟意的博客","钟意博客","That Coder","thatcoder","源柒拾柒雅舍","源WebGary","giligili.work"]}</script>
  <link rel="Shortcut Icon" href="/favicon.ico" type="image/x-icon" /><link rel='stylesheet' href='https://public.thatcdn.cn/font/old_song/result.css' /><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="/custom/css/ZYTimetmpl.css" /><meta itemprop="name" content="钟意博客"><meta itemprop="author" content="钟意"><meta itemprop="description" content="笔名钟意, 记录代码与生活."><meta itemprop="image" content="https://upyun.thatcdn.cn/hexo/stellar/image/shot.webp"><link rel="stylesheet" href="/custom/css/ZYGlobal.css"><link rel="stylesheet" href="/custom/css/ZYWaline.css"><link rel="stylesheet" href="/custom/css/ZYPage.css"><script type="text/javascript" src="/custom/js/header.js"></script><!-- Clarity tracking code for https://blog.thatcoder.cn/ -->
<script>    (function(c,l,a,r,i,t,y){        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);    })(window, document, "clarity", "script", "fi1zg7i5q5");</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6GM3XZWV7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-H6GM3XZWV7');
</script>
<!-- BaiDu-ZhanZhang
<meta name="baidu-site-verification" content="codeva-8tnFVr706d" />
<!-- BaiDu-Tongji -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?233765a020502d5d6a92d4fe306d36c2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>
<body>



<div class="l_body s:aa content tech " id="start" layout="page" type="tech" ><aside class="l_left"><div class="sidebg"></div><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><div class="icon"><img no-lazy class="icon" src="/custom/img/ydl.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></div><a class="title" href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E5%B7%A5%E4%BD%9C%E6%B5%81/%E5%B7%A5%E4%BD%9C%E6%B5%81"><div class="main">YDLDoc4</div><div class="sub normal cap">关于YDLDoc的笔记</div><div class="sub hover cap" style="opacity:0"> 不对之处请指出</div></a></div></header>

<div class="nav-area">

<nav class="menu dis-select"><a class="nav-item" title="博客" href="/"><span>博客</span></a><a class="nav-item active" title="笔记" href="/wiki/"><span>笔记</span></a><a class="nav-item" title="便签" href="/notes/"><span>便签</span></a><a class="nav-item" title="社交" href="/links/"><span>社交</span></a></nav>
</div>
<div class="widgets">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" data-filter="/wiki/YDLDoc4/" placeholder="在 YDLDoc4 中搜索"></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div>


<widget class="widget-wrapper doc-tree post-list"><div class="widget-body fs14"><a class="link" href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E5%B7%A5%E4%BD%9C%E6%B5%81/%E5%B7%A5%E4%BD%9C%E6%B5%81/#start"><span class="toc-text">工作流</span></a><a class="link" href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E7%9F%AD%E4%BF%A1%E9%80%9A%E9%81%93/%E7%9F%AD%E4%BF%A1%E9%80%9A%E9%81%93/"><span class="toc-text">短信通道</span></a><a class="link active" href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/"><span class="toc-text">自动化构建</span><svg class="active-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M21 11.098v4.993c0 3.096 0 4.645-.734 5.321c-.35.323-.792.526-1.263.58c-.987.113-2.14-.907-4.445-2.946c-1.02-.901-1.529-1.352-2.118-1.47a2.225 2.225 0 0 0-.88 0c-.59.118-1.099.569-2.118 1.47c-2.305 2.039-3.458 3.059-4.445 2.945a2.238 2.238 0 0 1-1.263-.579C3 20.736 3 19.188 3 16.091v-4.994C3 6.81 3 4.666 4.318 3.333C5.636 2 7.758 2 12 2c4.243 0 6.364 0 7.682 1.332C21 4.665 21 6.81 21 11.098" opacity=".5"/><path fill="currentColor" d="M9 5.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5z"/></svg></a><a class="link" href="/wiki/YDLDoc4/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93%E7%BD%91/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93/"><span class="toc-text">二奢交易</span></a></div></widget>

<widget class="widget-wrapper post-card"><div class="widget-header dis-select"><span class="name">更多：开发</span></div><div class="widget-body"><a class="item wiki" href="/wiki/YDLDoc2/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/maven%E5%85%A5%E9%97%A8/maven%E5%85%A5%E9%97%A8/"><span class="title">元动力摘录 - JAVA阶段二</span><span class="excerpt">钟意关于YDLDoc的笔记</span></a><a class="item wiki" href="/wiki/YDLDoc1/mysql%E5%AD%A6%E4%B9%A0/JDBC/JDBC/"><span class="title">元动力摘录 - JAVA阶段一</span><span class="excerpt">钟意关于YDLDoc的笔记</span></a><a class="item wiki" href="/wiki/YDLDoc3/ELK%E5%85%A5%E9%97%A8/elk%E5%85%A5%E9%97%A8/elk%E5%85%A5%E9%97%A8/"><span class="title">元动力摘录 - JAVA阶段三</span><span class="excerpt">钟意关于YDLDoc的笔记</span></a><a class="item wiki" href="/wiki/YuDaoBoot/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%8E%A5%E5%85%A5/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%8E%A5%E5%85%A5/"><span class="title">艿艿若依Boot - 开发指南</span><span class="excerpt">关于艿艿若依Boot的文档</span></a><a class="item wiki" href="/wiki/YuDaoCloud/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/OAuth%202.0%EF%BC%88SSO%20%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95)/OAuth%202.0%EF%BC%88SSO%20%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95)/"><span class="title">艿艿若依Cloud - 开发指南</span><span class="excerpt">关于艿艿若依Cloud的文档</span></a><a class="item wiki" href="/wiki/Laf/start/start/"><span class="title">Laf - 开箱即用的 serverless</span><span class="excerpt">钟意关于Laf的笔记</span></a><a class="item wiki" href="/wiki/MySql/basics/select/"><span class="title">MySql - 关系型数据库管理系统</span><span class="excerpt">钟意关于关系型数据库MySql的笔记</span></a><a class="item wiki" href="/wiki/SpringCloud/start/"><span class="title">SpringCloud - JAVA系分布式微服务架构</span><span class="excerpt">钟意关于SpringCloud的笔记</span></a></div></widget>

<widget class="widget-wrapper recent post-list"><div class="widget-header dis-select"><span class="name">最近更新</span></div><div class="widget-body fs14"><a class="item title" href="/wiki/WebWeekly/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/%E3%80%8A%E6%95%B0%E6%8D%AE%E6%90%AD%E5%BB%BA%E5%BC%95%E6%93%8E%20bi-designer%20API-%E8%AE%BE%E8%AE%A1%E5%99%A8%E3%80%8B/"><span class="title"><strong>WebWeekly</strong><span class="dot"></span>《数据搭建引擎 bi-designer API-设计器》</span></a><a class="item title" href="/wiki/WebWeekly/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/%E3%80%8A%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E3%80%8B/"><span class="title"><strong>WebWeekly</strong><span class="dot"></span>《源码学习》</span></a><a class="item title" href="/wiki/WebWeekly/%E7%AE%97%E6%B3%95/%E3%80%8A%E7%AE%97%E6%B3%95%E9%A2%98%20-%20%E5%9C%B0%E4%B8%8B%E5%9F%8E%E6%B8%B8%E6%88%8F%E3%80%8B/"><span class="title"><strong>WebWeekly</strong><span class="dot"></span>《算法题 - 地下城游戏》</span></a><a class="item title" href="/wiki/WebWeekly/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/%E3%80%8A%E5%A6%82%E4%BD%95%E5%81%9A%E5%A5%BD%20CodeReview%E3%80%8B/"><span class="title"><strong>WebWeekly</strong><span class="dot"></span>《如何做好 CodeReview》</span></a><a class="item title" href="/wiki/YuDaoBoot/%E5%A4%A7%E5%B1%8F%E6%89%8B%E5%86%8C/%E5%A4%A7%E5%B1%8F%E8%AE%BE%E8%AE%A1%E5%99%A8/%E5%A4%A7%E5%B1%8F%E8%AE%BE%E8%AE%A1%E5%99%A8/"><span class="title"><strong>YuDaoBoot</strong><span class="dot"></span>大屏设计器</span></a><a class="item title" href="/wiki/YuDaoCloud/%E5%89%8D%E7%AB%AF%E6%89%8B%E5%86%8C%20Vue%203/%E7%B3%BB%E7%BB%9F%E7%BB%84%E4%BB%B6/%E7%B3%BB%E7%BB%9F%E7%BB%84%E4%BB%B6/"><span class="title"><strong>YuDaoCloud</strong><span class="dot"></span>系统组件</span></a></div></widget>
</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" style="grid-column: span 3;height:32px;padding: 0;" href="https://space.bilibili.com/1664687779" target="_blank" rel="external nofollow noopener noreferrer"><img height="32px" src="https://upyun.thatcdn.cn/public/img/icon/bilibili-banner.jpg"/></a><a class="social" style="grid-column: span 3;height:32px;padding: 0;" href="https://muselink.cc/naive" target="_blank" rel="external nofollow noopener noreferrer"><img height="32px" src="https://upyun.thatcdn.cn/public/img/icon/wechat-banner.jpg"/></a><a class="social" style="grid-column: span 3;height:32px;padding: 0;" href="https://github.com/ThatCoders" target="_blank" rel="external nofollow noopener noreferrer"><img height="32px" src="https://upyun.thatcdn.cn/public/img/icon/github-banner.jpg"/></a><a class="social" href="javascript:ThemeChange('dark');" rel="noopener noreferrer"><img id="ThemeM" src="https://upyun.thatcdn.cn/public/img/icon/Moon.png"/></a><a class="social" href="javascript:ThemeChange('light');" rel="noopener noreferrer"><img id="ThemeL" src="https://upyun.thatcdn.cn/public/img/icon/Sun.png"/></a><a class="social" href="javascript:ThemeChange('auto');" rel="noopener noreferrer"><img id="ThemeAI" src="https://upyun.thatcdn.cn/public/img/icon/AI.png"/></a></div></footer>
</div></aside><div class="l_main" id="main">





<div class="article banner top">
    <div class="content">
      <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a>
<span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">文档</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E5%B7%A5%E4%BD%9C%E6%B5%81/%E5%B7%A5%E4%BD%9C%E6%B5%81/">YDLDoc4</a></div>
<div class="flex-row" id="post-meta"><span class="text created">更新于：<time datetime="2025-07-21T12:21:46.812Z">2025-07-21</time></span></div></div></div>
      
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>自动化构建</span></h1>
        
      </div>
    </div>
    
    </div>
    </div><article class="md-text content"><div class="theme-hope-content"><h1 id="自动化构建项目-devops-ci-cd" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#自动化构建项目-devops-ci-cd">#</a> 自动化构建项目（DevOps CI/CD）</h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>课程视频教程链接：<a href="https://www.bilibili.com/video/BV14Y411k7Rf" rel="noopener noreferrer" target="_blank">https://www.bilibili.com/video/BV14Y411k7Rf<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="第一章-课程目的" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#第一章-课程目的">#</a> 第一章 课程目的</h2><h3 id="一、企业开发流程" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#一、企业开发流程">#</a> 一、企业开发流程</h3><p>自学、培训，一门语言结束后，不知道企业开发流程。</p><p>本课程分享企业工作中，个人工作开发部署的经验。</p><h3 id="二、注重实操" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#二、注重实操">#</a> 二、注重实操</h3><p>读万卷书不如行万里路。听过太多知识，总记不住，就是因为自己没有真实写过代码、操作过流程。</p><p>所以跟着做就完事儿了！</p><h3 id="三、适用人群" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#三、适用人群">#</a> 三、适用人群</h3><p>1 学生：实习。实习公司怎么和项目经理配合、和运维人员配合，项目上线。</p><p>2 研发：不光写代码，也需要知道项目如何上线。</p><p>3 小企业主：管理整个项目。项目有条不紊的迭代更新下去。</p><h2 id="第二章-项目管理里的术语" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#第二章-项目管理里的术语">#</a> 第二章 项目管理里的术语</h2><h3 id="一、项目管理" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#一、项目管理">#</a> 一、项目管理</h3><h4 id="_1、项目管理概念" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、项目管理概念">#</a> 1、项目管理概念</h4><p>​ 研发管理就是在研发<a href="https://baike.baidu.com/item/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/9857309?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">体系结构设计<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和各种<a href="https://baike.baidu.com/item/%E7%AE%A1%E7%90%86%E7%90%86%E8%AE%BA/8523101?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">管理理论<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>基础之上，借助信息平台对研发过程中进行的<a href="https://baike.baidu.com/item/%E5%9B%A2%E9%98%9F%E5%BB%BA%E8%AE%BE/6818401?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">团队建设<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、流程设计、<a href="https://baike.baidu.com/item/%E7%BB%A9%E6%95%88%E7%AE%A1%E7%90%86/755?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">绩效管理<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://baike.baidu.com/item/%E9%A3%8E%E9%99%A9%E7%AE%A1%E7%90%86/3419129?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">风险管理<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://baike.baidu.com/item/%E6%88%90%E6%9C%AC%E7%AE%A1%E7%90%86/2073516?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">成本管理<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://baike.baidu.com/item/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/85389?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">项目管理<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://baike.baidu.com/item/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/120079?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">知识管理<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>等的一系列协调活动。</p><p>真实在企业中，开发一个项目（ydlclass），到底应该怎么做。</p><p>通过软件平台管理：团队建设，绩效管理，风险管理，成本管理，项目设计，分配任务，每日事项，知识库。</p><p>好处：是的团队更加高效完成项目。</p><p>项目管理工具（jira\teambition\禅道），代码管理（gitee\github\gitlab\svn）,运维平台（国产蓝鲸），持续交付平台（jenkins\gitlab）。</p><h4 id="_2、项目管理要做什么" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、项目管理要做什么">#</a> 2、项目管理要做什么</h4><h5 id="_1-企业开发流程-iqiyi" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-企业开发流程-iqiyi">#</a> （1）企业开发流程：（iqiyi）</h5><p>新项目、新功能</p><p>1 立项：1个项目经理，1产品经理（需求文档prd）,1UI, 2开发，1测试，1运维。</p><p>2 讨论：产品经理写出的prd文档，需求是否合理可行。</p><p>3 画静态图片：UI(ued团队)，美工。 蓝湖工具：图片jpg----》静态页面html</p><p>4 前后端接口定义： 请求 Get ip:port/user/1 响应：{code:200,data:{name:itlils,age:18}} 总结出接口文档</p><p>5 分离开发：前后端各干各的。排期 3天。</p><p>6 自测：前端电脑发来请求，后端电脑返回数据。</p><p>7 部署测试环境：让测试人员工具需求文档进行测试。</p><p>8 提交到git封板：运维部署到预发布环境。让技术和业务老大拍板。</p><p>9 上线：运维部署到生产环境。用户使用。</p><p>10 上线注意：周二、周四晚12点上线新功能。测试公网用户访问，线上出了bug了，通宵。</p><h4 id="_3、项目部署环境" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、项目部署环境">#</a> 3、项目部署环境</h4><p>环境</p><figure><img alt="image-20230220115413609" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230220115413609-54b063dd.png" tabindex="0"/><figcaption>image-20230220115413609</figcaption></figure><h5 id="部署环境类型" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#部署环境类型">#</a> 部署环境类型</h5><figure><img alt="image-20230220104841161" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230220104841161-037d5fb3.png" tabindex="0"/><figcaption>image-20230220104841161</figcaption></figure><p><strong>持续集成开发环境</strong>（DEV: Development Environment） 直接通过源代码编译打包，其会跑单元测试，服务API自动化测试，服务UI自动化测试</p><p><strong>测试环境</strong>（Test: Test Environment） 部署带版本的组件，服务API自动化测试，服务UI自动化测试</p><p><strong>系统集成环境</strong>（SIT, System Integration Test Environment） 部署带版本的组件，服务API自动化测试，服务UI自动化测试，多系统集成API测试，多系统集成UI自动化测试。</p><p><strong>用户可接受性测试环境</strong>（UAT, User acceptance Test Environment） 部署带版本的组件，此环境主要用来进行软件产品的验收，用户（客户方）会直接参与，用户根据需求功能文档进行验收，当然在用户验收前可以可以跑API自动化测试和UI自动化测试。此外根据客户项目合同要求，可能需要出具可接受性测试报告：包括但不限于，功能性测试报告，安全测试报告，性能测试报告等</p><p><strong>预生产环境</strong>（STAGING, Staging Environment） 部署带版本的组件，一般在直接上生产环境之前，会进行一些基本健康测试[自动或者手工]，有的时候还会进行模拟生产环境的真实数据进行Dry Run，其Dry Run很多时候都是在正常生产环境的配置和网络条件下进行的，Dry Run之后，没有问题了，就会把预生产环境切换回来，或者直接上生产环境； 从预生产环境集群切换到生产环境集群的方法有： 蓝绿部署，A/B测试，金丝雀部署【灰度发布】等方法。</p><p><strong>生产环境</strong>（Prod: Production Environment） 部署带版本的组件，正式生产环境。</p><p><strong>灾备环境</strong>（DR: Disaster Recovery Environment） 部署带版本的组件，对于一些服务可用性，可连续性有特别要求，比如关系到国计民生的系统，需要进行灾备。</p><h3 id="二、敏捷开发-小步快跑" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#二、敏捷开发-小步快跑">#</a> 二、敏捷开发（小步快跑）</h3><p>项目不是一蹴而就，功能齐全了才上线。那竞争对手早就占领了市场了。</p><p>而是先有了大体的功能之后，一个一个的小功能上线，从而变为一个完善的项目。</p><h4 id="scrum" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#scrum">#</a> Scrum</h4><p>​ Scrum是迭代式增量<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B/3758917?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件开发过程<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，是敏捷方法论中的重要框架之一，通常用于<a href="https://baike.baidu.com/item/%E6%95%8F%E6%8D%B7%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/7108658?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">敏捷软件开发<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。Scrum包括了一系列实践和预定义角色的过程骨架。Scrum中的主要角色包括同项目经理类似的Scrum主管角色负责<a href="https://baike.baidu.com/item/%E7%BB%B4%E6%8A%A4%E8%BF%87%E7%A8%8B/23162240?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">维护过程<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和任务，产品负责人代表利益<a href="https://baike.baidu.com/item/%E6%89%80%E6%9C%89%E8%80%85/2193463?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">所有者<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，开发团队包括了所有开发人员。虽然Scrum是为管理<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/1091704?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件开发项目<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>而开发的，它同样可以用于运行<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E7%BB%B4%E6%8A%A4/9853828?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件维护<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>团队，或者作为<a href="https://baike.baidu.com/item/%E8%AE%A1%E5%88%92%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/22612635?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">计划管理方法<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：Scrum of Scrums. [1]</p><p>Scrum 作为最流行的敏捷框架，这些年已经得到广泛的流行。但是很多团队在落地Scrum的时候并不总是一帆风顺。</p><h4 id="_1、-什么样的团队适合实施scrum" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、-什么样的团队适合实施scrum">#</a> 1、 什么样的团队适合实施Scrum？</h4><p>通常来说，国内最常见的开发管理模式有四种：</p><ul><li>敏捷开发</li><li>瀑布开发</li><li>看板（指精益看板）</li><li>混合模式</li></ul><p>其中，<strong>Kanban（看板）对于需求变化非常快的项目更有优势</strong>，比如连一周的迭代都没办法保证的特性开发，或者属于支持/维护类的项目团队。此外，看板对于不喜欢对现状改变太大的企业，更加容易被接受。</p><p>而相对来说，<strong>对于那些有着清晰roadmap的特性开发团队，以便于按照固定的节奏提交价值增量，Scrum更加有完整的套路。</strong></p><p><strong>瀑布模型一般适用于需求在规划和设计阶段就已确定，且项目开发周期内需求没有或极少变化，对需求变更进行严格控制，例如航空航天、金融核心系统等</strong>；以及稳定的低风险项目（对目标、环境非常熟悉），规模小实现简单易受控的项目等特点的项目；</p><h4 id="_2、-scrum-框架构成及实施全流程" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、-scrum-框架构成及实施全流程">#</a> 2、 Scrum 框架构成及实施全流程</h4><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/a08b87d6277f9e2f4bb532fb4f24882eb999f35b-a9e2a7c6.png" tabindex="0"/><figcaption>./img</figcaption></figure><p>Scrum 框架包括：3个角色、3个工件、5个活动和5个价值观。</p><h5 id="_2-1-3个角色" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-1-3个角色">#</a> 2.1 3个角色</h5><ul><li><strong>Scrum Master</strong></li></ul><p>作为 Scrum 流程的捍卫者和布道者，<strong>ScrumMaster在Scrum团队中起到至关重要的作用，他们确保团队使用正确的流程，确保团队正确地召开各种会议，帮助每个人理解Scrum 理论、实践、规则和价值。</strong></p><p>Scrum Master 对Scrum 团队而言，他/她是一位服务型领导。Scrum Master 帮助Scrum 团队之外的人了解他/她如何与Scrum 团队交互是有益的，通过改变他/她们与Scrum 团队的互动方式来最大化Scrum 团队所创造的价值。</p><ul><li><strong>Product Owner</strong></li></ul><p><strong>产品负责人（Product Owner）是有授权的产品领导力核心，组成Scrum团队三个角色之一。PO担任的是产品经理的角色。</strong></p><p>作为确保团队做出正确产品，以便帮公司得到最高投资回报的产品负责人，在Scrum团队中负责“做什么”的问题。但不同公司，不同部门，不同团队的产品负责人的具体职责不尽相同。从总体上来说，产品负责人要负责产品的愿景和边界。而具体来说，产品负责人的工作是提出正确的解决方案和确保解决方案被正确“制造”。</p><img alt="PO职责与技能" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/c8ea15ce36d3d53979eee3e46b93885a342ab0e1-dec1502e.png" style="zoom:40%;"/><ul><li><strong>Team（开发团队）</strong></li></ul><p><strong>在Scrum开发团队，所有的人都被称为“工程师”，且人数不宜过多，5~7人比较理想，包含产品、设计、前端、后端、测试等多角色，是实际价值产出者；</strong></p><p>在 Scrum 的每个冲刺当中，开发团队为了实现计划里的功能，他们必须完成所有的相关工作，包括产品设计，开发，集成和测试。为此，团队必须具备完成这些工作的所有技能。在工作中，Scrum 作为一个整体，对功能的实现负责。区别于传统开发方法里的“只负责自己那一部分工作”的状态。</p><p>所以在团队开始之前就要考虑：为了能够完成Scrum电子任务板项目的各种需求，团队需要具备哪些能力，哪些能力是已经具备的呢，哪些能力是我们可以从外部获得支持。”</p><p><strong>Scrum开发团队的主要职责如下：</strong></p><ul><li>在冲刺执行期间，开发团队完成创造性的工作，包括设计，构建，集成，测试，最终提供潜在可发布的功能发布。</li><li>每日检视和调整（每日站会）——作为一个自组织的团队，团队通过每日站会来实现自我的检视和调整以实现冲刺目标。</li><li>梳理产品列表——帮助产品负责人梳理产品列表，细化产品列表条目，估算和排列优先级。</li><li>冲刺规划——在每个冲刺之初，开发团队参与冲刺计划会议。在会议上，根据产品经理提供的信息，对产品列表条目的工作量进行估算，并在ScrumMaster的指导下，与产品负责人共同制订冲刺目标。</li><li>检视和调整产品与过程——在每个冲刺结束的时候，开发团队都需要参加冲刺评审会议和冲刺回顾会议。在会议上，Scrum团队检视和调整自己的过程和技术以进一步改善团队使用Scrum来交付业务价值的能力。</li></ul><p>注意，开发团队对工作量的估算有绝对话语权，作为一个自组织的团队，他们不受其他角色的影响，对工作量进行估算并且按照自己的承诺去履行冲刺目标。</p><h5 id="_2-2-3个工件" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-2-3个工件">#</a> 2.2 3个工件</h5><ul><li><strong>Product Backlog（产品待办列表）</strong></li></ul><p>首先产品待办列表永远不会完成，它是产品所有已知需求的优先级排序表，为了确保产品是有用的、有竞争力的，列表会不断地变化和调整，例如当市场提供了一些反馈，需求可能会变得更详细，PO就需要根据业务需要、市场环境和技术的变化及时进行调整，所以我们说，产品待办列表是动态的，会随着产品和使用它的环境发展而发展。</p><ul><li><strong>Sprint Backblog</strong></li></ul><p>Sprint列表是团队当前Sprint的任务清单。和产品列表不一样，它的寿命是有限的，仅在一个Sprint的时间里存活。它里面包含所有团队已承诺的故事以及相关联的任务，以及此外的附加工作，例如，在回顾会议中所发现的团队改进任务，团队计划要在当前Sprint完成。</p><p>Sprint列表在Sprint规划会议中产生，一旦Sprint规划会议结束，产品负责人就不能再修改Sprint列表的故事清单了。这是Scrum中业务方和开发团队之间的基本协议，每次Sprint开始前，业务方都可以改变方向，然而Sprint开始以后，团队则会专注于他们所承诺完成的故事。改变这个已承诺的故事清单只有一个方式，就是由干这个活儿的团队成员提出变更请求。</p><ul><li><strong>Increment（增量）</strong></li></ul><p>Increment是Sprint期间完成的所有Product Backlog项目的总和，以及所有先前Sprint的增量值。在Sprint结束时，新增量必须是“完成”，这意味着它必须处于可用状态并符合Scrum团队对“完成”的定义。增量是一个可检查的“完成”工作，支持经验主义在Sprint结束时。增量是迈向愿景或目标的一步。无论产品负责人是否决定释放，增量必须处于可用状态。</p><p>Scrum的全部意义在于提供“完成”增量。</p><ul><li><strong>扩展工件之燃尽图</strong></li></ul><p>冲刺燃尽图（或燃尽图）不是官方的 Scrum 工件，但许多团队在冲刺期间使用它来沟通和跟踪冲刺目标的进度。燃尽图是显示在冲刺期间完成的任务的图表。燃尽图在帮助衡量团队的积极执行速度方面非常有用，因此他们知道他们是否会完成计划或需要重新确定冲刺任务的优先级。</p><p>在 sprint 计划期间，团队可以查看之前的燃尽图，以了解他们可以在即将到来的 sprint 中实际完成多少任务。团队可以检查正在进行的燃尽图，以确定他们是否能够成功完成冲刺。</p><p>在 sprint 评审期间，团队可以重新查看燃尽图，看看他们在哪里达到或没有达到预期。随着时间的推移，燃尽图可以帮助团队在 Scrum 的计划阶段更好地改进他们的估计。</p><h5 id="_2-3-5个活动" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-3-5个活动">#</a> 2.3 5个活动</h5><ul><li><strong>Sprint（冲刺）</strong></li></ul><p>冲刺（有的公司叫班车，从起点站发车，到一站后需求完成下车，新需求上车，迭代的过程以此往复），一个固定的时间周期（通常为2w~4w，新项目可以是1w）。</p><ul><li><strong>Sprint planning meeting（冲刺计划会）</strong></li></ul><p>Sprint计划会议的主要目的是，为了完成产品待办列表的目标，需要设计一个有弹性的计划来引导开发过程，来规划我们做什么和如何做这些事，Scrum Master要确保会议顺利举行，保证每个参会者都理解会议的目的。</p><p>Sprint计划会议要求Scrum团队协同合作，共同制定，PO、SM、开发团队都要参与，不能由他人代替。在计划会议上，我们要讨论出这三个问题的答案：</p><ol><li><strong>第一个问题是我们这次Sprint的目标是什么？</strong></li><li><strong>第二个问题是这次Sprint开发什么功能？</strong></li><li><strong>最后是我们将如何去做？</strong></li></ol><ul><li><strong>Daily standup meeting（每日站会）</strong></li></ul><p>每日站会的目的是通过对比前次每日站会后的工作，也就是过去24小时所完成的工作，检视Sprint目标的完成度，并规划未来24小时的工作，通过每天这样快速反馈的循环，优化团队协调合作和表现。</p><p>那么这15分钟的会我们怎么开呢？</p><p>会议需要聚焦在Sprint目标上，主要通过回答以下三个问题展开：</p><ol><li><strong>昨天我做了什么事情帮助开发团队达成Sprint目标？</strong></li><li><strong>今天我要做什么帮助开发团队达成Sprint目标？</strong></li><li><strong>是否有任何障碍在阻碍我或开发团队达成Sprint目标？</strong></li></ol><ul><li><strong>Sprint review（评审会）</strong></li></ul><p>Sprint 评审会议在 Sprint 快结束时举行 ，这个事件是让开发团队展示他们在Sprint中取得的成就，根据DoD“完成的定义”和验收标准，验证增量，这些增量应该是：已经开发、测试完成、经过整合的和已经记录的。</p><p>Sprint 评审会议不是一个进度汇报会议，所以不推荐大家使用PPT，这是一个非正式会议，演示增量的目的是为了获取反馈，提出意见和促进合作，根据完成情况和Sprint期间产品待办列表的变化，团队和利益相关方一起讨论接下来可能要做的事情，未来有可能迎接哪些新的机会/挑战。</p><p><strong>比如我们自己的一个Sprint评审会议过程：</strong></p><ol><li>首先，会议开始，PO欢迎利益相关者来参加评审，然后由PO介绍项目的目标，以及本次Sprint的目标，根据我们在计划会议定义好的DoD，说明产品待办列表里哪些已经“完成”和哪些没有“完成”；</li><li>展示产品增量，开发团队演示Sprint中已实现的产品新功能，最好在接近生产环境的设备上进行，例如，开发在手机APP端的功能程序应该在手机端演示，而不是电脑~</li><li>由来自各方代表的利益相关者提出问题或反馈。</li><li>开发团队解答交付增量的问题，并总结Sprint期间做得好和还可以改进的地方。</li><li>参会的所有人就下一步的工作进行探讨： 评审产品在未来的不同市场，评估潜在的使用场景，决定接下来我们要做的哪些最有价值的改变或优化；</li><li>更新产品待办事项列表，在大家讨论期待发布产品的时间、预算和市场潜力等等问题，达成共识后，会更新待办列表。也就是Sprint评审会议的输出，是这份修订后的产品待办列表，为接下来的Sprint 计划会议提供有价值的输入信息。</li></ol><ul><li><strong>Retrospective meeting</strong></li></ul><p>回顾会议发生在评审会议之后，下一个Sprint计划会议之前。回顾会议的时间盒，以一个月的Sprint来说，回顾会议不超过3小时，半个月的Sprint，回顾会议不超过1.5小时。</p><p>回顾会议由Scrum团队检视自身在过去的Sprint的表现，包括人 、关系、过程、工具等，思考在下一个Sprint中怎么样可以表现得更好，更高效，怎么样可以和团队合作地更愉快。</p><p>Scrum Master作为Scrum团队成员需要来参加会议，因为TA对Scrum的流程负责。该会议主要围绕以下问题展开：</p><ol><li><strong>我们在上一个Sprint中哪里做得好？</strong></li><li><strong>接下来才是讨论我们哪里做得不够好？</strong></li><li><strong>第三个问题就是，我们的改进计划是什么？</strong></li><li><strong>我们上次计划的改进项目进度如何？</strong></li></ol><h5 id="_2-4-价值观" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-4-价值观">#</a> 2.4 价值观</h5><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/30adcbef76094b36f5b7420aecd81dd38c109dca-e044e77c.png" tabindex="0"/><figcaption>./img</figcaption></figure><h4 id="_3、-scrum实施全流程" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、-scrum实施全流程">#</a> 3、 Scrum实施全流程</h4><p>基于以上框架，团队实施Scrum的流程如下：</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/fd039245d688d43f9fa849e9140ab3110ef43b42-a4b4b2dd.png" tabindex="0"/><figcaption>./img</figcaption></figure><h4 id="_4、scrum-实施是否需要管理工具-好的工具有哪些" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4、scrum-实施是否需要管理工具-好的工具有哪些">#</a> 4、Scrum 实施是否需要管理工具？好的工具有哪些？</h4><p>根据国外机构 <a href="http://Digital.ai" rel="noopener noreferrer" target="_blank">Digital.ai<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 2021年发布的《第十五次敏捷状态报告》显示：自疫情发生以来，<strong>采用敏捷的软件开发团队有显著增长，从2020年的37%增加到了2021年的84%。</strong></p><p>除此以外，从敏捷状态调查的早期开始，<strong>工具支持一直是决定敏捷成功的关键因素。在实行敏捷的团队中有各种各样的工具集被应用</strong>，覆盖从通用规划与管理工具(例如，Microsoft Office)到专门的商业产品（例如，PingCode、Jira）。</p><blockquote><p><em><strong>延伸阅读《2022年14个最佳 Scrum 工具盘点》*</strong></em>：*</p><p><em><a href="https://worktile.com/blog/du-you-na-xie-hao-yong-de-scrumguan-li-gong-ju/" rel="noopener noreferrer" target="_blank">https://worktile.com/blog/du-you-na-xie-hao-yong-de-scrumguan-li-gong-ju/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em></p></blockquote><h4 id="_5、scrum-落地的13个常见的坑" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5、scrum-落地的13个常见的坑">#</a> 5、Scrum 落地的13个常见的坑</h4><p>SCRUM 作为最流行的敏捷框架，这些年已经得到广泛的流行。但是很多团队在落地SCRUM的时候，通常会产生以下问题。</p><p><strong>概念性问题</strong></p><ul><li>SCRUM就是敏捷么？</li><li>SCRUM就是开各种会么？</li><li>SCRUM有什么好的，能对我的团队产生什么作用？</li></ul><p><strong>SCRUM执行过程问题</strong></p><p>计划会和需求评审会有啥区别？计划会时候发现需求经常有问题，并且还会有很多问题在迭代中出现。</p><ul><li>站会为什么要每天开，每天重复3个问题很乏味。</li><li>评审会，业务方没空参加，时间也很紧张了，会议干脆被省掉了。</li><li>回顾会，回顾了几次后，已经没有了热情，总是那几个问题，有什么好回顾的。</li><li>迭代周期如何定？版本发布怎么做？</li><li>为什么看起来SCRUM没什么内容，落地执行却问题多多？</li></ul><p><strong>SM的角色和发展问题</strong></p><ul><li>SM一定是全职的么？</li><li>SM对我的职业发展有什么帮助？</li><li>SM的发展路径是什么？</li></ul><h3 id="三、devops" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#三、devops">#</a> 三、DevOps</h3><p>​ DevOps（Development和Operations的组合词）是一组过程、方法与系统的统称，用于促进开发（<a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/5985445?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">应用程序<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>/软件工程）、技术运营和质量保障（<a href="https://baike.baidu.com/item/QA/476016?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">QA<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）部门之间的沟通、协作与整合。</p><p>​ 它是一种重视“<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/3448966?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件开发<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>人员（Dev）”和“<a href="https://baike.baidu.com/item/IT%E8%BF%90%E7%BB%B4/5727814?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">IT运维<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>技术人员（Ops）”之间沟通合作的文化、运动或惯例。透过自动化“<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E4%BA%A4%E4%BB%98/638479?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件交付<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>”和“架构变更”的流程，来使得构建、测试、发布软件能够更加地快捷、频繁和可靠。</p><p>​ 它的出现是由于软件行业日益清晰地认识到：为了按时交付<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E4%BA%A7%E5%93%81/6800028?fromModule=lemma_inlink" rel="noopener noreferrer" target="_blank">软件产品<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和服务，开发和运维工作必须紧密合作。</p><p>注意：1 运维人员：运维就要失业了！学编程。</p><p>​ 2 开发人员：也得懂运维的一些技术了。自学、培训的朋友，linux需要学习，懂得企业开发流程，运维的技术docker、k8s。</p><p>​ tail -100f info.log</p><p>​ 3 企业主：招聘，招全栈工程师。即会前端、后端、运维、测试。</p><figure><img alt="image-20230220161316265" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230220161316265-aeb8955b.png" tabindex="0"/><figcaption>image-20230220161316265</figcaption></figure><figure><img alt="image-20230220152112627" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230220152112627-854857b4.png" tabindex="0"/><figcaption>image-20230220152112627</figcaption></figure><h4 id="_1、devops是什么-怎么解释" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、devops是什么-怎么解释">#</a> 1、DevOps是什么？怎么解释？</h4><p>它是英文单词Development和Operations的组合。DevOps是一组最佳实践，强调IT专业人员（开发人员，操作人员，支持人员等）在应用和服务生命周期中的<strong>协作和沟通</strong>；强调整个组织合作以及交付和基础设施变更的<strong>自动化</strong>，从而实现<strong>持续集成</strong>、<strong>持续部署</strong>和<strong>持续交付</strong>。</p><img alt="./img" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-cfe5c1d21b469f63ddf18cbd1432cd5a_720w-1dcca380.png" style="zoom:67%;"/><h4 id="_2、devops背景是什么" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、devops背景是什么">#</a> 2、DevOps背景是什么？</h4><p>DevOps概念早先升温于2009年的欧洲，因传统模式的运维之痛而生，为了填补开发端、测试端、运维端之间的信息鸿沟，改善团队之间的协作关系。换句话说，<strong>DevOps希望做到的是软件产品交付过程中IT工具链的打通，使得各个团队减少时间损耗，更加高效地协同工作。</strong></p><h4 id="_3、devops能解决什么问题" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、devops能解决什么问题">#</a> 3、DevOps能解决什么问题？</h4><p>Devops在持续、快速的交付产品的情况下，同时又能保持产品的<strong>稳定性</strong>。解决开发人员和运维人员之间矛盾。</p><h4 id="_4、开发和运维人员的矛盾是什么" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4、开发和运维人员的矛盾是什么">#</a> <strong>4、开发和运维人员的矛盾是什么？</strong></h4><p>首先说一下这两个岗位的职责：</p><p>● <strong>开发是实现需求</strong></p><p>● <strong>运维是保持产品/系统的稳定</strong></p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-692bcf5ec559aa5343253845cbc54fd0_720w-5f645baa.png" tabindex="0"/><figcaption>./img</figcaption></figure><p>但随着新需求越来越多，逼着开发快速实现功能，所以在开发提速的过程中，就会导致产品的不稳定，但是运维人员最重视的就是产品稳定，也就导致了开发和运维的矛盾，所以DevOps诞生了。</p><h4 id="_5、devops是工具-是方法-还是思想" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5、devops是工具-是方法-还是思想">#</a> 5、DevOps是工具？是方法？还是思想？</h4><p>DevOps是一个平台，它是吸收了“<strong>敏捷开发</strong>”和“<strong>精益生产</strong>”的思想和方法，同时又把从【<strong>开发→测试→部署→运维</strong>】这条流水线上的所有工具整合在一起的平台。</p><p>换句话说，DevOps希望做到的是产品交付过程中<strong>IT工具链的打通</strong>，使得各个团队<strong>减少时间损耗</strong>，更加高效地协同工作。</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-aa730e88cc930156f95affdbee1acd7c_720w-5403bc35.png" tabindex="0"/><figcaption>./img</figcaption></figure><h4 id="_6、devops和敏捷开发的区别是什么" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6、devops和敏捷开发的区别是什么">#</a> <strong>6、DevOps和敏捷开发的区别是什么？</strong></h4><p>区别在于<strong>敏捷解决局部问题</strong>，<strong>DevOps解决整体问题：</strong></p><p>● 敏捷开发解决了产品快速上线的问题，不负责运维的部分</p><p>● DevOps解决了整个项目流程问题，从【开发→测试→部署上线→运维】</p><h4 id="_7、为什么devops突然发展迅猛" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7、为什么devops突然发展迅猛">#</a> <strong>7、为什么DevOps突然发展迅猛？</strong></h4><p>主要有两点原因：</p><p>● <strong>技术条件成熟了</strong></p><p>DevOps随着新兴的容器技术+自动化运维工具，把以前理想技术在现实中应用了</p><p>● <strong>来自市场的外部需求</strong></p><p>世界变化的速度太快了，能否让公司的IT配套方案及时跟上市场需求的步伐，在今天显得至关重要。比如出租车业务中的Uber、酒店连锁行业中的Airbnb、图书经销商Amazon等。</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-99a95d07007521b3f88b595513fc1ff9_720w-49781ab2.png" tabindex="0"/><figcaption>./img</figcaption></figure><h4 id="_8、devops团队工作效率能提高多少" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8、devops团队工作效率能提高多少">#</a> 8、DevOps团队工作效率能提高多少？</h4><p>真正能够实践DevOps的团队也会为自身的业务带来巨大的提升。根据Puppt 2017年的报告，应用DevOps的团队将<strong>部署频率提高 46 倍</strong>，<strong>交付速度提高 440 倍。</strong></p><h4 id="_9、目前哪些公司已经在使用devops" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_9、目前哪些公司已经在使用devops">#</a> 9、目前哪些公司已经在使用DevOps？</h4><p>自2009年提出DevOps的概念起，很多公司都开始实施 DevOps：</p><p>● 国外比较著名的有Adobe、Apple、Airbnb、Amazon(亚马逊)、Google（谷歌）、Ebay（易贝）、Etsy、Facebook、Linked In（领英）、NASA、Starbucks（星巴克）、Target（泛欧实时全额自动清算系统）、Walmart（沃尔玛）、Sony（索尼）等，Amazon是DevOps最佳实践的最有说服力的代表之一。</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-116cab4b41a3b13c3d605fc7edb58c33_720w-e6e99937.png" tabindex="0"/><figcaption>./img</figcaption></figure><p>● 国内著名的有华为、阿里、腾讯、百度、中国银行、招商银行、华夏银行、中国工商银行、中国民生银行、中国农业银行、国家开发银行等。</p><h4 id="_10、devops为什么会继续火下去" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_10、devops为什么会继续火下去">#</a> 10、DevOps为什么会继续火下去？</h4><p><strong>● 条件成熟：技术配套发展</strong></p><p>技术的发展使得DevOps有了更多的配合。早期时，大家虽然意识到了这个问题的，但是苦于当时没有完善丰富的技术工具，是一种“理想很丰满，但是现实很骨感”的情况。</p><p>DevOps的实现可以基于新兴的容器技术；也可以在自动化运维工具Puppet、SaltStack、Ansible之后的延伸；还可以构建在传统的Cloud Foundry、OpenShift等PaaS厂商之上。</p><p>● <strong>来自市场的外部需求：这世界变化太快</strong></p><p>IT行业已经越来越与市场的经济发展紧密挂钩，<strong>IT将会由支持中心变成利润驱动中心</strong>。事实上，这个变化已经开始了，这不仅体现在Google、苹果这些大企业中，而且也发生在传统行业中，比如出租车业务中的Uber、酒店连锁行业中的Airbnb、图书经销商Amazon等等。能否让公司的IT配套方案及时跟上市场需求的步伐，在今天显得至关重要。</p><p>● <strong>来自团队的内在动力：工程师也需要</strong></p><p>对于工程师而言，他们也是DevOps的受益者。微软资深工程师Scott Hanselman说过“对于开发者而言，<strong>最有力的工具就是自动化工具</strong>”，工具链的打通使得开发者们在交付软件时可以完成生产环境的构建、测试和运行；正如Amazon的VP兼CTO Werner Vogels那句让人印象深刻的话：“谁开发谁运行”。（You build it, you run it）</p><h4 id="_11、哪些因素可能促使一个组织引入devops" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_11、哪些因素可能促使一个组织引入devops">#</a> 11、哪些因素可能促使一个组织引入DevOps？</h4><p>● 使用敏捷或其他软件开发过程与方法</p><p>● 业务负责人要求加快产品交付的速率</p><p>● 虚拟化和云计算基础设施（可能来自内部或外部供应商）日益普遍</p><p>● 数据中心自动化技术和配置管理工具的普及</p><h4 id="_12、为什么说devops是未来的趋势" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_12、为什么说devops是未来的趋势">#</a> 12、为什么说DevOps是未来的趋势？</h4><p>从大趋势上分析，未来所有企业都将是<strong>软件企业</strong>，<strong>制造软件</strong>、<strong>服务软件</strong>、<strong>构建于软件</strong>。比如全世界最大的出行公司 Uber，其实是一个软件公司，而非出租车公司。</p><p>从企业自身诉求出发，中国的中大型企业已经逐步进入了创新驱动的阶段。无论是供给侧改革还是智能制造2025都要求企业修炼内功，提高效率促进创新。过去几年中在塑造前沿行业的DevOps理念在2019年已经成为主流，成为企业能否在行业内脱颖而出的关键性因素。</p><p><strong>真正能够实践DevOps的团队也会为自身的业务带来巨大的提升。</strong></p><p>可见，在国际上来说，DevOps已经处于企业爆发性需求的前夜。而在国内公司中，新兴企业的成功实践也在为中国企业的DevOps输送方法论与有经验的专家。字节跳动可以说是DevOps最佳践行者之一。</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-e71fa19438f35a91397f5829124cab21_720w-9619d6d8.png" tabindex="0"/><figcaption>./img</figcaption></figure><p>今日头条、抖音、西瓜视频……字节跳动的每款App都基于这三个部门来发展。在项目开始时，公司会为每个项目设置虚拟项目组，由三个核心部门抽调人员组成，试水成功后直接推广。所有产品共用一条技术线，快速试错。针对 App 类产品的快速迭代的业务特性，字节跳动依据 DevOps 理念对组织架构进行调整和优化，从结构上保证了技术支持业务创新的能力。</p><h4 id="_13、devops未来的前景和发展趋势如何" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_13、devops未来的前景和发展趋势如何">#</a> 13、DevOps未来的前景和发展趋势如何？</h4><p>DevOps是不断发展的，DevOps的理念在2009年以前就提出来了，从运维开始逐步拓展到开发，<strong>现在谈DevOps已经是从端到端整体的业务形态</strong>。从发展角度来看，有很多的新技术在涌现。</p><p>有两个方面，一个是DevOps的基础框架体系是并没有改变的，依然是以敏捷、精益、轻量级的 ITSM 为基础的，这也是DevOps Master体系中重点强调的。同时也有很多的新技术在发展，在DevOps一开始提出来的时候并没有大量的提到容器或者是Docker这样的技术，但现在容器对环境包括部署，是高 绩效企业中一个不错的选择。同样有现在新兴起来的基于云上的一些方案，比较强调无服务化，service的一些功能都是DevOps技术的体现。</p><p>所以DevOps的核心和基础是没有变化的，是一个很稳定的体系，但在这之上，尤其是在实践和具体技术演进上发展是非常迅速的。</p><figure><img alt="./img" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/v2-7d638490b85d4152093344544462789e_720w-9db1bbc9.png" tabindex="0"/><figcaption>./img</figcaption></figure><h2 id="第三章-gitlab代码托管" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#第三章-gitlab代码托管">#</a> 第三章 GitLab代码托管</h2><h3 id="一、gitlab介绍" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#一、gitlab介绍">#</a> 一、GitLab介绍</h3><p>GitLab是整个DevOps生命周期的第一个应用程序。其使用与GitHub类似，并且提供了许多DevOps相关的功能。GitLab提供无与伦比的可见性，更高的效率和全面的治理。这使得软件生命周期加快了200％，从根本上提高了业务速度。</p><p>官方网站:<a href="https://about.gitlab.com/" rel="noopener noreferrer" target="_blank">https://about.gitlab.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><figure><img alt="image-20230221012901654" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221012901654-82883d13.png" tabindex="0"/><figcaption>image-20230221012901654</figcaption></figure><h3 id="二、gitlab安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#二、gitlab安装">#</a> 二、GitLab安装</h3><h4 id="_1、拉取gitlab镜像" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、拉取gitlab镜像">#</a> 1、拉取Gitlab镜像</h4><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">docker pull gitlab/gitlab-ce:latest<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><figure><img alt="image-20230221013338734" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221013338734-4907810a.png" tabindex="0"/><figcaption>image-20230221013338734</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">docker images<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><figure><img alt="image-20230221013355997" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221013355997-48656aea.png" tabindex="0"/><figcaption>image-20230221013355997</figcaption></figure><h4 id="_2、启动gitlab容器" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、启动gitlab容器">#</a> 2、启动Gitlab容器</h4><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run \<br> -itd  \<br> -p 9980:80 \<br> -p 9922:22 \<br> -v /home/gitlab/etc:/etc/gitlab  \<br> -v /home/gitlab/log:/var/log/gitlab \<br> -v /home/gitlab/opt:/var/opt/gitlab \<br> --restart always \<br> --privileged=<span class="hljs-literal">true</span> \<br> --name gitlab \<br> gitlab/gitlab-ce<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221013614707" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221013614707-bc182c8a.png" tabindex="0"/><figcaption>image-20230221013614707</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text"># 查看docker启动<br>docker ps<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221013636875" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221013636875-a63707e4.png" tabindex="0"/><figcaption>image-20230221013636875</figcaption></figure><h4 id="_3、修改配置" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、修改配置">#</a> 3、修改配置</h4><p>接下来的配置请在容器内进行修改，不要在挂载到宿主机的文件上进行修改。否则可能出现配置更新不到容器内，或者是不能即时更新到容器内，导致gitlab启动成功，但是无法访问</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">#进入容器内部<br>docker exec -it gitlab /bin/bash<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221013720935" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221013720935-3b46a86c.png" tabindex="0"/><figcaption>image-20230221013720935</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">#修改gitlab.rb<br>vi /etc/gitlab/gitlab.rb<br><br>#加入如下<br>#gitlab访问地址，可以写域名。如果端口不写的话默认为80端口<br>external_url &#x27;http://192.168.213.128&#x27; <br>#ssh主机ip<br>gitlab_rails[&#x27;gitlab_ssh_host&#x27;] = &#x27;192.168.213.128&#x27;<br>#ssh连接端口<br>gitlab_rails[&#x27;gitlab_shell_ssh_port&#x27;] = 9922<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221014009146" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014009146-c8f61ea3.png" tabindex="0"/><figcaption>image-20230221014009146</figcaption></figure><p>修改完成之后保存退出即可，由于咱们在<a href="https://so.csdn.net/so/search?q=docker&amp;spm=1001.2101.3001.7020" rel="noopener noreferrer" target="_blank">docker<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中运行，在gitlab上生成的http地址应该是<a href="http://192.168.213.128:9980" rel="noopener noreferrer" target="_blank">http://192.168.213.128:9980<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,所以，要修改下面文件</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text"># 修改http和ssh配置<br>vi /opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml<br><br>  gitlab:<br>    host: 192.168.213.128<br>    port: 9980 # 这里改为9980<br>    https: false<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221014025718" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014025718-acbdbdde.png" tabindex="0"/><figcaption>image-20230221014025718</figcaption></figure><p>修改完成之后保存退出即可，重启gitlab</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">#重启gitlab <br>gitlab-ctl reconfigure<br>gitlab-ctl restart<br>#退出容器 <br>exit<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221014108712" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014108712-a257c4c6.png" tabindex="0"/><figcaption>image-20230221014108712</figcaption></figure><h4 id="_4、浏览器访问" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4、浏览器访问">#</a> 4、浏览器访问</h4><p>路径访问：<a href="http://192.168.213.128:9980/" rel="noopener noreferrer" target="_blank">http://192.168.213.128:9980/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">机器配置要大于4g，否则很容易启动不了，报502<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>第一次访问，会让修改root密码，修改后以root用户登录即可</p><figure><img alt="image-20230221014209012" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014209012-7459c7f9.png" tabindex="0"/><figcaption>image-20230221014209012</figcaption></figure><p>生成默认密码在</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">cd /home/gitlab/etc<br>cat initial_root_password<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img alt="image-20230221014528134" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014528134-3bf58c37.png" tabindex="0"/><figcaption>image-20230221014528134</figcaption></figure><p>登录成功后，进入主页</p><figure><img alt="image-20230221014642587" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014642587-20c5b5bf.png" tabindex="0"/><figcaption>image-20230221014642587</figcaption></figure><p>设置中文</p><p>右上角头像，preferences</p><figure><img alt="image-20230221014803796" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014803796-af781b56.png" tabindex="0"/><figcaption>image-20230221014803796</figcaption></figure><p>刷新页面</p><figure><img alt="image-20230221014843678" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221014843678-ee54132a.png" tabindex="0"/><figcaption>image-20230221014843678</figcaption></figure><h3 id="三、gitlab使用" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#三、gitlab使用">#</a> 三、GitLab使用</h3><h4 id="_1、创建组" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、创建组">#</a> 1、创建组</h4><p>公司中，有很多的项目组，每个组当中很多人员参与这个项目的开发。</p><figure><img alt="image-20230221020055217" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020055217-216cb1f0.png" tabindex="0"/><figcaption>image-20230221020055217</figcaption></figure><p>项目有可见性：</p><p>哪些人可以看到这个群组？ <a href="http://192.168.213.128:9980/help/user/public_access" rel="noopener noreferrer" target="_blank">查看文档<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>私有：群组及其项目只能由成员查看。</li><li>内部：除外部用户外，任何登录用户均可查看该组和任何内部项目。</li><li>公开：群组和任何公共项目可以在没有任何身份验证的情况下查看。</li></ul><figure><img alt="image-20230221020411489" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020411489-3502c534.png" tabindex="0"/><figcaption>image-20230221020411489</figcaption></figure><p>个人首页看到参与了几个组</p><figure><img alt="image-20230221020549090" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020549090-a2e1ecc9.png" tabindex="0"/><figcaption>image-20230221020549090</figcaption></figure><h4 id="_2、创建人" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、创建人">#</a> 2、创建人</h4><p>只有管理员才能创建用户</p><figure><img alt="image-20230221020833266" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020833266-71c9c87d.png" tabindex="0"/><figcaption>image-20230221020833266</figcaption></figure><p>创建新用户： itlils itnanls</p><figure><img alt="image-20230221020926538" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020926538-b17e6ff5.png" tabindex="0"/><figcaption>image-20230221020926538</figcaption></figure><p>修改密码：ydl666666</p><figure><img alt="image-20230221020959868" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221020959868-97f48774.png" tabindex="0"/><figcaption>image-20230221020959868</figcaption></figure><p>用户添加到项目组：</p><figure><img alt="image-20230221021258251" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021258251-8e5b4c01.png" tabindex="0"/><figcaption>image-20230221021258251</figcaption></figure><p>邀请用户：</p><figure><img alt="image-20230221021448779" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021448779-d91b3c92.png" tabindex="0"/><figcaption>image-20230221021448779</figcaption></figure><figure><img alt="image-20230221021456951" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021456951-35d8e92e.png" tabindex="0"/><figcaption>image-20230221021456951</figcaption></figure><h4 id="_3、创建项目" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、创建项目">#</a> 3、创建项目</h4><p>在组里创建项目\仓库</p><figure><img alt="image-20230221021701135" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021701135-7066ed47.png" tabindex="0"/><figcaption>image-20230221021701135</figcaption></figure><figure><img alt="image-20230221021743622" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021743622-3313c358.png" tabindex="0"/><figcaption>image-20230221021743622</figcaption></figure><p>进入到项目组页面，可以看到该项目组已经关联了一个项目</p><figure><img alt="image-20230221021832196" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221021832196-5c56c8aa.png" tabindex="0"/><figcaption>image-20230221021832196</figcaption></figure><h4 id="_4、ssh秘钥设置" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4、ssh秘钥设置">#</a> 4、ssh秘钥设置</h4><p>​ 在gitlab，github上面拷贝代码时，通常用到了git clone ssh://XXX命令。其中ssh指secure shell（一种安全的网络协议），git使用这种协议进行远程加密登录。</p><h5 id="_1-原理" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-原理">#</a> （1）原理</h5><p>SSH登录安全性由非对称加密保证，产生密钥时，一次产生两个密钥，一个公钥，一个<a href="https://so.csdn.net/so/search?q=%E7%A7%81%E9%92%A5&amp;spm=1001.2101.3001.7020" rel="noopener noreferrer" target="_blank">私钥<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，在git中一般命名为id_rsa.pub, id_rsa。</p><p>那么如何使用生成的一个私钥一个公钥进行验证呢？</p><ul><li>本地生成一个密钥对，其中公钥放到远程主机，私钥保存在本地</li><li>当本地主机需要登录远程主机时，本地主机向远程主机发送一个登录请求，远程收到消息后，返回一个随机生成的字符串，本地拿到该字符串，用存放在本地的私钥进行加密，再次发送到远程，远程用之前存放在远程的公钥对本地发送过来加密过的字符串进行解密，如果解密后与源字符串等同，则认证成功。</li></ul><figure><img alt="image-20230221023452481" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221023452481-349d492d.png" tabindex="0"/><figcaption>image-20230221023452481</figcaption></figure><h5 id="_2-特点" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-特点">#</a> （2）特点</h5><ul><li>ssh方式单独使用非对称的秘钥进行认证和加密传输，和账号密码分离开来，不需要账号也可以访问repo。</li><li>生成和管理秘钥有点繁琐，需要管理员添加成员的public key。不能进行匿名访问，ssh不利于对权限进行细分，用户必须具有通过SSH协议访问你主机的权限，才能进行下一步操作，比较适合内部项目</li></ul><h5 id="_3-操作" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-操作">#</a> （3）操作</h5><p>1 输入ssh-keygen -t rsa，连续3次回车，成功之后id_rsa,id_rsa.pub两个文件默认在C:\Users\username/.ssh目录下，cmd运行窗口也显示了文件路径。</p><figure><img alt="image-20230221024630150" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221024630150-4082f56b.png" tabindex="0"/><figcaption>image-20230221024630150</figcaption></figure><figure><img alt="image-20230221024706113" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/WOb4g%2BKU.png" tabindex="0"/><figcaption>image-20230221024706113</figcaption></figure><p>2 id_rsa.pub，复制所有内容</p><figure><img alt="image-20230221024817309" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221024817309-ac06fc4b.png" tabindex="0"/><figcaption>image-20230221024817309</figcaption></figure><p>3 将ssh key填写到gitlab SSH Keys上。</p><figure><img alt="image-20230221024758887" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221024758887-8bad7213.png" tabindex="0"/><figcaption>image-20230221024758887</figcaption></figure><figure><img alt="image-20230221024838892" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221024838892-f0199d40.png" tabindex="0"/><figcaption>image-20230221024838892</figcaption></figure><h4 id="_5、idea操作gitlab" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5、idea操作gitlab">#</a> 5、IDEA操作gitlab</h4><h5 id="_1-idea安装插件-gitlab-projects插件。选择file-settings-plugins-。搜索gitlab。" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-idea安装插件-gitlab-projects插件。选择file-settings-plugins-。搜索gitlab。">#</a> （1）idea安装插件 gitlab projects插件。选择<strong>File -&gt; Settings -&gt; Plugins</strong> 。搜索gitlab。</h5><figure><img alt="image-20230221030734820" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221030734820-0258a3d0.png" tabindex="0"/><figcaption>image-20230221030734820</figcaption></figure><h5 id="_2-设置访问令牌" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-设置访问令牌">#</a> （2）设置访问令牌</h5><p>​ 可以为需要访问GitLab API的每个应用程序生成个人访问令牌。您还可以使用个人访问令牌通过HTTP进行Git验证。 当您启用两步认证(2FA)时，它们将是唯一可接受的密码。idea访问gitlab专属令牌。</p><p>gitlab生成访问令牌。当点击 创建个人访问令牌后，会显示你当前的访问令牌。</p><figure><img alt="image-20230221031028257" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221031028257-1addb63b.png" tabindex="0"/><figcaption>image-20230221031028257</figcaption></figure><p>idea里设置：在Idea中，选择 File -&gt; Settings -&gt; Version Control -&gt; GitLab -&gt; Add a new GitLab Server</p><figure><img alt="image-20230221031131846" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221031131846-6203d506.png" tabindex="0"/><figcaption>image-20230221031131846</figcaption></figure><p>在页面中，配置GitLab中获取到的Token相关信息</p><figure><img alt="image-20230221031231584" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221031231584-6fc14cf2.png" tabindex="0"/><figcaption>image-20230221031231584</figcaption></figure><h5 id="_3-创建简单boot接口项目" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-创建简单boot接口项目">#</a> （3）创建简单boot接口项目</h5><figure><img alt="image-20230221031431699" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221031431699-5676f87d.png" tabindex="0"/><figcaption>image-20230221031431699</figcaption></figure><p>写一个简单的controller</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;demo&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoController</span> &#123;<br><br>    <span class="hljs-meta">@GetMapping(&quot;test&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;successs&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-项目和仓库相关联" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-项目和仓库相关联">#</a> （4）项目和仓库相关联</h5><p>在Idea中，选择<strong>VCS -&gt; import into version control -&gt; create git repository</strong> 。接着选择当前操作的工程目录文件夹即可。</p><figure><img alt="image-20230221031924000" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221031924000-6bd7bc9b.png" tabindex="0"/><figcaption>image-20230221031924000</figcaption></figure><h5 id="_5-文件都变红色-说明项目已经被git管理到了" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5-文件都变红色-说明项目已经被git管理到了">#</a> （5）文件都变红色，说明项目已经被git管理到了</h5><figure><img alt="image-20230221032033568" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221032033568-56837735.png" tabindex="0"/><figcaption>image-20230221032033568</figcaption></figure><h5 id="_6-git-add" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6-git-add">#</a> （6）git add</h5><figure><img alt="image-20230221032126120" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221032126120-91a188a9.png" tabindex="0"/><figcaption>image-20230221032126120</figcaption></figure><p>代码变绿</p><figure><img alt="image-20230221032153782" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/Ow98EoIA.png" tabindex="0"/><figcaption>image-20230221032153782</figcaption></figure><h5 id="_7-git-commit" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7-git-commit">#</a> （7）git commit</h5><figure><img alt="image-20230221032217722" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221032217722-338f63c5.png" tabindex="0"/><figcaption>image-20230221032217722</figcaption></figure><figure><img alt="image-20230221032249777" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221032249777-a7b73508.png" tabindex="0"/><figcaption>image-20230221032249777</figcaption></figure><p>提交成功</p><figure><img alt="image-20230221032346622" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221032346622-f6b012af.png" tabindex="0"/><figcaption>image-20230221032346622</figcaption></figure><h5 id="_8-提交代码到远程仓库" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8-提交代码到远程仓库">#</a> （8）提交代码到远程仓库</h5><p>git push</p><figure><img alt="image-20230221033820305" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221033820305-903d3073.png" tabindex="0"/><figcaption>image-20230221033820305</figcaption></figure><p>设置远程仓库地址</p><figure><img alt="image-20230221033912263" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221033912263-469257ac.png" tabindex="0"/><figcaption>image-20230221033912263</figcaption></figure><figure><img alt="image-20230221043723751" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221043723751-a25a0859.png" tabindex="0"/><figcaption>image-20230221043723751</figcaption></figure><p>地址从gitlab获取</p><figure><img alt="image-20230221043702495" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221043702495-5f4e1aa2.png" tabindex="0"/><figcaption>image-20230221043702495</figcaption></figure><p>注意：owner角色可以设置默认分支为master</p><p><img alt="image-20230221043501147" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221043501147-9fa037fe.png"/>推送失败：</p><p>因为本地项目新建的，<a href="http://xn--readme-hu8ig98h85pho7bjf0c.md" rel="noopener noreferrer" target="_blank">远程仓库有readme.md<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>所以 <a href="http://xn--1readme-e74kj9vvt7ajb9cs3iop5e1dt.md" rel="noopener noreferrer" target="_blank">1删除远程仓库的readme.md<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>​ 2本地代码使用cmd输入 git pull origin master --allow-unrelated-histories</p><p>​ <img alt="image-20230221044811664" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221044811664-b141b642.png"/></p><p>就可以推送成功了。</p><h5 id="_9-工作中代码创建流程" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_9-工作中代码创建流程">#</a> （9）工作中代码创建流程</h5><p>新人入职公司，组长告诉你gitlab地址,拉下来开发吧。</p><p>1 远程克隆项目</p><figure><img alt="image-20230221045333654" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045333654-9ec8683c.png" tabindex="0"/><figcaption>image-20230221045333654</figcaption></figure><p>2 开发，写一些简单接口代码</p><figure><img alt="image-20230221045445640" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045445640-84133db8.png" tabindex="0"/><figcaption>image-20230221045445640</figcaption></figure><p>3 每天，晚上下班前 commit push</p><figure><img alt="image-20230221045531240" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045531240-16ff2760.png" tabindex="0"/><figcaption>image-20230221045531240</figcaption></figure><figure><img alt="image-20230221045603138" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045603138-fd731045.png" tabindex="0"/><figcaption>image-20230221045603138</figcaption></figure><p>成功了</p><figure><img alt="image-20230221045627544" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045627544-709d5a7e.png" tabindex="0"/><figcaption>image-20230221045627544</figcaption></figure><p>4 第二天刚来公司，pull代码</p><p>昨晚可能别人更新过代码了</p><figure><img alt="image-20230221045924915" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221045924915-bff11d2e.png" tabindex="0"/><figcaption>image-20230221045924915</figcaption></figure><h5 id="_10-gitignore插件" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_10-gitignore插件">#</a> （10）gitignore插件</h5><figure><img alt="image-20230221050146951" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221050146951-0f9a8974.png" tabindex="0"/><figcaption>image-20230221050146951</figcaption></figure><p>方便的文件加入忽略名单</p><figure><img alt="image-20230221050200880" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/wFvQPr2y.png" tabindex="0"/><figcaption>image-20230221050200880</figcaption></figure><h5 id="_11-代码冲突" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_11-代码冲突">#</a> （11）代码冲突</h5><p>​ 真实的开发中，如果多个人共同开发一个模块，很容易出现代码冲突的问题。模拟解决一下。</p><p>1 小张下午5点提交了代码</p><figure><img alt="image-20230221050944616" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221050944616-68a26cf3.png" tabindex="0"/><figcaption>image-20230221050944616</figcaption></figure><p>2 晚上8点，小李也要提交</p><figure><img alt="image-20230221051012335" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051012335-14aba6c4.png" tabindex="0"/><figcaption>image-20230221051012335</figcaption></figure><p>3 小李一推送，拒绝，发生了代码冲突</p><figure><img alt="image-20230221051132071" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051132071-d9147388.png" tabindex="0"/><figcaption>image-20230221051132071</figcaption></figure><p>4 选择merge合并代码</p><figure><img alt="image-20230221051226840" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051226840-a038abb8.png" tabindex="0"/><figcaption>image-20230221051226840</figcaption></figure><p>真实工作中，不能简单的选择接受我的还是远程的，几百个文件。所以多个人一起讨论。</p><figure><img alt="image-20230221051435549" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051435549-3fbfa300.png" tabindex="0"/><figcaption>image-20230221051435549</figcaption></figure><p>可以选择接受谁的打码。但是真实工作里，多个文件的合并需要组长来定夺。</p><figure><img alt="image-20230221051701911" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051701911-d3c4698a.png" tabindex="0"/><figcaption>image-20230221051701911</figcaption></figure><figure><img alt="image-20230221051727186" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051727186-ae18fcc8.png" tabindex="0"/><figcaption>image-20230221051727186</figcaption></figure><p>先pull,再push，没问题了</p><figure><img alt="image-20230221051818257" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051818257-3cad9a48.png" tabindex="0"/><figcaption>image-20230221051818257</figcaption></figure><p>远程改好了</p><figure><img alt="image-20230221051849950" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221051849950-7fc4d7f6.png" tabindex="0"/><figcaption>image-20230221051849950</figcaption></figure><h5 id="_12-版本回退" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_12-版本回退">#</a> （12）版本回退</h5><p>1 查看历史版本</p><p>git-show history</p><figure><img alt="image-20230221054241022" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054241022-b879b639.png" tabindex="0"/><figcaption>image-20230221054241022</figcaption></figure><p>整个提交的时间，流程图，提交人，备注</p><figure><img alt="image-20230221054259956" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054259956-73bd1498.png" tabindex="0"/><figcaption>image-20230221054259956</figcaption></figure><p>2 回退到指定的版本</p><p>如要回退到某一个特定历史版本，右键要回退的版本 -&gt; Copy Revision Number。</p><ul><li><p>当前版本提交：cd3baa3d0d0d17493604d2179e58ac783ca9f2ea</p><figure><img alt="image-20230221054440053" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054440053-0ef85e9d.png" tabindex="0"/><figcaption>image-20230221054440053</figcaption></figure></li><li><p>要回退到的提交版本：f20b96677ed86223dd39cf3dfad430a68e865155</p></li></ul><p>在打开页面中，Reset Type 选择 Hard ，to commit 输入被回退的版本号。接着点击Reset即可。</p><figure><img alt="image-20230221054625005" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/tB3IRUoo.png" tabindex="0"/><figcaption>image-20230221054625005</figcaption></figure><figure><img alt="image-20230221054649180" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054649180-1e7f4618.png" tabindex="0"/><figcaption>image-20230221054649180</figcaption></figure><figure><img alt="image-20230221054719078" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054719078-58d048c5.png" tabindex="0"/><figcaption>image-20230221054719078</figcaption></figure><p>此时可以发现，本地项目中的内容已经回退到了初始化版本内容。</p><p>现在push,代码冲突。</p><figure><img alt="image-20230221054801300" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054801300-43882b24.png" tabindex="0"/><figcaption>image-20230221054801300</figcaption></figure><p>这是因为本地和远程仓库出现冲突引起的，此时点击 cancel。接着重新 右键项目 -&gt; Git -&gt;Repository -&gt; Reset HEAD。在页面中 对于 Reset Type 选择Mixed，to Commit：输入之前记录的current version。点击 Reset。接着重新进行本地和远程仓库提交操作，即可完成提交更新。查看GitLab内容如下。刚刚已经发生了一次更新。</p><p>继续reset HEAD</p><figure><img alt="image-20230221054625005" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/tB3IRUoo.png" tabindex="0"/><figcaption>image-20230221054625005</figcaption></figure><figure><img alt="image-20230221054914335" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221054914335-dc681412.png" tabindex="0"/><figcaption>image-20230221054914335</figcaption></figure><p>强力方法（不推荐） ：不解决，直接强制提交 打开Terminal，切换到项目所在目录 ，执行：git push -f</p><h5 id="_13-分支" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_13-分支">#</a> （13）分支</h5><p>拓展阅读：git 工作流</p><p><strong>a.介绍分支</strong></p><figure><img alt="image-20230221060614372" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060614372-8a956e58.png" tabindex="0"/><figcaption>image-20230221060614372</figcaption></figure><p>现在的操作都是对主分支操作，在工作中非常危险。</p><p>在实际项目开发中，对于master这条主分支，一般是不会让程序员随意操作的，在master这条主分支上的代码一般都是一个项目的稳定版本的功能代码，在开发的过程中，一般会另外开启一个分支，开发人员对于功能代码的提交会提交到开发分支上，当功能开发完成，在由开发分支合并到主分支，这样既有利于多人协作开发，也可以减少冲突问题的出现。</p><p>​ 在项目开发的过程中，如临时修改BUG、开发不确定是否上线的功能等，都可以创建一个分支，等待合适的时机再合并到主干master。</p><ul><li>master主分支，代表的是项目线上的最新代码。</li><li>dev分支：开发接到任务的时候，需要checkout检出一些分支来，功能实现了，合并到主分支上。</li></ul><p><strong>b.创建分支</strong></p><p>打开Idea，选择<strong>Git -&gt; Repository -&gt; Branches</strong>。选择 <strong>new Branch</strong>。即可创建一个新分支。</p><figure><img alt="image-20230221060701299" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060701299-d48075e5.png" tabindex="0"/><figcaption>image-20230221060701299</figcaption></figure><p>在弹出页面，输入新分支名称，此处叫做 dev_xiaoli。默认已经勾选了 checkout branch。代表切换到这个分支。</p><figure><img alt="image-20230221060728859" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060728859-def0bc00.png" tabindex="0"/><figcaption>image-20230221060728859</figcaption></figure><figure><img alt="image-20230221060742907" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060742907-1bb8c9ba.png" tabindex="0"/><figcaption>image-20230221060742907</figcaption></figure><p>在自己的分支开发功能，提交代码到远程。</p><figure><img alt="image-20230221060853727" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060853727-6293f890.png" tabindex="0"/><figcaption>image-20230221060853727</figcaption></figure><p>当进行push 时， 可以看到，当前正在使用dev_xiaoli分支。</p><figure><img alt="image-20230221060907804" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060907804-67478065.png" tabindex="0"/><figcaption>image-20230221060907804</figcaption></figure><p>远程也有了dev_xiaoli分支</p><figure><img alt="image-20230221060933682" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221060933682-dfa11184.png" tabindex="0"/><figcaption>image-20230221060933682</figcaption></figure><p><strong>c.切换分支</strong></p><p>当存在多分支时，有时还需要去选择不同的分支进行操作，现在处于dev分支，要想重新切换回master分支。</p><p>右键当前项目 -&gt; Git -&gt; Repository -&gt; Branches -&gt; 选择对应分支即可。</p><figure><img alt="image-20230221061011466" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061011466-3130f498.png" tabindex="0"/><figcaption>image-20230221061011466</figcaption></figure><figure><img alt="image-20230221061023300" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061023300-0bb868f4.png" tabindex="0"/><figcaption>image-20230221061023300</figcaption></figure><p><strong>d.合并分支</strong></p><p>写完了一些业务逻辑之后，没问题了，要把这个功能上线。需要把dev分支合并到主分支上，操作比较危险，是小组长做的。</p><p>master修改</p><figure><img alt="image-20230221061246228" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061246228-460960ff.png" tabindex="0"/><figcaption>image-20230221061246228</figcaption></figure><p>小李修改</p><p>合并请求，可以在页面，也可以再idea里merge</p><figure><img alt="image-20230221061541725" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061541725-5abe0766.png" tabindex="0"/><figcaption>image-20230221061541725</figcaption></figure><figure><img alt="image-20230221061617708" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061617708-80ff535f.png" tabindex="0"/><figcaption>image-20230221061617708</figcaption></figure><p>在master分支操作，把dev的改动合并到master上。</p><p>上面遇到代码冲突一样了，思路与普通代码冲突一样，沟通协调，修改什么，保留什么等。</p><figure><img alt="image-20230221061714977" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221061714977-726fb8a5.png" tabindex="0"/><figcaption>image-20230221061714977</figcaption></figure><p>继续尝试合并</p><figure><img alt="image-20230221062006867" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221062006867-26766772.png" tabindex="0"/><figcaption>image-20230221062006867</figcaption></figure><p>最后推送master到远程</p><figure><img alt="image-20230221062158667" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221062158667-fbed4df5.png" tabindex="0"/><figcaption>image-20230221062158667</figcaption></figure><p><strong>e.删除分支</strong></p><p>分支代码合并到主分支之后，他就没有存在的意义了，可以删除掉。一般是组长来做。</p><p>可以在页面做，也可以在idea里做。</p><figure><img alt="image-20230221062316539" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221062316539-aa51f15a.png" tabindex="0"/><figcaption>image-20230221062316539</figcaption></figure><figure><img alt="image-20230221062944665" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221062944665-984d2516.png" tabindex="0"/><figcaption>image-20230221062944665</figcaption></figure><h2 id="第四章-jenkins持续集成-ci-cd" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#第四章-jenkins持续集成-ci-cd">#</a> 第四章 Jenkins持续集成（CI/CD）</h2><h3 id="一、持续集成相关概念" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#一、持续集成相关概念">#</a> 一、持续集成相关概念</h3><h4 id="_1、持续集成和持续交付" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、持续集成和持续交付">#</a> 1、持续集成和持续交付</h4><p>持续集成（continuous integration，CI）是一系列软件开发实践，在这一系列软件开发实践中，团队成员在短时间内将他们的更改集成到存储库中，以检测可能的错误并分析他们创建的软件质量。这是通过使用包含执行测试代码的自动持续代码检查（构建）来实现的。</p><p>另一方面，持续交付（continuous delivery，CD）是一种软件开发实践，在这种实践中，交付软件的流程是自动化的，允许在生产环境中进行短期交付。</p><p>当我们将这些流程应用到我们的微服务架构时，一定要记住，永远不应该有一个集成和发布到生产环境的“等待列表”。例如，负责服务X的团队必须能够在任何时候将更改发布到生产环境中，而不必等待其他服务的发布。图A展示了与多个团队合作时，我们的CI/CD流程应该是什么样子的高层图。</p><figure><img alt="image-20230221063058016" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221063058016-48c2f6f3.png" tabindex="0"/><figcaption>image-20230221063058016</figcaption></figure><p>测试环境和交付准备环境的微服务CI/CD流程。在该图中，每个团队都有自己的源代码存储库、单元测试和集成测试、镜像存储库以及部署流程。这使得各个团队在部署和发布新的版本时无须等待其他发布</p><h4 id="_2、持续部署与持续交付" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、持续部署与持续交付">#</a> 2、<strong>持续部署与持续交付</strong></h4><p>很多人认为，持续部署（continuous deployment）是持续交付（continuous delivery）的进阶状态，是指代码提交后一旦成功通过所有质量验证，就立即自动部署到生产环境中，不需要任何人的审批。事实上，“部署”与“交付”这两个主干词的意义并不相同。</p><p>“部署”是一种技术领域的操作，也就是说，从某处获取软件包，并按照预先设计的方案将其安装到计算节点上，并确保系统可以正常启动，但它并不一定意味着“必须包含业务功能的发布或交付”。“交付”则是一个业务决策活动，通常也被称为“发布”，也就是说，如果将新构建的特性交付到客户（用户）手中，用户就可以看到并使用它们。</p><p>之所以“部署”与“发布”几乎成为等价词，是历史原因造成的。很久以前，软件的发布周期较长，每次新功能部署之后就会立即发布。久而久之，“部署”就成了“发布”的代名词。为了保证软件质量，IT部门通常不允许无关代码（即与本次发布新特性集合无关，例如未开发完成的功能、不完善的功能集）被带到生产环境中。因此，每次部署就一定是重大功能的发布。</p><h3 id="二、jenkins使用说明" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#二、jenkins使用说明">#</a> 二、Jenkins使用说明</h3><figure><img alt="image-20230221073100942" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221073100942-31d9262a.png" tabindex="0"/><figcaption>image-20230221073100942</figcaption></figure><p>Jenkins是一个开源的、可扩展的持续集成、交付、部署（软件/代码的编译、打包、部署）的基于web界面的平台。允许持续集成和持续交付项目，无论用的是什么平台，可以处理任何类型的构建或持续集成。</p><p>官网：<a href="https://www.jenkins.io/zh/" rel="noopener noreferrer" target="_blank">https://www.jenkins.io/zh/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>官方文档：<a href="https://jenkins.io/doc/" rel="noopener noreferrer" target="_blank">https://jenkins.io/doc/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="_1、前置软件安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、前置软件安装">#</a> 1、前置软件安装</h4><p>我这里使用的是 CentOS7+jdk11+maven3.5.4+jenkins2.362+git236，进行介绍 <code>jenkins的安装与使用</code>，在进行安装之前，服务器必须装好 <code>jdk11</code> / <code>maven3.6.2</code> / <code>git236</code>,并且配置好环境变量，并且 <code>springboot项目的 pom</code>文件中 maven 插件必须指定版本：</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework.boot<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-boot-maven-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>executions<span class="hljs-symbol">&amp;gt;</span><br>      <span class="hljs-symbol">&amp;lt;</span>execution<span class="hljs-symbol">&amp;gt;</span><br>         <span class="hljs-symbol">&amp;lt;</span>goals<span class="hljs-symbol">&amp;gt;</span><br>             <span class="hljs-symbol">&amp;lt;</span>goal<span class="hljs-symbol">&amp;gt;</span>repackage<span class="hljs-symbol">&amp;lt;</span>/goal<span class="hljs-symbol">&amp;gt;</span><br>         <span class="hljs-symbol">&amp;lt;</span>/goals<span class="hljs-symbol">&amp;gt;</span><br>      <span class="hljs-symbol">&amp;lt;</span>/execution<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/executions<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="jdk安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#jdk安装">#</a> jdk安装</h5><p>首先查看是否有安装，有安装就卸载jdk</p><div class="language-ruby line-numbers-mode" data-ext="rb"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight ruby"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment"># 查找系统是否安装jdk(root下操作)：</span><br>rpm -qa|<span class="hljs-params">grep jdk 或者 rpm -qa</span>|grep java<br><span class="hljs-comment"># 卸载已安装的jdk：</span><br>yum -y remove java-<span class="hljs-number">1.8</span>.<span class="hljs-number">0</span>*<br>yum -y remove tzdata-java.noarch<br>yum -y remove javapackages-tools.noarch<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后开始安装jdk11</p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum -y install gcc gcc-c++ autoconf pcre pcre-devel make automake<br>yum search jdk <span class="hljs-comment"># 搜索一下列表</span><br>yum -y install java-11-openjdk java-11-openjdk-devel<br><br>vi /etc/profile<br><br><span class="hljs-comment">#加入</span><br>JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.18.0.10-1.el7_9.x86_64<br>JRE_HOME=<span class="hljs-variable">$JAVA_HOME</span>/jre<br>CLASS_PATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools.jar:<span class="hljs-variable">$JRE_HOME</span>/lib<br>PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$JRE_HOME</span>/bin<br><span class="hljs-built_in">export</span> JAVA_HOME JRE_HOME CLASS_PATH PATH<br><br><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="maven安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#maven安装">#</a> maven安装</h5><p>直接去官网下载，并配置好阿里云镜像，修改仓库路径</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"># 修改仓库路径<br><span class="hljs-symbol">&amp;lt;</span>localRepository<span class="hljs-symbol">&amp;gt;</span>/usr/local/maven/repo<span class="hljs-symbol">&amp;lt;</span>/localRepository<span class="hljs-symbol">&amp;gt;</span><br><br># 配置阿里镜像<br><span class="hljs-symbol">&amp;lt;</span>mirror<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>id<span class="hljs-symbol">&amp;gt;</span>alimaven<span class="hljs-symbol">&amp;lt;</span>/id<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mirrorOf<span class="hljs-symbol">&amp;gt;</span>central<span class="hljs-symbol">&amp;lt;</span>/mirrorOf<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>name<span class="hljs-symbol">&amp;gt;</span>aliyun maven<span class="hljs-symbol">&amp;lt;</span>/name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url<span class="hljs-symbol">&amp;gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="hljs-symbol">&amp;lt;</span>/url<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/mirror<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后配置好环境变量</p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &amp;gt; /etc/profile.d/mvn.sh &amp;lt;&amp;lt;EOF<br><span class="hljs-built_in">export</span> MAVEN_HOME=/usr/local/maven/apache-maven-3.3.9<br><span class="hljs-built_in">export</span> PATH=\<span class="hljs-variable">$PATH</span>:\<span class="hljs-variable">$MAVEN_HOME</span>/bin<br>EOF<br><span class="hljs-built_in">source</span> /etc/profile.d/mvn.sh<br><br>或者，因为上面的方式再次链接服务器时，maven环境变量会失效，下面不会<br>vi /etc/profile 末尾追加<br><span class="hljs-built_in">export</span> MAVEN_HOME=/usr/local/maven/apache-maven-3.3.9<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$MAVEN_HOME</span>/bin<br><span class="hljs-comment"># 重加载</span><br><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="git2-36安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#git2-36安装">#</a> git2.36安装</h5><div class="language-ruby line-numbers-mode" data-ext="rb"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight ruby"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby">yum install <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/repo.ius.io/ius</span>-release-el7.rpm <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/dl.fedoraproject.org/pub</span><span class="hljs-regexp">/epel/epel</span>-release-latest-<span class="hljs-number">7</span>.noarch.rpm<br><br>yum -y install git236<br><br>git version<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>出现git版本，说明git安装完成。</p><h4 id="_2、jenkins安装" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、jenkins安装">#</a> 2、jenkins安装</h4><p>1 官网下载war包<a href="https://updates.jenkins.io/download/war/,%E6%88%91%E8%BF%99%E9%87%8C%E4%B8%8B%E8%BD%BD%E7%9A%84%E6%98%AF2.391%E7%89%88%E6%9C%AC%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90%E8%BF%9B%E8%A1%8C%EF%BC%8C%E4%B8%8A%E4%BC%A0%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E5%90%AF%E5%8A%A8" rel="noopener noreferrer" target="_blank">https://updates.jenkins.io/download/war/,我这里下载的是2.391版本，下载完成进行，上传到服务器进行启动<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-css line-numbers-mode" data-ext="css"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight css"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">nohup java -jar jenkins<span class="hljs-selector-class">.war</span> <span class="hljs-attr">--httpPort</span>=<span class="hljs-number">8000</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>2 启动完成,浏览器访问<code>ip:端口</code>,端口默认是8000</p><figure><img alt="image-20230221092138686" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221092138686-7d8b0acb.png" tabindex="0"/><figcaption>image-20230221092138686</figcaption></figure><figure><img alt="image-20230221092424258" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221092424258-718de74b.png" tabindex="0"/><figcaption>image-20230221092424258</figcaption></figure><p>3 linux查找密码</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">cat /root/.jenkins/secrets/initialAdminPassword<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><figure><img alt="image-20230221092459126" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221092459126-c849aa98.png" tabindex="0"/><figcaption>image-20230221092459126</figcaption></figure><p>4 进行安装插件</p><p>打开 <code>/root/.jenkins/hudson.model.UpdateCenter.xml</code>,内容替换</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&#x27;1.1&#x27; encoding=&#x27;UTF-8&#x27;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>sites<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>site<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>id<span class="hljs-symbol">&amp;gt;</span>default<span class="hljs-symbol">&amp;lt;</span>/id<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url<span class="hljs-symbol">&amp;gt;</span>https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json<span class="hljs-symbol">&amp;lt;</span>/url<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>/site<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/sites<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再删除文件(<code>/root/.jenkins/updates/default.json，因为会先查找default.json中配置的插件镜像下载地址，没有才会去找hudson.model.UpdateCenter.xml中配置的镜像地址</code>)，如果插件版本不对应，需要去<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fupdates.jenkins-ci.org%2Fdownload%2Fplugins%2F" rel="noopener noreferrer" target="_blank">插件网站下载对应版本<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的插件在上传 <code>/root/.jenkins/plugins/</code>下，然后点击 <code>Manage Plugins -&gt; 高级(最后一项)，选择本地文件，点击 deploy，ok搞定</code></p><p>建议一次下完所有依赖的插件，手动一个个装完。如果嫌弃麻烦。就在最开始的时候，选择 jenkins 推荐安装的插件，这样就不会出现依赖版本冲突的问题。安装推荐的插件。</p><figure><img alt="image-20230221092758410" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221092758410-31fb1d99.png" tabindex="0"/><figcaption>image-20230221092758410</figcaption></figure><p>然后重启 jenkins 继续填入初始密码与设置jenkins账号密码</p><figure><img alt="image-20230221093351906" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221093351906-6ecf68c9.png" tabindex="0"/><figcaption>image-20230221093351906</figcaption></figure><figure><img alt="image-20230221093423644" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221093423644-b4460408.png" tabindex="0"/><figcaption>image-20230221093423644</figcaption></figure><p>注意：当前使用jenkins构建build的时候会在jenkins的根目录/root/.jenkins/下生成一个workspace文件夹,里面存放拉取下来的项目,并且打包后的jar包也在这里，jenkins配置build构建时的 pom 路径就得填写这文件夹下的项目里的pom，然后打包完后，将打包的jar包复制到我们预先创建的项目名称，流程思路就是如此这样。</p><figure><img alt="image-20230221093447385" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221093447385-e0002d3e.png" tabindex="0"/><figcaption>image-20230221093447385</figcaption></figure><p>安装额外的插件：登录进入首页选择菜单 <code>Manage Plugins</code> 进入安装 <code>maven插件 ：Maven Integration</code>进行安装完成后，就可以创建一个 maven项目，进行配置。</p><figure><img alt="image-20230221094049467" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221094049467-b05c952e.png" tabindex="0"/><figcaption>image-20230221094049467</figcaption></figure><h4 id="_3、jenkins-配置" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3、jenkins-配置">#</a> 3、jenkins 配置</h4><figure><img alt="image-20230221093714686" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221093714686-d8cc3798.png" tabindex="0"/><figcaption>image-20230221093714686</figcaption></figure><figure><img alt="image-20230221093858740" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221093858740-f6b9e569.png" tabindex="0"/><figcaption>image-20230221093858740</figcaption></figure><p>jdk设置：</p><figure><img alt="image-20230221094520864" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221094520864-81d4bb9b.png" tabindex="0"/><figcaption>image-20230221094520864</figcaption></figure><p>git设置</p><figure><img alt="image-20230221094623606" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221094623606-4f01a94e.png" tabindex="0"/><figcaption>image-20230221094623606</figcaption></figure><p>maven 插件设置</p><figure><img alt="image-20230221094659367" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221094659367-36b232a8.png" tabindex="0"/><figcaption>image-20230221094659367</figcaption></figure><h4 id="_4、构建一个item" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4、构建一个item">#</a> 4、构建一个item</h4><h5 id="_1-准备工作" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-准备工作">#</a> （1）准备工作：</h5><p>步骤1：创建空的文件夹(一般以项目命名,如 mkdir /ydlweb-bakend) 步骤2：<a href="http://xn--start-fg1hqcvmn9d88nca626mtkgfrwea149xm69d.sh" rel="noopener noreferrer" target="_blank">在创建的文件夹下创建一个start.sh<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>APP_NAME=ydlweb-bakend-0.0.1-SNAPSHOT.jar <span class="hljs-comment"># 名称自定义,需要修改</span><br>PORT=8081 <span class="hljs-comment"># 端口自定义,需要修改</span><br>PROJECT_PATH=$(<span class="hljs-built_in">cd</span> `<span class="hljs-built_in">dirname</span> <span class="hljs-variable">$0</span>`; <span class="hljs-built_in">pwd</span>) <span class="hljs-comment">#当前文件夹名称,不需要修改</span><br><br><span class="hljs-keyword">if</span> [ -f <span class="hljs-string">&quot;<span class="hljs-variable">$APP_NAME</span>&quot;</span> ];<span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">rm</span> -rf <span class="hljs-variable">$APP_NAME</span><br><span class="hljs-keyword">fi</span><br><br>pid=`ps -ef|grep <span class="hljs-variable">$APP_NAME</span>|grep -v grep|awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span> `<br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;pid&#125;</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">kill</span> -9 <span class="hljs-variable">$pid</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># 注意 j-demo 名称需要自行修改成你自己创建的名称</span><br><span class="hljs-built_in">cp</span> /root/.jenkins/workspace/ydlwebtest/target/<span class="hljs-variable">$APP_NAME</span> <span class="hljs-variable">$PROJECT_PATH</span>/<br><br><span class="hljs-built_in">nohup</span> java -server -Xms512m -Xmx512m -Xmn128m -jar <span class="hljs-variable">$APP_NAME</span> &amp;gt; <span class="hljs-variable">$PROJECT_PATH</span>/nohup.out 2&amp;gt;&amp;amp;1 &amp;amp;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>构建起名</p><figure><img alt="image-20230221095053607" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221095053607-12635028.png" tabindex="0"/><figcaption>image-20230221095053607</figcaption></figure><p>勾选<code>Discard old builds(丢弃旧版本)： Days to keep builds (保留构建的天数1) / Max # of builds to keep5(要保留的最大构建数5)</code></p><figure><img alt="image-20230221095852342" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221095852342-e95f8cd6.png" tabindex="0"/><figcaption>image-20230221095852342</figcaption></figure><h5 id="item的源码" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#item的源码">#</a> item的源码</h5><figure><img alt="image-20230221095703128" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221095703128-65ffb639.png" tabindex="0"/><figcaption>image-20230221095703128</figcaption></figure><figure><img alt="image-20230221095359657" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221095359657-990277e4.png" tabindex="0"/><figcaption>image-20230221095359657</figcaption></figure><h5 id="build-triggers-构建触发器" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#build-triggers-构建触发器">#</a> Build Triggers(构建触发器)</h5><p>勾选 <code>Build whenever a SNAPSHOT dependency is built(构建 SNAPSHOT 依赖项时构建) -&gt; Schedule build when some upstream has no successful builds(当某些上游没有成功构建时安排构建)</code></p><figure><img alt="image-20230221095959335" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221095959335-41f3b57c.png" tabindex="0"/><figcaption>image-20230221095959335</figcaption></figure><h5 id="build-构建" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#build-构建">#</a> Build(构建)</h5><ul><li>1.配置pom位置：<code>/root/.jenkins/workspace/填写的工程名(填写的jenkins工程名称),如：/root/.jenkins/workspace/ydlweb-bakend</code></li><li>2.Goals and options(目标和选项)：<code>clean package -Dmaven.test.skip=true</code>,<code>**注意**：前面不能有 mvn</code>，还需要注意的是如果是聚合工程，则只需要打包依赖的工程<code>clean install -pl j-demo -am -amd -Ptest -Dmaven.test.skip=true</code>，这条命令只会打包 <code>j-demo依赖的工程与j-demo工程</code>。</li></ul><figure><img alt="image-20230221100232882" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221100232882-e3f60d0c.png" tabindex="0"/><figcaption>image-20230221100232882</figcaption></figure><h5 id="post-steps-发布步骤" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#post-steps-发布步骤">#</a> Post Steps(发布步骤)</h5><ul><li><p>1.选择 <code>Run only if build succeeds(仅在构建成功时运行)</code></p></li><li><p>2.Add post-build step(添加构建后步骤),选择 shell.sh脚本</p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /ydlweb-bakend <span class="hljs-comment">#必须设置,否则nohup.out日志文件不能生成</span><br><span class="hljs-built_in">chmod</span> 777 /ydlweb-bakend/start.sh<br>sh start.sh<br>BUILD_ID=dontKillMe /ydlweb-bakend/start.sh<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>说明：ydlweb-bakend是事先创建好的目录，并且目录下创建一个<code>start.sh</code>脚本，内容就是上边<code>步骤2</code>的脚本内容 其他 <code>Build Environment(构建环境) / Pre Steps(预步骤)</code> 等等不用填。</p><p>最后工程创建成功，就可以点击进去再点击 <code>Build Now</code> 进行立即构建。</p><figure><img alt="image-20230221104715527" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221104715527-26c79131.png" tabindex="0"/><figcaption>image-20230221104715527</figcaption></figure><p>查看构建日志</p><figure><img alt="image-20230221105022815" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221105022815-21534d43.png" tabindex="0"/><figcaption>image-20230221105022815</figcaption></figure><p>最后说明一下：当使用jenkins构建build的时候会在jenkins的根目录/root/.jenkins/下生成一个workspace文件夹,里面存放拉取下来的项目。</p><p>最终项目上线了</p><figure><img alt="image-20230221105254361" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221105254361-66372481.png" tabindex="0"/><figcaption>image-20230221105254361</figcaption></figure><h4 id="_5、gitlab触发构建" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5、gitlab触发构建">#</a> 5、GitLab触发构建</h4><h5 id="_1-安装-generic-webhook-trigger-插件" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-安装-generic-webhook-trigger-插件">#</a> （1）安装 Generic Webhook Trigger 插件</h5><figure><img alt="image-20230221112358251" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221112358251-90fc1fbf.png" tabindex="0"/><figcaption>image-20230221112358251</figcaption></figure><h5 id="_2-配置构建" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-配置构建">#</a> （2）配置构建</h5><figure><img alt="image-20230221114631522" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221114631522-06274ac6.png" tabindex="0"/><figcaption>image-20230221114631522</figcaption></figure><figure><img alt="image-20230221114644973" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221114644973-cd6de5b9.png" tabindex="0"/><figcaption>image-20230221114644973</figcaption></figure><h5 id="_3-gitlab-配置项目集成钩子-并绑定-webhook" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-gitlab-配置项目集成钩子-并绑定-webhook">#</a> （3） Gitlab 配置项目集成钩子，并绑定 webhook</h5><p>1仓库的owner才能设置项目的webhook，切换到root</p><p>2配置只有master被push了，才发出请求</p><figure><img alt="image-20230221114938632" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221114938632-666b74a9.png" tabindex="0"/><figcaption>image-20230221114938632</figcaption></figure><p>注意：新版本的gitlab不允许往本地发钩子</p><figure><img alt="image-20230221115050743" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115050743-3d3e8291.png" tabindex="0"/><figcaption>image-20230221115050743</figcaption></figure><p>管理员设置一下</p><figure><img alt="image-20230221115208817" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115208817-a6b58cd6.png" tabindex="0"/><figcaption>image-20230221115208817</figcaption></figure><h5 id="_4-修改启动脚本-使得项目重启先听后起-start-sh" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-修改启动脚本-使得项目重启先听后起-start-sh">#</a> （4）修改启动脚本，使得项目重启先听后起 <a href="http://start.sh" rel="noopener noreferrer" target="_blank">start.sh<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><br>PROJECT_PATH=/root/.jenkins/workspace/ydlwebtest/target/<br>PROJECT_NAME=ydlweb-bakend-0.0.1-SNAPSHOT.jar<br><span class="hljs-comment"># stop process</span><br>tpid=`ps -ef|grep <span class="hljs-variable">$PROJECT_NAME</span>|grep -v grep|grep -v <span class="hljs-built_in">kill</span>|awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span>`<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;tpid&#125;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;Stop Process...&#x27;</span><br>    <span class="hljs-comment"># 是先关闭和其有关的程序,再将其关闭</span><br>    <span class="hljs-built_in">kill</span> -15 <span class="hljs-variable">$tpid</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-built_in">sleep</span> 5<br><br>tpid=`ps -ef|grep <span class="hljs-variable">$PROJECT_NAME</span>|grep -v grep|grep -v <span class="hljs-built_in">kill</span>|awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span>`<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;tpid&#125;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;Kill Process!&#x27;</span><br>    <span class="hljs-built_in">kill</span> -9 <span class="hljs-variable">$tpid</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;Stop Success!&#x27;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># start process</span><br>tpid=`ps -ef|grep <span class="hljs-variable">$PROJECT_NAME</span>|grep -v grep|grep -v <span class="hljs-built_in">kill</span>|awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span>`<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;tpid&#125;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;App is already running.&#x27;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;App is NOT running.&#x27;</span><br><br>    <span class="hljs-built_in">nohup</span> java -jar $PROJECT_PATH<span class="hljs-variable">$PROJECT_NAME</span> &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;<br>    <span class="hljs-built_in">echo</span> Start Success!<br>    <span class="hljs-built_in">sleep</span> 2<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-测试下wehhook" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5-测试下wehhook">#</a> （5）测试下wehhook</h5><p>还在刚刚配置gitlab 的集成配置页面，找到webhook 列表，点击 下拉选项里的 Push events</p><figure><img alt="image-20230221115541046" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115541046-32bc0d36.png" tabindex="0"/><figcaption>image-20230221115541046</figcaption></figure><figure><img alt="image-20230221115524996" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115524996-05b8171a.png" tabindex="0"/><figcaption>image-20230221115524996</figcaption></figure><p>可以看到，jenkins 已经自动获取到webhook 的通知请求，并开始了构建</p><figure><img alt="image-20230221115505407" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115505407-1438ba60.png" tabindex="0"/><figcaption>image-20230221115505407</figcaption></figure><h5 id="_6-测试真实推送master分支-自动构建项目" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6-测试真实推送master分支-自动构建项目">#</a> （6）测试真实推送master分支，自动构建项目</h5><p>1idea里，master分支确实commit+push</p><figure><img alt="image-20230221115804780" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115804780-fa3ffc7f.png" tabindex="0"/><figcaption>image-20230221115804780</figcaption></figure><figure><img alt="image-20230221115814606" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115814606-05d71550.png" tabindex="0"/><figcaption>image-20230221115814606</figcaption></figure><figure><img alt="image-20230221115824652" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221115824652-271a5b12.png" tabindex="0"/><figcaption>image-20230221115824652</figcaption></figure><p>2jenkens开始下一次构建了！</p><figure><img alt="image-20230221120045203" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221120045203-b5ab56f6.png" tabindex="0"/><figcaption>image-20230221120045203</figcaption></figure><p>3项目上线了！</p><figure><img alt="image-20230221120108531" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221120108531-6cf5a78c.png" tabindex="0"/><figcaption>image-20230221120108531</figcaption></figure><h2 id="第五章-项目管理平台" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#第五章-项目管理平台">#</a> 第五章 项目管理平台</h2><p>我们最后的实战项目课程使用项目管理平台，让每个学习小组的同学共同开发项目，体验企业真实开发流程，欢迎咨询。</p><h3 id="一、项目管理平台作用" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#一、项目管理平台作用">#</a> 一、项目管理平台作用</h3><p>1 敏捷开发：提供标准敏捷研发管理，支持Scrum 与 Kanban</p><p>2 规模化敏捷：支持大型研发团队跨项目协同，实现多项目路线图规划和资源管控</p><p>3 研发工作流：连接多种工具，构建自动化研发工作流、DevOps 工作流</p><p>4 测试管理：测试用例管理和测试计划执行，确保产品交付质量</p><p>5 知识库管理：帮助企业建立规范化知识管理体系，实现文档协同与知识沉淀</p><h3 id="二、分类" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#二、分类">#</a> 二、分类</h3><figure><img alt="image-20230221151419707" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221151419707-ec236181.png" tabindex="0"/><figcaption>image-20230221151419707</figcaption></figure><p>1 支持私有化部署： 公司比较大，有实力部署。</p><p>2 公有化平台 sass：中小公司、中小项目。</p><h3 id="三、市场主流平台" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#三、市场主流平台">#</a> 三、市场主流平台</h3><p>1 阿里云效平台：<a href="https://devops.aliyun.com/" rel="noopener noreferrer" target="_blank">https://devops.aliyun.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>阿里云企业级一站式研发协同平台，数十万企业都在用。支持公共云、专有云和混合云多种部署形态，通过云原生新技术和研发新模式，助力创新创业和数字化转型企业快速实现研发敏捷和组织敏捷，打造“双敏”组织，实现多倍效能提升。</p><figure><img alt="image-20230220122809718" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230220122809718-7fca391c.png" tabindex="0"/><figcaption>image-20230220122809718</figcaption></figure><p>2teambition：阿里出品的项目管理平台 <a href="https://www.teambition.com/" rel="noopener noreferrer" target="_blank">https://www.teambition.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>3 PingCode：<strong>PingCode 是2021年中国软件项目管理软件榜单排名TOP1</strong>；它满足客户反馈、规划、开发、编码、构建、测试、发布上线的研发全流程管理，支持私有部署、定制开发、SAAS等版本；价格仅是Jira的30%-40%。<strong>（官网：<a href="https://sc.pingcode.com/t/n3B%EF%BC%89" rel="noopener noreferrer" target="_blank">https://sc.pingcode.com/t/n3B）<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><p>4 Worktile：<strong>Worktile 是连续多年的项目管理排行榜总榜前三</strong>。它是一个通用型的项目管理工具，支持不同类型的团队使用。项目管理方面具备项目管理、项目集管理、项目规划、项目追踪、项目文档管理等项目功能，除此以外还是一工具集合。Worktile 同样支持私有部署、二次开发、saas等版本。</p><p>5 Redmine：Redmine是一款开源的、灵活的项目管理Web解决方案。使用Ruby on Rails框架编写的，支持跨平台和跨数据库。主要功能包括：灵活的项目控制；支持多个项目；灵活的问题追踪系统；Gantt图表；新闻、文件/文档管理。（官网：<a href="http://www.redmine.org.cn/%EF%BC%89" rel="noopener noreferrer" target="_blank">http://www.redmine.org.cn/）<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>6 Clickup：Clickup 是国外点评网站G2排名第二的项目管理软件，它是一个为所有用户类型打造的项目管理系统，整合了所有业务流程的核心功能——销售、营销、设计和开发等。非常适合境外企业使用，但国内可能并不是最佳选择，因为不具备服务团队和服务器。（<a href="http://xn--Click-zh8iz74s.com" rel="noopener noreferrer" target="_blank">官网Click.com<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）</p><p>7 Jira：Jira是全球知名软件项目管理工具，有非常多的用户认为它好，也有非常多的用户吐槽难用。它足够成熟，但学习成本也足够高。在2020年开始停止在大陆出售本地版，<strong>强迫上云</strong>。（官网：<a href="http://Atlassian.com" rel="noopener noreferrer" target="_blank">Atlassian.com<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）</p><h3 id="四、试用阿里云效" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#四、试用阿里云效">#</a> 四、试用阿里云效</h3><p>阿里出的一款很好用的it项目管理平台。</p><figure><img alt="image-20230221154513889" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221154513889-58e2c125.png" tabindex="0"/><figcaption>image-20230221154513889</figcaption></figure><p>1 创建项目：</p><figure><img alt="image-20230221154616840" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221154616840-f71824a0.png" tabindex="0"/><figcaption>image-20230221154616840</figcaption></figure><figure><img alt="image-20230221154629125" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221154629125-1a75b297.png" tabindex="0"/><figcaption>image-20230221154629125</figcaption></figure><figure><img alt="image-20230221154713397" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221154713397-a67e133e.png" tabindex="0"/><figcaption>image-20230221154713397</figcaption></figure><p>2 新建迭代</p><figure><img alt="image-20230221154852987" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221154852987-efb7c145.png" tabindex="0"/><figcaption>image-20230221154852987</figcaption></figure><p>3 新建需求：</p><figure><img alt="image-20230221155144258" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155144258-cd7e25ee.png" tabindex="0"/><figcaption>image-20230221155144258</figcaption></figure><p>4 新建任务：</p><figure><img alt="image-20230221155338944" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155338944-c5c8d719.png" tabindex="0"/><figcaption>image-20230221155338944</figcaption></figure><p>5 新建缺陷：</p><figure><img alt="image-20230221155506655" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155506655-98fcc6ee.png" tabindex="0"/><figcaption>image-20230221155506655</figcaption></figure><p>6 查看工时：</p><figure><img alt="image-20230221155606164" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155606164-ab832504.png" tabindex="0"/><figcaption>image-20230221155606164</figcaption></figure><p>7 项目总体把控：</p><figure><img alt="image-20230221155645501" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155645501-2efb4fcb.png" tabindex="0"/><figcaption>image-20230221155645501</figcaption></figure><p>8 给测试人员测试任务：</p><figure><img alt="image-20230221155733067" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155733067-d7a8fc79.png" tabindex="0"/><figcaption>image-20230221155733067</figcaption></figure><p>9 工作项：查看自身这一天的工作量。</p><figure><img alt="image-20230221155818667" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155818667-548add40.png" tabindex="0"/><figcaption>image-20230221155818667</figcaption></figure><p>10 邀请成员加入企业和项目（迭代）</p><figure><img alt="image-20230221155002012" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221155002012-81f355a8.png" tabindex="0"/><figcaption>image-20230221155002012</figcaption></figure><p><strong>11总结功能</strong></p><p>项目协作：</p><figure><img alt="image-20230221164219324" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164219324-4b26e2a5.png" tabindex="0"/><figcaption>image-20230221164219324</figcaption></figure><p>文档功能： 项目排期、需求文档、测试文档</p><figure><img alt="image-20230221164310142" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164310142-b7683059.png" tabindex="0"/><figcaption>image-20230221164310142</figcaption></figure><p>知识库：</p><figure><img alt="image-20230221164342635" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164342635-096afbaf.png" tabindex="0"/><figcaption>image-20230221164342635</figcaption></figure><p>代码管理：</p><figure><img alt="image-20230221164456677" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164456677-6f2e9464.png" tabindex="0"/><figcaption>image-20230221164456677</figcaption></figure><p>流水线： jenkens</p><figure><img alt="image-20230221164534957" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164534957-9aa4a22c.png" tabindex="0"/><figcaption>image-20230221164534957</figcaption></figure><p>制品库：nexus</p><figure><img alt="image-20230221164620323" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164620323-47df1612.png" tabindex="0"/><figcaption>image-20230221164620323</figcaption></figure><p>应用管理：</p><figure><img alt="image-20230221164703288" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164703288-47442804.png" tabindex="0"/><figcaption>image-20230221164703288</figcaption></figure><p>测试管理：</p><figure><img alt="image-20230221164744160" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164744160-3a32d1eb.png" tabindex="0"/><figcaption>image-20230221164744160</figcaption></figure><p>云端开发：云IDE</p><figure><img alt="image-20230221164841986" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230221164841986-b6559d6e.png" tabindex="0"/><figcaption>image-20230221164841986</figcaption></figure><h3 id="五、体验一把自动构建" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#五、体验一把自动构建">#</a> 五、体验一把自动构建</h3><p>云效流水线 Flow 是一款企业级、自动化的持续集成和持续交付工具，通过构建自动化、集成自动化、验证自动化、部署自动化，完成从开发到上线的CI/CD全流程，帮助企业高质量、高效率的交付业务。</p><figure><img alt="image-20230222142910529" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230222142910529-5552dec8.png" tabindex="0"/><figcaption>image-20230222142910529</figcaption></figure><p><strong>应用场景</strong>：没必要自建机房部署代码托管、jekens，并且自己公司的产品部署在阿里云服务器上，完全可以利用云效平台进行自动话部署。</p><figure><img alt="image-20230223085239697" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223085239697-14b0a84c.png" tabindex="0"/><figcaption>image-20230223085239697</figcaption></figure><h4 id="_1、准备环境" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1、准备环境">#</a> 1、准备环境</h4><p>（1）准备一台阿里云服务器，安装java环境</p><figure><img alt="image-20230223085333102" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223085333102-28efb21c.png" tabindex="0"/><figcaption>image-20230223085333102</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">yum install java-1.8.0-openjdk.x86_64<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>（2）新建代码库：</p><p>将ydlwebcackend项目，推送到codeup代码管理中，类似gitlab。</p><figure><img alt="image-20230223085548840" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223085548840-a6650803.png" tabindex="0"/><figcaption>image-20230223085548840</figcaption></figure><p>代码如果和其他仓库链接，.git删除即可。</p><figure><img alt="image-20230223085731349" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/wM5lmp2W.png" tabindex="0"/><figcaption>image-20230223085731349</figcaption></figure><p>把本地仓库和codeup关联</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">cd existing_folder<br>git init<br>git remote add origin https://codeup.aliyun.com/63eb4cafdd226be228e4cd72/web/ydlwebbackend.git<br>git add .<br>git commit<br>git push -u origin master<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>初始化成功</p><figure><img alt="image-20230223090223302" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223090223302-fa9a2442.png" tabindex="0"/><figcaption>image-20230223090223302</figcaption></figure><p>pom中修改生成jar包名 application.jar</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>build<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>finalName<span class="hljs-symbol">&amp;gt;</span>application<span class="hljs-symbol">&amp;lt;</span>/finalName<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>plugins<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework.boot<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-boot-maven-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.apache.maven.plugins<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>maven-jar-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.4<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.jacoco<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jacoco-maven-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>0.8.5<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>executions<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>execution<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>id<span class="hljs-symbol">&amp;gt;</span>default-prepare-agent<span class="hljs-symbol">&amp;lt;</span>/id<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>goals<span class="hljs-symbol">&amp;gt;</span><br>                            <span class="hljs-symbol">&amp;lt;</span>goal<span class="hljs-symbol">&amp;gt;</span>prepare-agent<span class="hljs-symbol">&amp;lt;</span>/goal<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>/goals<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>/execution<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>execution<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>id<span class="hljs-symbol">&amp;gt;</span>default-report<span class="hljs-symbol">&amp;lt;</span>/id<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>phase<span class="hljs-symbol">&amp;gt;</span>verify<span class="hljs-symbol">&amp;lt;</span>/phase<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>goals<span class="hljs-symbol">&amp;gt;</span><br>                            <span class="hljs-symbol">&amp;lt;</span>goal<span class="hljs-symbol">&amp;gt;</span>report<span class="hljs-symbol">&amp;lt;</span>/goal<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>/goals<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>/execution<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/executions<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/plugins<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/build<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="http://xn--deploy-2e4j7b79r5x9dywpn97c.sh" rel="noopener noreferrer" target="_blank">添加启动脚本deploy.sh<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>真实生产环境，肯定是使用sh脚本启停我们的项目，所以这个项目的启停脚本写好在根目录，推送</p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># 修改APP_NAME为云效上的应用名</span><br>APP_NAME=application<br><br><br>PROG_NAME=<span class="hljs-variable">$0</span><br>ACTION=<span class="hljs-variable">$1</span><br>APP_START_TIMEOUT=20    <span class="hljs-comment"># 等待应用启动的时间</span><br>APP_PORT=8081          <span class="hljs-comment"># 应用端口</span><br>HEALTH_CHECK_URL=http://127.0.0.1:<span class="hljs-variable">$&#123;APP_PORT&#125;</span>/demo/test  <span class="hljs-comment"># 应用健康检查URL</span><br>APP_HOME=/home/admin/<span class="hljs-variable">$&#123;APP_NAME&#125;</span> <span class="hljs-comment"># 从package.tgz中解压出来的jar包放到这个目录下</span><br>JAR_NAME=<span class="hljs-variable">$&#123;APP_HOME&#125;</span>/target/<span class="hljs-variable">$&#123;APP_NAME&#125;</span>.jar <span class="hljs-comment"># jar包的名字</span><br>JAVA_OUT=<span class="hljs-variable">$&#123;APP_HOME&#125;</span>/logs/start.log  <span class="hljs-comment">#应用的启动日志</span><br><br><span class="hljs-comment"># 创建出相关目录</span><br><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$&#123;APP_HOME&#125;</span><br><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$&#123;APP_HOME&#125;</span>/logs<br><span class="hljs-function"><span class="hljs-title">usage</span></span>() &#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$PROG_NAME</span> &#123;start|stop|restart&#125;&quot;</span><br>    <span class="hljs-built_in">exit</span> 2<br>&#125;<br><br><span class="hljs-function"><span class="hljs-title">health_check</span></span>() &#123;<br>    exptime=0<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;checking <span class="hljs-variable">$&#123;HEALTH_CHECK_URL&#125;</span>&quot;</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">true</span><br>        <span class="hljs-keyword">do</span><br>            status_code=`/usr/bin/curl -L -o /dev/null --connect-timeout 5 -s -w %&#123;http_code&#125;  <span class="hljs-variable">$&#123;HEALTH_CHECK_URL&#125;</span>`<br>            <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;$?&quot;</span> != <span class="hljs-string">&quot;0&quot;</span> ]; <span class="hljs-keyword">then</span><br>               <span class="hljs-built_in">echo</span> -n -e <span class="hljs-string">&quot;\rapplication not started&quot;</span><br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;code is <span class="hljs-variable">$status_code</span>&quot;</span><br>                <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$status_code</span>&quot;</span> == <span class="hljs-string">&quot;200&quot;</span> ];<span class="hljs-keyword">then</span><br>                    <span class="hljs-built_in">break</span><br>                <span class="hljs-keyword">fi</span><br>            <span class="hljs-keyword">fi</span><br>            <span class="hljs-built_in">sleep</span> 1<br>            ((exptime++))<br><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\rWait app to pass health check: <span class="hljs-variable">$exptime</span>...&quot;</span><br><br>            <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$exptime</span> -gt <span class="hljs-variable">$&#123;APP_START_TIMEOUT&#125;</span> ]; <span class="hljs-keyword">then</span><br>                <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;app start failed&#x27;</span><br>               <span class="hljs-built_in">exit</span> 1<br>            <span class="hljs-keyword">fi</span><br>        <span class="hljs-keyword">done</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;check <span class="hljs-variable">$&#123;HEALTH_CHECK_URL&#125;</span> success&quot;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">start_application</span></span>() &#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;starting java process&quot;</span><br>    <span class="hljs-built_in">nohup</span> java -jar <span class="hljs-variable">$&#123;JAR_NAME&#125;</span> &amp;gt; <span class="hljs-variable">$&#123;JAVA_OUT&#125;</span> 2&amp;gt;&amp;amp;1 &amp;amp;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;started java process&quot;</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-title">stop_application</span></span>() &#123;<br>   checkjavapid=`ps -ef | grep java | grep <span class="hljs-variable">$&#123;APP_NAME&#125;</span> | grep -v grep |grep -v <span class="hljs-string">&#x27;deploy.sh&#x27;</span>| awk <span class="hljs-string">&#x27;&#123;print$2&#125;&#x27;</span>`<br><br>   <span class="hljs-keyword">if</span> [[ ! <span class="hljs-variable">$checkjavapid</span> ]];<span class="hljs-keyword">then</span><br>      <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\rno java process&quot;</span><br>      <span class="hljs-built_in">return</span><br>   <span class="hljs-keyword">fi</span><br><br>   <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;stop java process&quot;</span><br>   <span class="hljs-built_in">times</span>=60<br>   <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> $(<span class="hljs-built_in">seq</span> 60)<br>   <span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">sleep</span> 1<br>        COSTTIME=$((<span class="hljs-variable">$times</span> - <span class="hljs-variable">$e</span> ))<br>        checkjavapid=`ps -ef | grep java | grep <span class="hljs-variable">$&#123;APP_NAME&#125;</span> | grep -v grep |grep -v <span class="hljs-string">&#x27;deploy.sh&#x27;</span>| awk <span class="hljs-string">&#x27;&#123;print$2&#125;&#x27;</span>`<br>        <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$checkjavapid</span> ]];<span class="hljs-keyword">then</span><br>            <span class="hljs-built_in">kill</span> -9 <span class="hljs-variable">$checkjavapid</span><br>            <span class="hljs-built_in">echo</span> -e  <span class="hljs-string">&quot;\r        -- stopping java lasts `expr <span class="hljs-variable">$COSTTIME</span>` seconds.&quot;</span><br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\rjava process has exited&quot;</span><br>            <span class="hljs-built_in">break</span>;<br>        <span class="hljs-keyword">fi</span><br>   <span class="hljs-keyword">done</span><br>   <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">start</span></span>() &#123;<br>    start_application<br>    health_check<br>&#125;<br><span class="hljs-function"><span class="hljs-title">stop</span></span>() &#123;<br>    stop_application<br>&#125;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$ACTION</span>&quot;</span> <span class="hljs-keyword">in</span><br>    start)<br>        start<br>    ;;<br>    stop)<br>        stop<br>    ;;<br>    restart)<br>        stop<br>        start<br>    ;;<br>    *)<br>        usage<br>    ;;<br><span class="hljs-keyword">esac</span><br><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、新建流水线" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2、新建流水线">#</a> 2、新建流水线</h4><h5 id="_1-新建流水线" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-新建流水线">#</a> （1）<strong>新建流水线</strong></h5><ol><li>进入云效 &gt; 流水线 Flow 首页 &gt; <strong>我的流水线</strong>，单击 <strong>新建流水线</strong>，打开 <strong>选择流水线</strong>模板弹窗，选择对应的开发语言，可以查看当前语言下的默认流水线模板，可以根据模板快速创建流水线。</li><li>单击 Java，选择 <strong>Java · 构建、部署到阿里云ECS/自有主机</strong>模板，单击<strong>创建</strong>，进入流水线编辑页面。</li></ol><figure><img alt="image-20230223091001958" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091001958-d081edd5.png" tabindex="0"/><figcaption>image-20230223091001958</figcaption></figure><h5 id="_2-编排流水线" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-编排流水线">#</a> <strong>（2）编排流水线</strong></h5><ol><li>进入流水线编辑页 &gt; <strong>流程配置</strong>，打开 <strong>添加流水线源</strong>，选择 <strong>示例代码源</strong>，默认选中 Java 代码类型，自动填充<strong>代码仓库地址、默认分支、工作目录</strong>等。</li><li>单击 <strong>添加</strong>，流水线源区域便会出现已添加的流水线源。</li></ol><figure><img alt="image-20230223091044413" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091044413-6d431812.png" tabindex="0"/><figcaption>image-20230223091044413</figcaption></figure><h5 id="_3-配置构建任务" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-配置构建任务">#</a> （3）<strong>配置构建任务</strong></h5><ol><li>单击 <strong>Java 构建上传</strong>任务，打开任务配置面板。</li><li>查看<strong>java构建</strong>步骤配置，可按需修改。</li><li>查看 <strong>构建物上传</strong>步骤配置，可按需修改。本例中，需要将target/application.jar和deploy.sh两个文件打包到制品中，<strong>打包路径</strong>按下图配置。</li></ol><p>需要将target/application.jar和deploy.sh两个文件打包到<strong>制品</strong>中。因此需要在构建任务中按下面的方式进行配置：</p><figure><img alt="image-20230223091320749" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091320749-d6f03e2c.png" tabindex="0"/><figcaption>image-20230223091320749</figcaption></figure><figure><img alt="image-20230223091418051" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091418051-6c2c6b61.png" tabindex="0"/><figcaption>image-20230223091418051</figcaption></figure><h5 id="_4-配置部署任务" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-配置部署任务">#</a> （4）配置部署任务</h5><ul><li>接下来配置主机部署任务，在制品下拉框中选择“制品名称.default”，也就是前面的“Java构建上传”步骤归档的那个制品。为了配置主机组，需要先创建一个，点击“新建主机组”。</li><li><img alt="image-20230223091527579" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091527579-3e502df1.png" tabindex="0"/><figcaption>image-20230223091527579</figcaption></li></ul><figure><img alt="image-20230223080520384" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223080520384-cb97c231.png" tabindex="0"/><figcaption>image-20230223080520384</figcaption></figure><figure><img alt="image-20230223091615661" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091615661-987235d9.png" tabindex="0"/><figcaption>image-20230223091615661</figcaption></figure><figure><img alt="image-20230223091640444" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091640444-aee466cc.png" tabindex="0"/><figcaption>image-20230223091640444</figcaption></figure><figure><img alt="image-20230223091748027" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223091748027-1eaed64a.png" tabindex="0"/><figcaption>image-20230223091748027</figcaption></figure><p>主机部署配置</p><figure><img alt="image-20230223092050105" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092050105-0c14f87f.png" tabindex="0"/><figcaption>image-20230223092050105</figcaption></figure><figure><img alt="image-20230223092117959" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092117959-2c7e64e6.png" tabindex="0"/><figcaption>image-20230223092117959</figcaption></figure><p>部署脚本:需要运行启停脚本</p><ul><li>a.下载路径：表示希望把”构建上传”任务中的压缩包下载到机器上的什么位置，在本例的值为：/home/admin/app/package.tgz</li><li>b.执行用户：希望以是哪个用户的身份进行脚本执行，本例的值为：root</li><li>c.部署脚本：在机器上执行脚本的具体内容，本例的值为：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="复制代码" class="copy-code-button" data-copied="已复制"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: 元动力</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p /home/admin/application<br>tar zxvf /home/admin/app/package.tgz -C /home/admin/application/<br><span class="hljs-built_in">chmod</span> 777 /home/admin/application/deploy.sh<br>sh /home/admin/application/deploy.sh restart<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3<strong>运行流水线</strong></p><p>上述配置完成，单击 保存并运行，可以看到 保存成功 提示，并打开 运行配置弹窗。默认 master分支，单击 运行即可触发流水线运行，进入流水线运行页。</p><figure><img alt="image-20230223092152204" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092152204-db565ae2.png" tabindex="0"/><figcaption>image-20230223092152204</figcaption></figure><p><strong>4查看部署情况</strong></p><ol><li>进入流水线运行页面，可以查看流水线运行进度和结果。单击 <strong>Java 构建上传</strong>任务卡片上的<strong>日志</strong>可以查看构建日志。</li><li>单击 <strong>主机部署</strong>任务卡片上的 部署详情可以查看部署单详情：部署耗时、部署状态、日志等。部署状态为已完成即项目发布完成。</li></ol><figure><img alt="image-20230223092209220" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092209220-70cbc065.png" tabindex="0"/><figcaption>image-20230223092209220</figcaption></figure><figure><img alt="image-20230223092255457" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092255457-fcdc45c1.png" tabindex="0"/><figcaption>image-20230223092255457</figcaption></figure><figure><img alt="image-20230223092408228" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092408228-4fbfb16d.png" tabindex="0"/><figcaption>image-20230223092408228</figcaption></figure><figure><img alt="image-20230223092446615" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223092446615-d01afafd.png" tabindex="0"/><figcaption>image-20230223092446615</figcaption></figure><h5 id="_5-验证项目是否启动" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5-验证项目是否启动">#</a> （5）验证项目是否启动</h5><p>公网访问<a href="http://47.94.223.175:8081/demo/test" rel="noopener noreferrer" target="_blank">http://47.94.223.175:8081/demo/test<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><figure><img alt="image-20230223083535854" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223083535854-d86ebd34.png" tabindex="0"/><figcaption>image-20230223083535854</figcaption></figure><h5 id="_6-推送代码触发构建" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6-推送代码触发构建">#</a> （6）推送代码触发构建</h5><p>流水线配置中，开启代码触发</p><figure><img alt="image-20230223093439861" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093439861-f0e68170.png" tabindex="0"/><figcaption>image-20230223093439861</figcaption></figure><figure><img alt="image-20230223093531896" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093531896-6715548d.png" tabindex="0"/><figcaption>image-20230223093531896</figcaption></figure><p>测试一下</p><figure><img alt="image-20230223093624188" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093624188-65ad33b6.png" tabindex="0"/><figcaption>image-20230223093624188</figcaption></figure><figure><img alt="image-20230223093612849" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093612849-2e39f786.png" tabindex="0"/><figcaption>image-20230223093612849</figcaption></figure><p>测试真实代码提交：</p><p>push</p><figure><img alt="image-20230223093750737" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093750737-f85844c7.png" tabindex="0"/><figcaption>image-20230223093750737</figcaption></figure><p>访问：<a href="http://47.94.223.175:8081/demo/test" rel="noopener noreferrer" target="_blank">http://47.94.223.175:8081/demo/test<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><figure><img alt="image-20230223093847426" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223093847426-13a9eef9.png" tabindex="0"/><figcaption>image-20230223093847426</figcaption></figure><h5 id="_7-回滚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7-回滚">#</a> （7）回滚</h5><p>如果发布完成之后发现线上服务有问题，则需要快速回滚。云效Flow提供了通过历史版本直接进行回滚的能力。</p><p>在流水线运行页面点击”部署历史“，然后选择相应的部署任务，便可以看到该部署任务所有的成功部署记录</p><figure><img alt="image-20230223083838926" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223083838926-9ee69263.png" tabindex="0"/><figcaption>image-20230223083838926</figcaption></figure><p>点击版本4的”回滚“，即可回滚到该版本</p><figure><img alt="image-20230223083901290" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223083901290-778f4e50.png" tabindex="0"/><figcaption>image-20230223083901290</figcaption></figure><figure><img alt="image-20230223083918174" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223083918174-f452e3e3.png" tabindex="0"/><figcaption>image-20230223083918174</figcaption></figure><h5 id="_8-通知" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8-通知">#</a> （8）通知</h5><p>为了更好的进行协作，Flow提供了通知能力在流水线不同的生命周期节点上进行通知。一般来讲开发团队会关心部署的成功和失败，那么可以将该事件推送到团队的钉钉群中，配置方式如下，点击”添加插件”，选择钉钉机器人通知，填入webhook地址，运行时机选择”失败“，”成功”</p><figure><img alt="image-20230223094030818" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223094030818-155e6b86.png" tabindex="0"/><figcaption>image-20230223094030818</figcaption></figure><p>再次运行之后，就会收到相应的通知：</p><figure><img alt="image-20230223084002333" loading="lazy" src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA/image-20230223084002333-147d1beb.png" tabindex="0"/><figcaption>image-20230223084002333</figcaption></figure></div></article>
<div class="article-footer">

</div>

<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">回顾上一篇</div><a href="/wiki/YDLDoc4/%E9%A1%B9%E7%9B%AE%E8%BF%9B%E9%98%B6/%E7%9F%AD%E4%BF%A1%E9%80%9A%E9%81%93/%E7%9F%AD%E4%BF%A1%E9%80%9A%E9%81%93/">短信通道</a></div><div class="item" id="next"><div class="note">接下来阅读</div><a href="/wiki/YDLDoc4/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93%E7%BD%91/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93/%E4%BA%8C%E5%A5%A2%E4%BA%A4%E6%98%93/">二奢交易</a></div></section></div>


  <div class="related-wrap md-text" id="comments">
    <section class='header cmt-title cap theme'>
      <p>快来参与讨论吧~</p>

    </section>
    <section class='body cmt-body waline'>
      

<div id="waline_container" class="waline_thread"><svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </section>
  </div>



<footer class="page-footer footnote"><hr><div class="text"><p style="text-align:center" >
本站由 <a style="font-weight: bold;" href="/author/ThatCoder/">钟意</a> 使用 <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.33.1">Stellar 1.33.1</a> 主题创建。
<br>
由 <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">又拍云</a> 提供CDN加速/云存储服务
<br>
由 <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://vercel.com/">vercel</a>、<a style="font-weight: bold;" target="_blank" rel="noopener" href="https://www.netlify.com/">netlify</a>、<a style="font-weight: bold;" target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a> 提供托管服务
<br>
<a href="https://beian.miit.gov.cn/" target="_blank">湘ICP备2023019799号-1</a>
<br>
<!--不蒜子计数器-->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!--添加一个访问量-->
<span>总访问 <span id="busuanzi_value_site_pv" style="font-weight: bold;"></span> 次 
<!--本页访问 <span id="busuanzi_value_page_pv" style="font-weight: bold;"></span> 次</span>-->
<div id="siteruntime"></div>
</p>
<script>
function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000
    var minutes = seconds * 60
    var hours = minutes * 60
    var days = hours * 24
    var years = days * 365
    var today = new Date()
    var todayYear = today.getFullYear()
    var todayMonth = today.getMonth()
    var todayDate = today.getDate()
    var todayHour = today.getHours()
    var todayMinute = today.getMinutes()
    var todaySecond = today.getSeconds()
    var t1 = Date.UTC(2020,4,30,08,00,00)
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond)
    var diff = t2-t1
    var diffYears = Math.floor(diff/years)
    var diffDays = Math.floor((diff/days)-diffYears*365)
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours)
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes)
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds)
    document.getElementById("siteruntime").innerHTML="<p style=\"text-align:center\">小破站已颠沛流离 "+diffYears+" 年 "+diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒</p>"
}
siteTime();
</script>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="auto"><div class="widget-header dis-select"><span class="name">本文目录</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AF%BE%E7%A8%8B%E7%9B%AE%E7%9A%84"><span class="toc-text"> 第一章 课程目的</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BC%81%E4%B8%9A%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text"> 一、企业开发流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%B3%A8%E9%87%8D%E5%AE%9E%E6%93%8D"><span class="toc-text"> 二、注重实操</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%80%82%E7%94%A8%E4%BA%BA%E7%BE%A4"><span class="toc-text"> 三、适用人群</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E9%87%8C%E7%9A%84%E6%9C%AF%E8%AF%AD"><span class="toc-text"> 第二章 项目管理里的术语</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86"><span class="toc-text"> 一、项目管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5"><span class="toc-text"> 1、项目管理概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E8%A6%81%E5%81%9A%E4%BB%80%E4%B9%88"><span class="toc-text"> 2、项目管理要做什么</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-%E4%BC%81%E4%B8%9A%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-iqiyi"><span class="toc-text"> （1）企业开发流程：（iqiyi）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83"><span class="toc-text"> 3、项目部署环境</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83%E7%B1%BB%E5%9E%8B"><span class="toc-text"> 部署环境类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%95%8F%E6%8D%B7%E5%BC%80%E5%8F%91-%E5%B0%8F%E6%AD%A5%E5%BF%AB%E8%B7%91"><span class="toc-text"> 二、敏捷开发（小步快跑）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#scrum"><span class="toc-text"> Scrum</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81-%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E5%9B%A2%E9%98%9F%E9%80%82%E5%90%88%E5%AE%9E%E6%96%BDscrum"><span class="toc-text"> 1、 什么样的团队适合实施Scrum？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81-scrum-%E6%A1%86%E6%9E%B6%E6%9E%84%E6%88%90%E5%8F%8A%E5%AE%9E%E6%96%BD%E5%85%A8%E6%B5%81%E7%A8%8B"><span class="toc-text"> 2、 Scrum 框架构成及实施全流程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-1-3%E4%B8%AA%E8%A7%92%E8%89%B2"><span class="toc-text"> 2.1 3个角色</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-2-3%E4%B8%AA%E5%B7%A5%E4%BB%B6"><span class="toc-text"> 2.2 3个工件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-3-5%E4%B8%AA%E6%B4%BB%E5%8A%A8"><span class="toc-text"> 2.3 5个活动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-4-%E4%BB%B7%E5%80%BC%E8%A7%82"><span class="toc-text"> 2.4 价值观</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81-scrum%E5%AE%9E%E6%96%BD%E5%85%A8%E6%B5%81%E7%A8%8B"><span class="toc-text"> 3、 Scrum实施全流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4%E3%80%81scrum-%E5%AE%9E%E6%96%BD%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-%E5%A5%BD%E7%9A%84%E5%B7%A5%E5%85%B7%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text"> 4、Scrum 实施是否需要管理工具？好的工具有哪些？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5%E3%80%81scrum-%E8%90%BD%E5%9C%B0%E7%9A%8413%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E5%9D%91"><span class="toc-text"> 5、Scrum 落地的13个常见的坑</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81devops"><span class="toc-text"> 三、DevOps</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81devops%E6%98%AF%E4%BB%80%E4%B9%88-%E6%80%8E%E4%B9%88%E8%A7%A3%E9%87%8A"><span class="toc-text"> 1、DevOps是什么？怎么解释？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81devops%E8%83%8C%E6%99%AF%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text"> 2、DevOps背景是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81devops%E8%83%BD%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98"><span class="toc-text"> 3、DevOps能解决什么问题？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4%E3%80%81%E5%BC%80%E5%8F%91%E5%92%8C%E8%BF%90%E7%BB%B4%E4%BA%BA%E5%91%98%E7%9A%84%E7%9F%9B%E7%9B%BE%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text"> 4、开发和运维人员的矛盾是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5%E3%80%81devops%E6%98%AF%E5%B7%A5%E5%85%B7-%E6%98%AF%E6%96%B9%E6%B3%95-%E8%BF%98%E6%98%AF%E6%80%9D%E6%83%B3"><span class="toc-text"> 5、DevOps是工具？是方法？还是思想？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_6%E3%80%81devops%E5%92%8C%E6%95%8F%E6%8D%B7%E5%BC%80%E5%8F%91%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text"> 6、DevOps和敏捷开发的区别是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_7%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88devops%E7%AA%81%E7%84%B6%E5%8F%91%E5%B1%95%E8%BF%85%E7%8C%9B"><span class="toc-text"> 7、为什么DevOps突然发展迅猛？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_8%E3%80%81devops%E5%9B%A2%E9%98%9F%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E8%83%BD%E6%8F%90%E9%AB%98%E5%A4%9A%E5%B0%91"><span class="toc-text"> 8、DevOps团队工作效率能提高多少？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_9%E3%80%81%E7%9B%AE%E5%89%8D%E5%93%AA%E4%BA%9B%E5%85%AC%E5%8F%B8%E5%B7%B2%E7%BB%8F%E5%9C%A8%E4%BD%BF%E7%94%A8devops"><span class="toc-text"> 9、目前哪些公司已经在使用DevOps？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_10%E3%80%81devops%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E7%BB%A7%E7%BB%AD%E7%81%AB%E4%B8%8B%E5%8E%BB"><span class="toc-text"> 10、DevOps为什么会继续火下去？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_11%E3%80%81%E5%93%AA%E4%BA%9B%E5%9B%A0%E7%B4%A0%E5%8F%AF%E8%83%BD%E4%BF%83%E4%BD%BF%E4%B8%80%E4%B8%AA%E7%BB%84%E7%BB%87%E5%BC%95%E5%85%A5devops"><span class="toc-text"> 11、哪些因素可能促使一个组织引入DevOps？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_12%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4devops%E6%98%AF%E6%9C%AA%E6%9D%A5%E7%9A%84%E8%B6%8B%E5%8A%BF"><span class="toc-text"> 12、为什么说DevOps是未来的趋势？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_13%E3%80%81devops%E6%9C%AA%E6%9D%A5%E7%9A%84%E5%89%8D%E6%99%AF%E5%92%8C%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF%E5%A6%82%E4%BD%95"><span class="toc-text"> 13、DevOps未来的前景和发展趋势如何？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-gitlab%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1"><span class="toc-text"> 第三章 GitLab代码托管</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81gitlab%E4%BB%8B%E7%BB%8D"><span class="toc-text"> 一、GitLab介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81gitlab%E5%AE%89%E8%A3%85"><span class="toc-text"> 二、GitLab安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E6%8B%89%E5%8F%96gitlab%E9%95%9C%E5%83%8F"><span class="toc-text"> 1、拉取Gitlab镜像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E5%90%AF%E5%8A%A8gitlab%E5%AE%B9%E5%99%A8"><span class="toc-text"> 2、启动Gitlab容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE"><span class="toc-text"> 3、修改配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE"><span class="toc-text"> 4、浏览器访问</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81gitlab%E4%BD%BF%E7%94%A8"><span class="toc-text"> 三、GitLab使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E5%88%9B%E5%BB%BA%E7%BB%84"><span class="toc-text"> 1、创建组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E5%88%9B%E5%BB%BA%E4%BA%BA"><span class="toc-text"> 2、创建人</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text"> 3、创建项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4%E3%80%81ssh%E7%A7%98%E9%92%A5%E8%AE%BE%E7%BD%AE"><span class="toc-text"> 4、ssh秘钥设置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-%E5%8E%9F%E7%90%86"><span class="toc-text"> （1）原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-%E7%89%B9%E7%82%B9"><span class="toc-text"> （2）特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_3-%E6%93%8D%E4%BD%9C"><span class="toc-text"> （3）操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5%E3%80%81idea%E6%93%8D%E4%BD%9Cgitlab"><span class="toc-text"> 5、IDEA操作gitlab</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-idea%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6-gitlab-projects%E6%8F%92%E4%BB%B6%E3%80%82%E9%80%89%E6%8B%A9file-settings-plugins-%E3%80%82%E6%90%9C%E7%B4%A2gitlab%E3%80%82"><span class="toc-text"> （1）idea安装插件 gitlab projects插件。选择File -&gt; Settings -&gt; Plugins 。搜索gitlab。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-%E8%AE%BE%E7%BD%AE%E8%AE%BF%E9%97%AE%E4%BB%A4%E7%89%8C"><span class="toc-text"> （2）设置访问令牌</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_3-%E5%88%9B%E5%BB%BA%E7%AE%80%E5%8D%95boot%E6%8E%A5%E5%8F%A3%E9%A1%B9%E7%9B%AE"><span class="toc-text"> （3）创建简单boot接口项目</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_4-%E9%A1%B9%E7%9B%AE%E5%92%8C%E4%BB%93%E5%BA%93%E7%9B%B8%E5%85%B3%E8%81%94"><span class="toc-text"> （4）项目和仓库相关联</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_5-%E6%96%87%E4%BB%B6%E9%83%BD%E5%8F%98%E7%BA%A2%E8%89%B2-%E8%AF%B4%E6%98%8E%E9%A1%B9%E7%9B%AE%E5%B7%B2%E7%BB%8F%E8%A2%ABgit%E7%AE%A1%E7%90%86%E5%88%B0%E4%BA%86"><span class="toc-text"> （5）文件都变红色，说明项目已经被git管理到了</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_6-git-add"><span class="toc-text"> （6）git add</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_7-git-commit"><span class="toc-text"> （7）git commit</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_8-%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text"> （8）提交代码到远程仓库</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_9-%E5%B7%A5%E4%BD%9C%E4%B8%AD%E4%BB%A3%E7%A0%81%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B"><span class="toc-text"> （9）工作中代码创建流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_10-gitignore%E6%8F%92%E4%BB%B6"><span class="toc-text"> （10）gitignore插件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_11-%E4%BB%A3%E7%A0%81%E5%86%B2%E7%AA%81"><span class="toc-text"> （11）代码冲突</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_12-%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80"><span class="toc-text"> （12）版本回退</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_13-%E5%88%86%E6%94%AF"><span class="toc-text"> （13）分支</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-jenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90-ci-cd"><span class="toc-text"> 第四章 Jenkins持续集成（CI&#x2F;CD）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-text"> 一、持续集成相关概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%92%8C%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98"><span class="toc-text"> 1、持续集成和持续交付</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98"><span class="toc-text"> 2、持续部署与持续交付</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81jenkins%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-text"> 二、Jenkins使用说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E5%89%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text"> 1、前置软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#jdk%E5%AE%89%E8%A3%85"><span class="toc-text"> jdk安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#maven%E5%AE%89%E8%A3%85"><span class="toc-text"> maven安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#git2-36%E5%AE%89%E8%A3%85"><span class="toc-text"> git2.36安装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81jenkins%E5%AE%89%E8%A3%85"><span class="toc-text"> 2、jenkins安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3%E3%80%81jenkins-%E9%85%8D%E7%BD%AE"><span class="toc-text"> 3、jenkins 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4%E3%80%81%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AAitem"><span class="toc-text"> 4、构建一个item</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-text"> （1）准备工作：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#item%E7%9A%84%E6%BA%90%E7%A0%81"><span class="toc-text"> item的源码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#build-triggers-%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-text"> Build Triggers(构建触发器)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#build-%E6%9E%84%E5%BB%BA"><span class="toc-text"> Build(构建)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#post-steps-%E5%8F%91%E5%B8%83%E6%AD%A5%E9%AA%A4"><span class="toc-text"> Post Steps(发布步骤)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5%E3%80%81gitlab%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BA"><span class="toc-text"> 5、GitLab触发构建</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-%E5%AE%89%E8%A3%85-generic-webhook-trigger-%E6%8F%92%E4%BB%B6"><span class="toc-text"> （1）安装 Generic Webhook Trigger 插件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA"><span class="toc-text"> （2）配置构建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_3-gitlab-%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90%E9%92%A9%E5%AD%90-%E5%B9%B6%E7%BB%91%E5%AE%9A-webhook"><span class="toc-text"> （3） Gitlab 配置项目集成钩子，并绑定 webhook</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_4-%E4%BF%AE%E6%94%B9%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC-%E4%BD%BF%E5%BE%97%E9%A1%B9%E7%9B%AE%E9%87%8D%E5%90%AF%E5%85%88%E5%90%AC%E5%90%8E%E8%B5%B7-start-sh"><span class="toc-text"> （4）修改启动脚本，使得项目重启先听后起 start.shopen in new window</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_5-%E6%B5%8B%E8%AF%95%E4%B8%8Bwehhook"><span class="toc-text"> （5）测试下wehhook</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_6-%E6%B5%8B%E8%AF%95%E7%9C%9F%E5%AE%9E%E6%8E%A8%E9%80%81master%E5%88%86%E6%94%AF-%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text"> （6）测试真实推送master分支，自动构建项目</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0"><span class="toc-text"> 第五章 项目管理平台</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E4%BD%9C%E7%94%A8"><span class="toc-text"> 一、项目管理平台作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%88%86%E7%B1%BB"><span class="toc-text"> 二、分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%B8%82%E5%9C%BA%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0"><span class="toc-text"> 三、市场主流平台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E8%AF%95%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91%E6%95%88"><span class="toc-text"> 四、试用阿里云效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BD%93%E9%AA%8C%E4%B8%80%E6%8A%8A%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA"><span class="toc-text"> 五、体验一把自动构建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83"><span class="toc-text"> 1、准备环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E6%96%B0%E5%BB%BA%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-text"> 2、新建流水线</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#_1-%E6%96%B0%E5%BB%BA%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-text"> （1）新建流水线</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_2-%E7%BC%96%E6%8E%92%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-text"> （2）编排流水线</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_3-%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E4%BB%BB%E5%8A%A1"><span class="toc-text"> （3）配置构建任务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_4-%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2%E4%BB%BB%E5%8A%A1"><span class="toc-text"> （4）配置部署任务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_5-%E9%AA%8C%E8%AF%81%E9%A1%B9%E7%9B%AE%E6%98%AF%E5%90%A6%E5%90%AF%E5%8A%A8"><span class="toc-text"> （5）验证项目是否启动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_6-%E6%8E%A8%E9%80%81%E4%BB%A3%E7%A0%81%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BA"><span class="toc-text"> （6）推送代码触发构建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_7-%E5%9B%9E%E6%BB%9A"><span class="toc-text"> （7）回滚</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#_8-%E9%80%9A%E7%9F%A5"><span class="toc-text"> （8）通知</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="widget-footer"><a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"><path stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/><path d="M7 3.338A9.95 9.95 0 0 1 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12c0-1.821.487-3.53 1.338-5"/></g></svg><span>回到顶部</span></a><a class="buttom" onclick="util.scrollComment()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M8 10.5h8M8 14h5.5M17 3.338A9.95 9.95 0 0 0 12 2C6.477 2 2 6.477 2 12c0 1.6.376 3.112 1.043 4.453c.178.356.237.763.134 1.148l-.595 2.226a1.3 1.3 0 0 0 1.591 1.592l2.226-.596a1.63 1.63 0 0 1 1.149.133A9.96 9.96 0 0 0 12 22c5.523 0 10-4.477 10-10c0-1.821-.487-3.53-1.338-5"/></svg><span>参与讨论</span></a></div></widget>
</div></aside><div class='float-panel'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">


<script type="text/javascript">
  window.canonical = {"originalHost":"blog.thatcoder.cn","officialHosts":["localhost","en.blog.thatcoder.cn","hexo.thatcoder.cn","thatcoder.vercel.app","thatcoder.netlify.app","cn-coder.vercel.app","thatcoders.github.io","thatcoder.pages.dev","cncoder.pages.dev"],"encoded":"YmxvZy50aGF0Y29kZXIuY24="};
  const ctx = {
    date_suffix: {
      just: `刚刚`,
      min: `分钟前`,
      hour: `小时前`,
      day: `天前`,
    },
    root : `/`,
    tag_plugins: {
      chat: Object.assign({"api":"https://siteinfo.listentothewind.cn/api/v1"}),
    }
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"post, page, docs","path":"/search.json","content":true,"skip_search":null,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
    loading: `https://api.iconify.design/eos-icons:three-dots-loading.svg?color=%231cd0fd`,
  };
  const deps = {
    jquery: `https://gcore.jsdelivr.net/npm/jquery@3.7/dist/jquery.min.js`,
    marked: `https://gcore.jsdelivr.net/npm/marked@13.0/lib/marked.umd.min.js`,
    lazyload: `/%5Bobject%20Object%5D`
  }
  

</script>

<script type="text/javascript">
  
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          utils.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }

  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')) {
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function () {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },

    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      const maxRetry = 3;
      let retryCount = 0;

      return new Promise((resolve, reject) => {
        const load = () => {
          utils.onLoading?.(el);

          let timedOut = false;
          const timeout = setTimeout(() => {
            timedOut = true;
            console.warn('[request] 超时:', url);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject('请求超时');
            } else {
              setTimeout(load, 1000);
            }
          }, 5000);

          fetch(url).then(resp => {
            if (timedOut) return;
            clearTimeout(timeout);

            if (!resp.ok) throw new Error('响应失败');
            return resp;
          }).then(data => {
            if (timedOut) return;
            utils.onLoadSuccess?.(el);
            callback(data);
            resolve(data);
          }).catch(err => {
            clearTimeout(timeout);
            console.warn('[request] 错误:', err);

            if (++retryCount >= maxRetry) {
              utils.onLoadFailure?.(el);
              onFailure?.();
              reject(err);
            } else {
              setTimeout(load, 1000);
            }
          });
        };

        load();
      });
    },
    requestWithoutLoading: (url, options = {}, maxRetry = 2, timeout = 5000) => {
      return new Promise((resolve, reject) => {
        let retryCount = 0;

        const tryRequest = () => {
          let timedOut = false;
          const timer = setTimeout(() => {
            timedOut = true;
            if (++retryCount > maxRetry) reject('timeout');
            else tryRequest();
          }, timeout);

          fetch(url, options)
            .then(resp => {
              clearTimeout(timer);
              if (!resp.ok) throw new Error('bad response');
              resolve(resp);
            })
            .catch(err => {
              clearTimeout(timer);
              if (++retryCount > maxRetry) reject(err);
              else setTimeout(tryRequest, 500);
            });
        };

        tryRequest();
      });
    },
    /********************** requestAnimationFrame ********************************/
    // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
    // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
    requestAnimationFrame: (fn) => {
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
      }
      window.requestAnimationFrame(fn)
    },
    dark: {},
  };

  // utils.dark.mode 当前模式 dark or light
  // utils.dark.toggle() 暗黑模式触发器
  // utils.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  utils.dark.method = {
    toggle: new RunItem(),
  };
  utils.dark = Object.assign(utils.dark, {
    push: utils.dark.method.toggle.push,
  });
</script>
<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
<script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>

<script async src="https://gcore.jsdelivr.net/npm/vanilla-lazyload@19.1/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
    callback_loaded: (el) => {
      el.classList.add('loaded');
      const wrapper = el.closest('.lazy-box');
      const icon = wrapper?.querySelector('.lazy-icon');
      if (icon) icon.remove();
    }
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });

  window.wrapLazyloadImages = (container) => {
    if (typeof container === 'string') {
      container = document.querySelector(container);
    }
    if (!container) return;
    
    const images = container.querySelectorAll('img');
    images.forEach((img) => {
      if (img.classList.contains('lazy')) return;

      const src = img.getAttribute('src');
      if (!src) return;

      const wrapper = document.createElement('div');
      wrapper.className = 'lazy-box';

      const newImg = img.cloneNode();
      newImg.removeAttribute('src');
      newImg.setAttribute('data-src', src);
      newImg.classList.add('lazy');

      const icon = document.createElement('div');
      icon.className = 'lazy-icon';
      if (def.loading) {
        icon.style.backgroundImage = `url("${def.loading}")`;
      }

      wrapper.appendChild(newImg);
      wrapper.appendChild(icon);

      img.replaceWith(wrapper);
    });

    // 通知 LazyLoad 更新
    if (window.lazyLoadInstance?.update) {
      window.lazyLoadInstance.update();
    }
  }
  
</script>

<!-- required -->
<script src="/js/main.js?v=1.33.1" defer></script>

<script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    // applyThemeToGiscus(theme)
  }

  // FIXME: 这会导致无法使用 preferred_color_scheme 以外的主题
  const applyThemeToGiscus = (theme) => {
    // theme = theme === 'auto' ? 'preferred_color_scheme' : theme
    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)
    utils.dark.mode = newTheme === 'auto' ? (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") : newTheme;
    utils.dark.method.toggle.start();

    const messages = {
      light: `切换到浅色模式`,
      dark: `切换到深色模式`,
      auto: `切换到跟随系统配色`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    } else {
      utils.dark.mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    utils.dark.method.toggle.start();
  })()
</script>


<!-- optional -->

  <script type="module">
  import { init } from 'https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js';

  const el = document.getElementById('waline_container');
  util.viewportLazyload(el, load_waline, false);

  function load_waline(){
    if (!el) return;

    utils.css('https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css');
    utils.css('https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css');

    const path = el.getAttribute('comment_id') ?? decodeURI(window.location.pathname);
    const waline = init(Object.assign({"js":"https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js","css":"https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css","meta_css":"https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css","serverURL":"https://waline.thatapi.cn/","commentCount":true,"pageview":false,"search":false,"locale":{"placeholder":"  遇事不决, 可问春风..."},"emoji":["https://upyun.thatcdn.cn/public/web/emojis/bilibili","https://upyun.thatcdn.cn/public/web/emojis/qq","https://upyun.thatcdn.cn/public/web/emojis/tieba","https://upyun.thatcdn.cn/public/web/emojis/weibo"],"reaction":["https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_thumbsup.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_cute.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_sunglasses.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_crazy.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_trollface.png"],"meta":["nick","mail","link"],"imageUploader":{"fileName":"file","tokenName":"Authorization","api":"https://lsky.thatcoder.cn/api/v1/upload","token":"Bearer 6|x9vHGJGHAnjqbO0PGEE5vM7r9S9hdqFA9bmdESdm","resp":"data.links.url"}}, {
      el: '#waline_container',
      path: path,
      
        imageUploader: function(file) {
          const headers = new Headers();
          headers.set('Accept', 'application/json');
          
            headers.set('Authorization', 'Bearer 6|x9vHGJGHAnjqbO0PGEE5vM7r9S9hdqFA9bmdESdm')
          
          const formData = new FormData();
          formData.append('file', file);
          return fetch('https://lsky.thatcoder.cn/api/v1/upload',{
            method: 'POST',
            body: formData,
            headers: headers
            }).then((resp) => resp.json())
              .then((resp) => resp.data.links.url)
        },
      
    }));
  }
</script>




<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"rating":{"js":"/js/services/rating.js","api":"https://star-vote.xaox.cc/api/rating"},"vote":{"js":"/js/services/vote.js","api":"https://star-vote.xaox.cc/api/vote"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"friends_and_posts":{"js":"/js/services/friends_and_posts.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"},"voice":{"js":"/js/plugins/voice.js"},"video":{"js":"/js/plugins/video.js"},"download-file":{"js":"/js/plugins/download-file.js"},"twikoo":{"js":"/js/services/twikoo_latest_comment.js"},"waline":{"js":"/js/services/waline_latest_comment.js"},"artalk":{"js":"/js/services/artalk_latest_comment.js"},"giscus":{"js":"/js/services/giscus_latest_comment.js"},"contributors":{"edit_this_page":{"_posts/":null,"wiki/stellar/":"https://github.com/xaoxuu/hexo-theme-stellar-docs/blob/main/"},"js":"/js/services/contributors.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else if (id == 'voice') {
        ctx.voiceAudios = document.querySelectorAll('.voice>audio');
        if (ctx.voiceAudios?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            createVoiceDom(ctx.voiceAudios);
          });
        }
      } else if (id == 'video') {
        ctx.videos = document.querySelectorAll('.video>video');
        if (ctx.videos?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            videoEvents(ctx.videos);
          });
        }
      } else if (id == 'download-file') {
        ctx.files = document.querySelectorAll('.file');
        if (ctx.files?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            downloadFileEvent(ctx.files);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }

    // chat iphone time
    let phoneTimes = document.querySelectorAll('.chat .status-bar .time');

    if (phoneTimes.length > 0) {
      NowTime();
      var date = new Date();
      var sec = date.getSeconds();
      var firstAdjustInterval = setInterval(firstAdjustTime, 1000 * (60 - sec));
    }

    function firstAdjustTime() {
      NowTime();
      clearInterval(firstAdjustInterval);
      setInterval(NowTime, 1000 * 60);
    }

    function NowTime() {
      for (let i = 0; i < phoneTimes.length; ++i) {
        var timeSpan = phoneTimes[i];
        var date = new Date();
        var hour = date.getHours();
        var min = date.getMinutes();
        timeSpan.innerHTML = check(hour) + ":" + check(min);
      }
    };

    function check(val) {
      if (val < 10) {
        return ("0" + val);
      }
      return (val);
    }

    // chat quote
    const chat_quote_obverser = new IntersectionObserver((entries, observer) => {
      entries.filter((entry) => { return entry.isIntersecting }).sort((a, b) => a.intersectionRect.y !== b.intersectionRect.y ? a.intersectionRect.y - b.intersectionRect.y : a.intersectionRect.x - b.intersectionRect.x).forEach((entry, index) => {
          observer.unobserve(entry.target);
          setTimeout(() => {
            entry.target.classList.add('quote-blink');
            setTimeout(() => {
              entry.target.classList.remove('quote-blink');
            }, 1000);
          }, Math.max(100, 16) * (index + 1));
        });
    });

    var chatQuotes = document.querySelectorAll(".chat .talk .quote");
    chatQuotes.forEach((quote) => {
      quote.addEventListener('click', function () {
        var chatCellDom = document.getElementById("quote-" + quote.getAttribute("quotedCellTag"));
        if (chatCellDom) {
          var chatDiv = chatCellDom.parentElement;
          var mid = chatDiv.clientHeight / 2;
          var offsetTop = chatCellDom.offsetTop;
          if (offsetTop > mid - chatCellDom.clientHeight / 2) {
            chatDiv.scrollTo({
              top: chatCellDom.offsetTop - mid + chatCellDom.clientHeight / 2,
              behavior: "smooth"
            });
          } else {
            chatDiv.scrollTo({
              top: 0,
              behavior: "smooth"
            });
          }
          chat_quote_obverser.observe(chatCellDom);
        }
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://gcore.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script>
  ctx.fancybox = {
    selector: `.swiper-slide img, .md-text.content p>img, .md-text.content li img , .wl-content img, waline_container .vcontent img, .timeline .body .image img,  .timeline .gallery img`,
    css: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.min.css`,
    js: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.umd.min.js`
  };
  var selector = '[data-fancybox]:not(.error), .with-fancybox .atk-content img:not([atk-emoticon])';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const memos = document.getElementsByClassName('ds-memos');
    if (memos != undefined && memos.length > 0) {
      needFancybox = true;
    }
    const fancybox = document.getElementsByClassName('with-fancybox');
    if (fancybox != undefined && fancybox.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>




<!-- inject -->
<script type="text/javascript" src="/custom/js/ZYUtil.js"></script><script type="text/javascript" src="/custom/js/ZYDark.js"></script><script type="text/javascript" src="/custom/js/ZYCategory.js"></script><script type="text/javascript" src="/custom/js/ZYCode.js"></script><script type="text/javascript" src="/custom/js/timetmpl.js"></script>
</div></body></html>
