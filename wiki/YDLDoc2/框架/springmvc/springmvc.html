
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0" theme-name="Stellar" theme-version="1.25.0">
  
  <meta name="generator" content="Hexo 7.1.1">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>YDLDoc2ï¼šspringmvc - é‚£ä¸ªç å†œ</title>

  
    <meta name="description" content="# SpringMVCæ•™ç¨‹æç¤ºè¯¾ç¨‹è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1m3411Y7euopen in new window# ä¸€ã€ä»€ä¹ˆæ˜¯SpringMVCã€Spring Web MVCã€‘æ˜¯æœ€åˆå»ºç«‹åœ¨ Servlet API ä¹‹ä¸Šçš„ Web æ¡†æ¶ï¼Œä»ä¸€å¼€å§‹å°±åŒ…å«åœ¨ã€Spring Frameworkã€‘ä¸­ã€‚æ­£å¼åç§°ã€Spring Web MVCã€‘æ¥è‡ªå…¶æºæ¨¡">
<meta property="og:type" content="website">
<meta property="og:title" content="springmvc">
<meta property="og:url" content="https://blog.thatcoder.cn/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/springmvc/springmvc.html">
<meta property="og:site_name" content="é‚£ä¸ªç å†œ">
<meta property="og:description" content="# SpringMVCæ•™ç¨‹æç¤ºè¯¾ç¨‹è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1m3411Y7euopen in new window# ä¸€ã€ä»€ä¹ˆæ˜¯SpringMVCã€Spring Web MVCã€‘æ˜¯æœ€åˆå»ºç«‹åœ¨ Servlet API ä¹‹ä¸Šçš„ Web æ¡†æ¶ï¼Œä»ä¸€å¼€å§‹å°±åŒ…å«åœ¨ã€Spring Frameworkã€‘ä¸­ã€‚æ­£å¼åç§°ã€Spring Web MVCã€‘æ¥è‡ªå…¶æºæ¨¡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211225215516299-2d75ddfe.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211225220443021-a4bb5036.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182141482-3455dee8.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182651477-0283fefb.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182543007-07ba5257.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182858458-2c0103d0.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182925849-0cb03c2b.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226183144510-b9633719.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226183813854-76c5796d.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226202101684-30d07f9a.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226211136778-1aa72c65.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226211203138-d5ad695d.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226000022362-184919d4.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227124918177-f303da98.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227121741118-c2e07b33.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104174425480-e736a148.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227000947754-2d3907cc.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229113542929-65d730e2.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104165859913-6fceaea0.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104165437124-263169b2.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20210129214924284-60b527c1.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104170103757-7595d58e.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211230114025288-521ba23f.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229185603473-112d8134.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211230103016315-363ad564.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229185734642-dcc28802.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106104047477-af845b9c.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106175037525-c07ae95f.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104182117116-2e4f8a32.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104171526682-501b9dfc.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106143523571-092e8101.png">
<meta property="og:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106143650427-78c67cfd.png">
<meta property="article:published_time" content="2023-12-16T19:23:12.377Z">
<meta property="article:modified_time" content="2023-12-16T19:23:12.377Z">
<meta property="article:author" content="é’Ÿæ„">
<meta property="article:tag" content="é‚£ä¸ªç å†œ">
<meta property="article:tag" content="ç å†œé’Ÿæ„">
<meta property="article:tag" content="é’Ÿæ„çš„åšå®¢">
<meta property="article:tag" content="é’Ÿæ„åšå®¢">
<meta property="article:tag" content="That Coder">
<meta property="article:tag" content="thatcoder">
<meta property="article:tag" content="æºæŸ’æ‹¾æŸ’é›…èˆ">
<meta property="article:tag" content="æºWebGary">
<meta property="article:tag" content="giligili.work">
<meta property="article:tag" content="seclusion.work">
<meta property="article:tag" content="GalGame">
<meta property="article:tag" content="Hexo Stellar">
<meta property="article:tag" content="æ±Ÿè¥¿æœ¨æ‘æ‹“å“‰">
<meta property="article:tag" content="æ±Ÿè¥¿å´å½¦ç¥–">
<meta property="article:tag" content="æ±Ÿè¥¿èƒ¡æ­Œ">
<meta property="article:tag" content="é¾™å—æœ¨æ‘æ‹“å“‰">
<meta property="article:tag" content="é¾™å—å´å½¦ç¥–">
<meta property="article:tag" content="é¾™å—èƒ¡æ­Œ">
<meta property="article:tag" content="ä¹æ±ŸèŒä¸šæŠ€æœ¯å­¦é™¢">
<meta property="article:tag" content="å—æ˜Œäº¤é€šå­¦é™¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211225215516299-2d75ddfe.png">
  
  
  
  <meta name="keywords" content="é‚£ä¸ªç å†œ,ç å†œé’Ÿæ„,é’Ÿæ„çš„åšå®¢,é’Ÿæ„åšå®¢,That Coder,thatcoder,æºæŸ’æ‹¾æŸ’é›…èˆ,æºWebGary,giligili.work,seclusion.work,GalGame,Hexo Stellar,æ±Ÿè¥¿æœ¨æ‘æ‹“å“‰,æ±Ÿè¥¿å´å½¦ç¥–,æ±Ÿè¥¿èƒ¡æ­Œ,é¾™å—æœ¨æ‘æ‹“å“‰,é¾™å—å´å½¦ç¥–,é¾™å—èƒ¡æ­Œ,ä¹æ±ŸèŒä¸šæŠ€æœ¯å­¦é™¢,å—æ˜Œäº¤é€šå­¦é™¢">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="é‚£ä¸ªç å†œ" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://upyun.thatcdn.cn/hexo/stellar/image/favicon.webp">
  

  
    
<link rel="stylesheet" href="/custom/css/ZYCode.css">

  

  
  <link rel="Shortcut Icon" href="/favicon.ico" type="image/x-icon" /><link rel="stylesheet" href="https://upyun.thatcdn.cn/public/font/lxgw/result.css" /><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="/custom/css/ZYTimetmpl.css" /><meta itemprop="name" content="é’Ÿæ„åšå®¢"><meta itemprop="description" content="ç¬”åé’Ÿæ„, è®°å½•ä»£ç ä¸ç”Ÿæ´»."><meta itemprop="image" content="https://upyun.thatcdn.cn/hexo/stellar/image/shot.webp"><link rel="stylesheet" href="/custom/css/ZYGlobal.css"><link rel="stylesheet" href="/custom/css/ZYDark.css"><script type="text/javascript" src="/custom/js/header.js"></script><!-- Clarity tracking code for https://blog.thatcoder.cn/ -->
<script>    (function(c,l,a,r,i,t,y){        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);    })(window, document, "clarity", "script", "fi1zg7i5q5");</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6GM3XZWV7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-H6GM3XZWV7');
</script>
<!-- BaiDu-ZhanZhang
<meta name="baidu-site-verification" content="codeva-8tnFVr706d" />
<!-- BaiDu-Tongji -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?233765a020502d5d6a92d4fe306d36c2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>
<body>



<div class="l_body content tech" id="start" layout="wiki" ><aside class="l_left"><div class="sidebar-container">


<header class="header"><div class="logo-wrap"><div class="icon"><img no-lazy class="icon" src="/custom/img/ydl.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></div><a class="title" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/SpringSecurity/SpringSecurity.html"><div class="main" ff="title">YDLDoc2</div><div class="sub normal cap">å…³äºYDLDocçš„ç¬”è®°</div><div class="sub hover cap" style="opacity:0"> ä¸å¯¹ä¹‹å¤„è¯·æŒ‡å‡º</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" class="icon search-icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" data-filter="/wiki/YDLDoc2/" placeholder="åœ¨ /wiki/YDLDoc2/ ä¸­æœç´¢"></form><div id="search-result"></div><div class="search-no-result">æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼</div></div>


<nav class="menu dis-select"><a class="nav-item" title="åšå®¢" href="/"><span>åšå®¢</span></a><a class="nav-item active" title="ç¬”è®°" href="/wiki/"><span>ç¬”è®°</span></a><a class="nav-item" title="ä¾¿ç­¾" href="/notes/"><span>ä¾¿ç­¾</span></a><a class="nav-item" title="ç¤¾äº¤" href="/links/"><span>ç¤¾äº¤</span></a></nav>
</div>
<div class="widgets">



<widget class="widget-wrapper toc multi" id="data-toc" collapse="auto"><div class="widget-body fs14"><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/SpringSecurity/SpringSecurity.html#start"><span class="toc-text">SpringSecurity</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/SpringBoot/SpringBoot.html"><span class="toc-text">SpringBoot</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/jpa/jpa.html"><span class="toc-text">jpa</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/mybatisplus/mybatisplus.html"><span class="toc-text">mybatisplus</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/redis/redis.html"><span class="toc-text">redis</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/mybatis/mybatis.html"><span class="toc-text">mybatis</span></a></div><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/springmvc/springmvc.html"><span class="toc-text">springmvc</span><svg t="1705415018387" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14793" width="200" height="200"><path d="M256 896a42.666667 42.666667 0 0 1-20.906667-5.546667A42.666667 42.666667 0 0 1 213.333333 853.333333V227.413333A97.28 97.28 0 0 1 307.2 128h409.6A97.28 97.28 0 0 1 810.666667 227.413333V853.333333a42.666667 42.666667 0 0 1-21.333334 36.693334 42.666667 42.666667 0 0 1-42.666666 0l-241.92-136.96-227.413334 136.533333A42.666667 42.666667 0 0 1 256 896z" p-id="14794"></path></svg></a><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFspringmvc"><span class="toc-text"> ä¸€ã€ä»€ä¹ˆæ˜¯SpringMVC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81mvc%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="toc-text"> 1ã€mvcçš„å‘å±•å†ç¨‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BB%A3%E7%A0%81"><span class="toc-text"> äºŒã€ç›´æ¥ä¸Šä»£ç </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81%E5%88%9B%E5%BB%BA%E5%9F%BA%E7%A1%80web%E5%B7%A5%E7%A8%8B"><span class="toc-text"> 1ã€åˆ›å»ºåŸºç¡€webå·¥ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E6%90%AD%E5%BB%BAspringmvc%E7%8E%AF%E5%A2%83"><span class="toc-text"> 2ã€æ­å»ºspringmvcç¯å¢ƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-%E9%A6%96%E5%85%88%E5%AE%8C%E6%95%B4%E7%9A%84pom"><span class="toc-text"> ï¼ˆ1ï¼‰é¦–å…ˆå®Œæ•´çš„pom</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E9%85%8D%E7%BD%AEweb-xml"><span class="toc-text"> ï¼ˆ2ï¼‰é…ç½®web.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> ï¼ˆ3ï¼‰ç¼–å†™é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4-%E7%BC%96%E5%86%99controller"><span class="toc-text"> ï¼ˆ4ï¼‰ç¼–å†™Controller</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5-%E6%B3%A8%E5%85%A5%E5%AE%B9%E5%99%A8"><span class="toc-text"> ï¼ˆ5ï¼‰æ³¨å…¥å®¹å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_6-%E5%88%9B%E5%BB%BAjsp%E9%A1%B5%E9%9D%A2"><span class="toc-text"> ï¼ˆ6ï¼‰åˆ›å»ºjspé¡µé¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_7-%E9%85%8D%E7%BD%AEtomcat-%E5%B9%B6%E5%90%AF%E5%8A%A8%E6%B5%8B%E8%AF%95"><span class="toc-text"> ï¼ˆ7ï¼‰é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%9D%A5%E4%B8%80%E6%B3%A2"><span class="toc-text"> 3ã€ä½¿ç”¨æ³¨è§£æ¥ä¸€æ³¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> ï¼ˆ1ï¼‰é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E7%BC%96%E5%86%99controller"><span class="toc-text"> ï¼ˆ2ï¼‰ç¼–å†™controller</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-%E5%90%AF%E5%8A%A8tomcat%E6%B5%8B%E8%AF%95"><span class="toc-text"> ï¼ˆ3ï¼‰å¯åŠ¨tomcatæµ‹è¯•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%88%9D%E8%AF%86springmvc"><span class="toc-text"> ä¸‰ã€åˆè¯†springmvc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81%E7%BB%84%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-text"> 1ã€ç»„ä»¶è¯´æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-text"> 2ã€æ‰§è¡Œæµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81%E4%B8%89%E4%B8%AA%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-text"> 3ã€ä¸‰ä¸ªä¸Šä¸‹æ–‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-servletcontext"><span class="toc-text"> ï¼ˆ1ï¼‰ServletContext</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-spring%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-text"> ï¼ˆ2ï¼‰springä¸Šä¸‹æ–‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-springmvc%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-text"> ï¼ˆ3ï¼‰springmvcä¸Šä¸‹æ–‡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%AF%87"><span class="toc-text"> å››ã€æ ¸å¿ƒæŠ€æœ¯ç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81%E8%A7%86%E5%9B%BE%E5%92%8C%E6%A8%A1%E5%9E%8B%E6%8B%86%E5%88%86"><span class="toc-text"> 1ã€è§†å›¾å’Œæ¨¡å‹æ‹†åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E8%BD%AC%E5%8F%91"><span class="toc-text"> 2ã€é‡å®šå‘å’Œè½¬å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81requestmapping%E5%92%8C%E8%A1%8D%E7%94%9F%E6%B3%A8%E8%A7%A3"><span class="toc-text"> 3ã€RequestMappingå’Œè¡ç”Ÿæ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81uri-%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text"> 4ã€URI æ¨¡å¼åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_5%E3%80%81%E7%89%9B%E9%80%BC%E7%9A%84%E4%BC%A0%E5%8F%82"><span class="toc-text"> 5ã€ç‰›é€¼çš„ä¼ å‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-requestparam"><span class="toc-text"> ï¼ˆ1ï¼‰@RequestParam</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-requestheader"><span class="toc-text"> ï¼ˆ2ï¼‰@RequestHeader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-cookievalue"><span class="toc-text"> ï¼ˆ3ï¼‰@CookieValue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4-modelattribute"><span class="toc-text"> ï¼ˆ4ï¼‰@ModelAttribute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_5-sessionattribute"><span class="toc-text"> ï¼ˆ5ï¼‰@SessionAttribute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_6-requestattribute"><span class="toc-text"> ï¼ˆ6ï¼‰@RequestAttribute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_7-sessionattributes"><span class="toc-text"> ï¼ˆ7ï¼‰@SessionAttributes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_8-%E6%95%B0%E7%BB%84%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-text"> ï¼ˆ8ï¼‰æ•°ç»„çš„ä¼ é€’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_9-%E5%A4%8D%E6%9D%82%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-text"> ï¼ˆ9ï¼‰å¤æ‚å‚æ•°çš„ä¼ é€’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_6%E3%80%81%E8%AE%BE%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-text"> 6ã€è®¾å®šå­—ç¬¦é›†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_7%E3%80%81%E8%BF%94%E5%9B%9Ejson%E6%95%B0%E6%8D%AE-%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text"> 7ã€è¿”å›jsonæ•°æ®ï¼ˆåºåˆ—åŒ–ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_8%E3%80%81%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%B8%AD%E7%9A%84json%E6%95%B0%E6%8D%AE"><span class="toc-text"> 8ã€è·å–è¯·æ±‚ä¸­çš„jsonæ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_9%E3%80%81%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8C%96"><span class="toc-text"> 9ã€æ•°æ®è½¬åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_10%E3%80%81%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="toc-text"> 10ã€æ•°æ®æ ¡éªŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_11%E3%80%81%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8%E8%AF%A6%E8%A7%A3"><span class="toc-text"> 11ã€è§†å›¾è§£æå™¨è¯¦è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_12%E3%80%81%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7"><span class="toc-text"> 12ã€å…¨å±€å¼‚å¸¸æ•è·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-handlerexceptionresolver"><span class="toc-text"> ï¼ˆ1ï¼‰HandlerExceptionResolver</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-controlleradvice"><span class="toc-text"> ï¼ˆ2ï¼‰@ControllerAdvice</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_13%E3%80%81%E5%A4%84%E7%90%86%E8%B5%84%E6%BA%90"><span class="toc-text"> 13ã€å¤„ç†èµ„æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_14%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text"> 14ã€æ‹¦æˆªå™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text"> ï¼ˆ1ï¼‰è‡ªå®šä¹‰æ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8B%A6%E6%88%AA%E6%B5%81%E7%A8%8B"><span class="toc-text"> ï¼ˆ2ï¼‰æ‹¦æˆªå™¨æ‹¦æˆªæµç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-%E6%8B%A6%E6%88%AA%E5%99%A8%E8%A7%84%E5%88%99"><span class="toc-text"> ï¼ˆ3ï¼‰æ‹¦æˆªå™¨è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4-%E7%99%BB%E5%BD%95%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text"> ï¼ˆ4ï¼‰ç™»å½•æ‹¦æˆªå™¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_15%E3%80%81%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-text"> 15ã€å…¨å±€é…ç½®ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%B7%A8%E5%9F%9F"><span class="toc-text"> äº”ã€è·¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-text"> 1ã€åŒæºç­–ç•¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F"><span class="toc-text"> 2ã€ä»€ä¹ˆæ˜¯è·¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81%E4%B8%A4%E7%A7%8D%E8%AF%B7%E6%B1%82"><span class="toc-text"> 3ã€ä¸¤ç§è¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_1-%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="toc-text"> ï¼ˆ1ï¼‰ç®€å•è¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2-%E9%9D%9E%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="toc-text"> ï¼ˆ2ï¼‰éç®€å•è¯·æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text"> 4ã€è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81restful"><span class="toc-text"> å…­ã€restful</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81rest%E6%9E%B6%E6%9E%84%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8E%9F%E5%88%99"><span class="toc-text"> 1ã€Restæ¶æ„çš„ä¸»è¦åŸåˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFrestful"><span class="toc-text"> 2ã€ä»€ä¹ˆæ˜¯Restful</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4"><span class="toc-text"> 3ã€æ•°æ®è¿‡æ»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81requestmapping%E4%B8%AD%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-text"> 4ã€RequestMappingä¸­æŒ‡å®šè¯·æ±‚æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81ajax%E8%BF%98%E8%83%BD%E8%BF%99%E4%B9%88%E7%8E%A9"><span class="toc-text"> 4ã€ajaxè¿˜èƒ½è¿™ä¹ˆç©</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD"><span class="toc-text"> ä¸ƒã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text"> ä¸€ã€æ–‡ä»¶ä¸Šä¼ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-text"> äºŒã€æ–‡ä»¶ä¸‹è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1%E3%80%81%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F"><span class="toc-text"> 1ã€ä¼ ç»Ÿæ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2%E3%80%81%E4%BD%BF%E7%94%A8responseentity"><span class="toc-text"> 2ã€ä½¿ç”¨ResponseEntity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81websocket"><span class="toc-text"> å…«ã€WebSocket</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81websocket-%E7%AE%80%E4%BB%8B"><span class="toc-text"> 1ã€WebSocket ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-http-%E4%B8%8E-websocket"><span class="toc-text"> ï¼ˆ1ï¼‰HTTP ä¸ WebSocket</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8-websocket"><span class="toc-text"> ï¼ˆ2ï¼‰ä½•æ—¶ä½¿ç”¨ WebSocket</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="toc-text"> 2ã€å®æˆ˜æ¡ˆä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E6%95%B4%E5%90%88%E6%95%B0%E6%8D%AE%E5%BA%93-ssm%E7%BB%93%E6%9D%9F"><span class="toc-text"> ä¹ã€æ•´åˆæ•°æ®åº“ï¼Œssmç»“æŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81%E5%AE%8C%E6%95%B4%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-text"> 1ã€å®Œæ•´çš„ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 2ã€mybatisçš„é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81springmvc%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 3ã€springmvcé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="toc-text"> 4ã€æ•°æ®æºé…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_5%E3%80%81spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 5ã€springé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_6%E3%80%81web-xml"><span class="toc-text"> 6ã€web.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_7%E3%80%81%E7%BC%96%E5%86%99entity%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-text"> 7ã€ç¼–å†™entityå®ä½“ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_8%E3%80%81userdao%E6%8E%A5%E5%8F%A3%E7%BC%96%E5%86%99"><span class="toc-text"> 8ã€UserDaoæ¥å£ç¼–å†™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_9%E3%80%81mapper%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-text"> 9ã€Mapperæ˜ å°„æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_10%E3%80%81%E7%BC%96%E5%86%99service"><span class="toc-text"> 10ã€ç¼–å†™service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_11%E3%80%81%E7%BC%96%E5%86%99controller"><span class="toc-text"> 11ã€ç¼–å†™controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_12%E3%80%81%E6%B5%8B%E8%AF%95"><span class="toc-text"> 12ã€æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_13%E3%80%81%E9%9B%86%E6%88%90%E4%B8%80%E4%B8%AA%E5%BE%B7%E9%B2%81%E4%BC%8A"><span class="toc-text"> 13ã€é›†æˆä¸€ä¸ªå¾·é²ä¼Š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-%E6%9B%B4%E6%8D%A2%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-text"> ï¼ˆ1ï¼‰æ›´æ¢æ•°æ®æº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E5%A2%9E%E5%8A%A0db-properties%E5%86%85%E5%AE%B9"><span class="toc-text"> ï¼ˆ2ï¼‰å¢åŠ db.propertieså†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-%E5%BC%80%E5%90%AFweb%E7%9B%91%E6%8E%A7"><span class="toc-text"> ï¼ˆ3ï¼‰å¼€å¯webç›‘æ§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4-%E6%B5%8B%E8%AF%95-%E6%88%90%E5%8A%9F%E3%80%82"><span class="toc-text"> ï¼ˆ4ï¼‰æµ‹è¯•ï¼ŒæˆåŠŸã€‚</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_14%E3%80%81%E9%9B%86%E6%88%90%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6"><span class="toc-text"> 14ã€é›†æˆæ—¥å¿—æ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_1-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-text"> ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_2-%E6%96%B0%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> ï¼ˆ2ï¼‰æ–°å»ºé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_3-%E4%BD%BF%E7%94%A8"><span class="toc-text"> ï¼ˆ3ï¼‰ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_4-%E4%BD%BF%E7%94%A8lombok"><span class="toc-text"> ï¼ˆ4ï¼‰ä½¿ç”¨lombok</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%85%A8%E9%83%A8%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> ä¹ã€å…¨éƒ¨çš„é…ç½®æ–‡ä»¶ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_1%E3%80%81pom%E6%96%87%E4%BB%B6"><span class="toc-text"> 1ã€pomæ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_2%E3%80%81mybatis-config-xml"><span class="toc-text"> 2ã€mybatis-config.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_3%E3%80%81springmvc-servlet-xml"><span class="toc-text"> 3ã€springmvc-servlet.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_4%E3%80%81db-properties"><span class="toc-text"> 4ã€db.properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_5%E3%80%81application-xml"><span class="toc-text"> 5ã€application.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_6%E3%80%81logback-xml"><span class="toc-text"> 6ã€logback.xml</span></a></li></ol></li></ol></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/spring/spring.html"><span class="toc-text">spring</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/ssm%E9%A1%B9%E7%9B%AE/ssm%E9%A1%B9%E7%9B%AE.html"><span class="toc-text">ssmé¡¹ç›®</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html"><span class="toc-text">åŸºç¡€è®¾è®¡æ¨¡å¼</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/maven%E5%85%A5%E9%97%A8/maven%E5%85%A5%E9%97%A8.html"><span class="toc-text">mavenå…¥é—¨</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/YDLDoc2/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6.html"><span class="toc-text">æ—¥å¿—æ¡†æ¶</span></a></div></div></widget>
</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="https://github.com/ThatCoders" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-solid fa-laptop-code"></i></a><a class="social" href="https://music.163.com/#/user/home?id=134968139" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-solid fa-music"></i></a><a class="social" href="https://space.bilibili.com/1664687779" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-solid fa-champagne-glasses"></i></a><a class="social" href="https://muselink.cc/naive" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-solid fa-comments-dollar"></i></a><a class="social" href="javaScript:hud.toast('ğŸŒ™ å¤œé—´æ¨¡å¼');" rel="noopener noreferrer"><img class="lazy" id="ThemeM" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/icon/Moon.png"/></a><a class="social" href="javaScript:hud.toast('â˜€ æ—¥é—´æ¨¡å¼');" rel="noopener noreferrer"><img class="lazy" id="ThemeL" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/icon/Sun.png"/></a><a class="social" href="javaScript:hud.toast('ğŸ’» è·Ÿéšç³»ç»Ÿ');" rel="noopener noreferrer"><img class="lazy" id="ThemeAI" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/icon/AI.png"/></a></div></footer>
</div></aside><div class="l_main" id="main">





<div class="bread-nav fs12"><div class="left"><div id="breadcrumb"><a class="cap breadcrumb" href="/">ä¸»é¡µ</a>
<span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki">æ–‡æ¡£</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/SpringSecurity/SpringSecurity.html">YDLDoc2</a></div>
<div id="post-meta"><span class="author">æ›´æ–°äºï¼š</span><time datetime="2023-12-16T19:23:12.377Z">2023-12-17</time></span></div></div>
</div>
<article class="md-text content"><h1 class="article-title"><span>springmvc</span></h1><div class="theme-hope-content"><h1 id="springmvcæ•™ç¨‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#springmvcæ•™ç¨‹">#</a> SpringMVCæ•™ç¨‹</h1><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>è¯¾ç¨‹è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1m3411Y7eu" rel="noopener noreferrer" target="_blank">https://www.bilibili.com/video/BV1m3411Y7eu<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯springmvc" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¸€ã€ä»€ä¹ˆæ˜¯springmvc">#</a> ä¸€ã€ä»€ä¹ˆæ˜¯SpringMVC</h2><p>ã€Spring Web MVCã€‘æ˜¯æœ€åˆå»ºç«‹åœ¨ Servlet API ä¹‹ä¸Šçš„ Web æ¡†æ¶ï¼Œä»ä¸€å¼€å§‹å°±åŒ…å«åœ¨ã€Spring Frameworkã€‘ä¸­ã€‚æ­£å¼åç§°ã€Spring Web MVCã€‘æ¥è‡ªå…¶æºæ¨¡å—çš„åç§° ( spring-webmvc)ï¼Œä½†å®ƒæ›´å¸¸è¢«ç§°ä¸ºã€Spring MVCã€‘ã€‚</p><blockquote><p>MVC è®¾è®¡æ¦‚è¿°</p></blockquote><p>å›é¡¾mvcï¼š</p><h3 id="_1ã€mvcçš„å‘å±•å†ç¨‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€mvcçš„å‘å±•å†ç¨‹">#</a> 1ã€mvcçš„å‘å±•å†ç¨‹</h3><blockquote><p>æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„mvcæ¨¡å¼å°±æ˜¯è¿™ç§ã€Servlet + JSP + Java Beanã€‘ æ¨¡å¼ï¼Œæ—©æœŸçš„ MVC æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p></blockquote><figure><img class="lazy" alt="image-20211225215516299" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211225215516299-2d75ddfe.png" tabindex="0"/><figcaption>image-20211225215516299</figcaption></figure><p>é¦–å…ˆç”¨æˆ·çš„è¯·æ±‚ä¼šåˆ°è¾¾ Servletï¼Œç„¶åæ ¹æ®è¯·æ±‚è°ƒç”¨ç›¸åº”çš„ JavaBeanï¼Œå¹¶æŠŠæ‰€æœ‰çš„æ˜¾ç¤ºç»“æœäº¤ç»™ JSP å»å®Œæˆï¼Œè¿™æ ·çš„æ¨¡å¼æˆ‘ä»¬å°±ç§°ä¸º MVC æ¨¡å¼ï¼š</p><ul><li><p><strong>M ä»£è¡¨ æ¨¡å‹ï¼ˆModelï¼‰</strong> æ¨¡å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å®Œæˆå…·ä½“çš„ä¸šåŠ¡ï¼Œè¿›è¡Œæ•°æ®çš„æŸ¥è¯¢ã€‚</p></li><li><p><strong>V ä»£è¡¨ è§†å›¾ï¼ˆViewï¼‰</strong> è§†å›¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å°±æ˜¯ç”¨æ¥åšå±•ç¤ºçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å­¦è¿‡çš„JSPæŠ€æœ¯ï¼Œç”¨æ¥å±•ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®ã€‚</p></li><li><p><strong>C ä»£è¡¨ æ§åˆ¶å™¨ï¼ˆcontroller)</strong></p><p>æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ æ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯æœé›†é¡µé¢ä¼ æ¥çš„åŸå§‹æ•°æ®ï¼Œæˆ–è€…è°ƒç”¨æ¨¡å‹è·å¾—æ•°æ®äº¤ç»™è§†å›¾å±‚å¤„ç†ï¼ŒServlet æ‰®æ¼”çš„å°±æ˜¯è¿™æ ·çš„è§’è‰²ã€‚</p></li></ul><blockquote><p>Spring MVC çš„æ¶æ„</p></blockquote><p>Spring MVC ç»™å‡ºäº†è‡ªå·±çš„mvcæ–¹æ¡ˆï¼š</p><figure><img class="lazy" alt="image-20211225220443021" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211225220443021-a4bb5036.png" tabindex="0"/><figcaption>image-20211225220443021</figcaption></figure><p>ä¼ ç»Ÿçš„æ¨¡å‹å±‚è¢«æ‹†åˆ†ä¸ºäº†ä¸šåŠ¡å±‚ï¼ˆServiceï¼‰å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAO,Data Access Objectï¼‰ã€‚åŒæ—¶ï¼Œåœ¨ Serviceå±‚ä¸‹å¯ä»¥é€šè¿‡ Spring çš„å£°æ˜å¼äº‹åŠ¡æ“ä½œæ•°æ®è®¿é—®å±‚ã€‚</p><p>springçš„mvcæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>ç»“æ„æ¾æ•£ï¼Œå‡ ä¹å¯ä»¥åœ¨ Spring MVC ä¸­ä½¿ç”¨å„ç±»è§†å›¾ï¼Œä¸ä»…ä»…æ˜¯jspã€‚</li><li>æ¾è€¦åˆï¼Œå„ä¸ªæ¨¡å—åˆ†ç¦»</li><li>ä¸ Spring æ— ç¼é›†æˆ</li></ul><blockquote><p>ç°åœ¨ä½¿ç”¨springmvcçš„å…¬å¸è¶Šæ¥è¶Šå¤šï¼Œå·²ç»æˆä¸ºäº†éœ¸ä¸»åœ°ä½ï¼ŒåŸºæœ¬ä¸Šå–ä»£äº†æ—©å¹´çš„struts2ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å¦ä»ä¾ç„¶æœ‰ä¸€äº›å…¬å¸åœ¨ä½¿ç”¨è€çš„æ¡†æ¶ï¼Œä½†æ˜¯è§¦ç±»æ—é€šï¼Œå¸Œæœ›æœ‰å¤§å®¶å¯ä»¥å»è‡ªè¡Œäº†è§£ã€‚</p></blockquote><h2 id="äºŒã€ç›´æ¥ä¸Šä»£ç " tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#äºŒã€ç›´æ¥ä¸Šä»£ç ">#</a> äºŒã€ç›´æ¥ä¸Šä»£ç </h2><h3 id="_1ã€åˆ›å»ºåŸºç¡€webå·¥ç¨‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€åˆ›å»ºåŸºç¡€webå·¥ç¨‹">#</a> 1ã€åˆ›å»ºåŸºç¡€webå·¥ç¨‹</h3><blockquote><p>åˆ›å»ºå·¥ç¨‹</p></blockquote><figure><img class="lazy" alt="image-20211226182141482" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182141482-3455dee8.png" tabindex="0"/><figcaption>image-20211226182141482</figcaption></figure><blockquote><p>å®Œå–„ä¸€ä¸ªwebappå·¥ç¨‹æ‰€å¿…å¤‡çš„ç›®å½•ï¼š</p></blockquote><figure><img class="lazy" alt="image-20211226182651477" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182651477-0283fefb.png" tabindex="0"/><figcaption>image-20211226182651477</figcaption></figure><blockquote><p>æ·»åŠ ä¸€ä¸ªæœ€å°çš„å¿…é¡»ä¾èµ–</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>modelVersion<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/modelVersion<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.ydlclass<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-mvc-stduy<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.0-SNAPSHOT<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>properties<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>maven.compiler.source<span class="hljs-symbol">&amp;gt;</span>11<span class="hljs-symbol">&amp;lt;</span>/maven.compiler.source<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>maven.compiler.target<span class="hljs-symbol">&amp;gt;</span>11<span class="hljs-symbol">&amp;lt;</span>/maven.compiler.target<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/properties<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>dependencies<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--servlet api--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>javax.servlet-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.0.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/dependencies<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>build<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>plugins<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.apache.maven.plugins<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>maven-compiler-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>target<span class="hljs-symbol">&amp;gt;</span>$&#123;maven.compiler.target&#125;<span class="hljs-symbol">&amp;lt;</span>/target<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>source<span class="hljs-symbol">&amp;gt;</span>$&#123;maven.compiler.source&#125;<span class="hljs-symbol">&amp;lt;</span>/source<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>encoding<span class="hljs-symbol">&amp;gt;</span>utf-8<span class="hljs-symbol">&amp;lt;</span>/encoding<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/plugins<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/build<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/project<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ„å»ºwebé¡¹ç›®:</p></blockquote><figure><img class="lazy" alt="image-20211226182543007" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182543007-07ba5257.png" tabindex="0"/><figcaption>image-20211226182543007</figcaption></figure><blockquote><p>web.xmlæ¨¡æ¿ï¼š</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;<br>         version=&quot;4.0&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/web-app<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é…ç½®tomcatï¼Œæ¨èä½¿ç”¨tomcat9ï¼š</p></blockquote><figure><img class="lazy" alt="image-20211226182858458" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182858458-2c0103d0.png" tabindex="0"/><figcaption>image-20211226182858458</figcaption></figure><blockquote><p>éƒ¨ç½²é¡¹ç›®</p></blockquote><figure><img class="lazy" alt="image-20211226182925849" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226182925849-0cb03c2b.png" tabindex="0"/><figcaption>image-20211226182925849</figcaption></figure><blockquote><p>å¯åŠ¨tomcat</p></blockquote><figure><img class="lazy" alt="image-20211226183144510" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226183144510-b9633719.png" tabindex="0"/><figcaption>image-20211226183144510</figcaption></figure><blockquote><p>å†™ä¸€ä¸ªsetvletè¿›è¡Œæµ‹è¯•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/test&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            resp.getWriter().println(<span class="hljs-string">&quot;hello servlet!!&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œæµ‹è¯•ï¼Œwebé¡¹ç›®æ„å»ºæˆåŠŸï¼š</p></blockquote><figure><img class="lazy" alt="image-20211226183813854" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226183813854-76c5796d.png" tabindex="0"/><figcaption>image-20211226183813854</figcaption></figure><h3 id="_2ã€æ­å»ºspringmvcç¯å¢ƒ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€æ­å»ºspringmvcç¯å¢ƒ">#</a> 2ã€æ­å»ºspringmvcç¯å¢ƒ</h3><h4 id="_1-é¦–å…ˆå®Œæ•´çš„pom" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-é¦–å…ˆå®Œæ•´çš„pom">#</a> ï¼ˆ1ï¼‰é¦–å…ˆå®Œæ•´çš„pom</h4><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>modelVersion<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/modelVersion<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.ydlclass<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-mvc-stduy<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.0-SNAPSHOT<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>properties<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>maven.compiler.source<span class="hljs-symbol">&amp;gt;</span>11<span class="hljs-symbol">&amp;lt;</span>/maven.compiler.source<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>maven.compiler.target<span class="hljs-symbol">&amp;gt;</span>11<span class="hljs-symbol">&amp;lt;</span>/maven.compiler.target<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/properties<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>dependencies<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--servlet api--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>javax.servlet-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.0.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--springmvcçš„ä¾èµ–ï¼Œä¼šè‡ªåŠ¨ä¼ é€’springçš„å…¶ä»–ä¾èµ– --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-webmvc<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.2.18.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/dependencies<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--ç¼–è¯‘æ’ä»¶--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>build<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>plugins<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.apache.maven.plugins<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>maven-compiler-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>target<span class="hljs-symbol">&amp;gt;</span>$&#123;maven.compiler.target&#125;<span class="hljs-symbol">&amp;lt;</span>/target<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>source<span class="hljs-symbol">&amp;gt;</span>$&#123;maven.compiler.source&#125;<span class="hljs-symbol">&amp;lt;</span>/source<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>encoding<span class="hljs-symbol">&amp;gt;</span>utf-8<span class="hljs-symbol">&amp;lt;</span>/encoding<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/plugins<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/build<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/project<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-é…ç½®web-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-é…ç½®web-xml">#</a> ï¼ˆ2ï¼‰é…ç½®web.xml</h4><blockquote><p>æ³¨å†Œä¸€ä¸ªå«DispatcherServletçš„servletï¼Œè¿™ç©æ„æ˜¯springç»™æˆ‘ä»¬æä¾›çš„ï¼Œæˆ‘ä»¬å…ˆå¤åˆ¶ï¼Œåè¾¹ä¼šç»†è®²ï¼š</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;<br>         version=&quot;4.0&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®ä¸€ä¸ªContextLoaderListenerï¼Œä»–ä¼šåœ¨servletå®¹å™¨å¯åŠ¨æ—¶å¸®æˆ‘ä»¬åˆå§‹åŒ–springå®¹å™¨--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>listener<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>listener-class<span class="hljs-symbol">&amp;gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-symbol">&amp;lt;</span>/listener-class<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/listener<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æŒ‡å®šå¯åŠ¨springå®¹å™¨çš„é…ç½®æ–‡ä»¶--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>context-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>contextConfigLocation<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>/WEB-INF/app-context.xml<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/context-param<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ³¨å†ŒDispatcherServletï¼Œè¿™æ˜¯springmvcçš„æ ¸å¿ƒ--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>springmvc<span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-class<span class="hljs-symbol">&amp;gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-symbol">&amp;lt;</span>/servlet-class<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>contextConfigLocation<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>WEB-INF/app-context.xml<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åŠ è½½æ—¶å…ˆå¯åŠ¨--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>load-on-startup<span class="hljs-symbol">&amp;gt;</span>1<span class="hljs-symbol">&amp;lt;</span>/load-on-startup<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/servlet<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>springmvc<span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/web-app<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ç¼–å†™é…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-ç¼–å†™é…ç½®æ–‡ä»¶">#</a> ï¼ˆ3ï¼‰ç¼–å†™é…ç½®æ–‡ä»¶</h4><blockquote><p>åç§°ï¼šapp-context.xml (å…¶å®å°±æ˜¯ä¸ªspringå’Œspringmvcå…±äº«çš„é…ç½®æ–‡ä»¶) ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼š</p></blockquote><p>å°çŸ¥è¯†ï¼šåœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œå¿…é¡»é€šè¿‡è¯·æ±‚è½¬å‘ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†æ˜ å°„å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†å™¨é€‚é…å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è§†å›¾è§£æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; id=&quot;InternalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--å‰ç¼€--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åç¼€--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-ç¼–å†™controller" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-ç¼–å†™controller">#</a> ï¼ˆ4ï¼‰ç¼–å†™Controller</h4><blockquote><p>æ³¨æ„ï¼šè¿™ä¸ªå®ç°äº†Controlleræ¥å£çš„ç±»éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè¿™ä¸ªå¯¹è±¡å°è£…äº†è§†å›¾å’Œæ¨¡å‹ï¼›</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FirstController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Controller</span> &#123;<br><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// ModelAndView å°è£…äº†æ¨¡å‹å’Œè§†å›¾</span><br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>        <span class="hljs-comment">// æ¨¡å‹é‡Œå°è£…æ•°æ®</span><br>        mv.addObject(<span class="hljs-string">&quot;hellomvc&quot;</span>,<span class="hljs-string">&quot;Hello springMVC!&quot;</span>);<br>        <span class="hljs-comment">// å°è£…è·³è½¬çš„è§†å›¾åå­—</span><br>        mv.setViewName(<span class="hljs-string">&quot;hellomvc&quot;</span>);<br>        <span class="hljs-comment">// ä¸æ˜¯æœ‰ä¸ªè§†å›¾è§£æå™¨å—ï¼Ÿ</span><br>        <span class="hljs-comment">// è¿™ç©æ„å¯ä»¥è‡ªåŠ¨ç»™ä½ åŠ ä¸ªå‰ç¼€åç¼€ï¼Œå¯ä»¥å°†hellomvcæ‹¼è£…æˆ/jsp/hellomvc.jsp</span><br>        <span class="hljs-keyword">return</span> mv;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-æ³¨å…¥å®¹å™¨" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5-æ³¨å…¥å®¹å™¨">#</a> ï¼ˆ5ï¼‰æ³¨å…¥å®¹å™¨</h4><blockquote><p>å°†è¿™ä¸ªå®ç°äº†controlleræ¥å£çš„beanæ³¨å…¥åˆ°å®¹å™¨ä¸­ï¼Œæ³¨æ„æ­¤æ—¶çš„idå°±æˆäº†ä½ è¦è®¿é—®çš„urläº†</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;/hellomvc&quot; class=&quot;cn.itnanls.controller.FirstController&quot;/<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><blockquote><p>æˆ‘ä»¬å¯ä»¥ç»™é¡¹ç›®æ¢ä¸€ä¸ªç®€å•çš„åå­—ï¼š</p></blockquote><figure><img class="lazy" alt="image-20211226202101684" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226202101684-30d07f9a.png" tabindex="0"/><figcaption>image-20211226202101684</figcaption></figure><h4 id="_6-åˆ›å»ºjspé¡µé¢" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6-åˆ›å»ºjspé¡µé¢">#</a> ï¼ˆ6ï¼‰åˆ›å»ºjspé¡µé¢</h4><blockquote><p>ä½¿ç”¨elè¡¨è¾¾å¼è·å–æ¨¡å‹ä¸­çš„æ•°æ®</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>body<span class="hljs-symbol">&amp;gt;</span><br>    $&#123;hellomvc&#125;<br><span class="hljs-symbol">&amp;lt;</span>/body<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-é…ç½®tomcat-å¹¶å¯åŠ¨æµ‹è¯•" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7-é…ç½®tomcat-å¹¶å¯åŠ¨æµ‹è¯•">#</a> ï¼ˆ7ï¼‰é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</h4><figure><img class="lazy" alt="image-20211226211136778" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226211136778-1aa72c65.png" tabindex="0"/><figcaption>image-20211226211136778</figcaption></figure><h3 id="_3ã€ä½¿ç”¨æ³¨è§£æ¥ä¸€æ³¢" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€ä½¿ç”¨æ³¨è§£æ¥ä¸€æ³¢">#</a> 3ã€ä½¿ç”¨æ³¨è§£æ¥ä¸€æ³¢</h3><blockquote><p>è®°ä½ä¸€ç‚¹ï¼Œåªè¦ç”¨æ³¨è§£å°±å¾—å»æ‰«åŒ…ï¼Œè®©ä¸“ä¸šçš„è´Ÿè´£è§£æçš„ç±»æ¥è¿›è¡Œè§£æï¼š</p></blockquote><h4 id="_1-é…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-é…ç½®æ–‡ä»¶">#</a> ï¼ˆ1ï¼‰é…ç½®æ–‡ä»¶</h4><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;      <br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;      <br>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;      <br>       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;      <br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans       <br>       http://www.springframework.org/schema/beans/spring-beans.xsd       <br>       http://www.springframework.org/schema/context       <br>       https://www.springframework.org/schema/context/spring-context.xsd       <br>       http://www.springframework.org/schema/mvc       <br>       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è‡ªåŠ¨æ‰«åŒ… --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>context:component-scan base-package=&quot;com.ydlclass&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æºï¼Œè´Ÿè´£é™æ€èµ„æºä¹Ÿä¼šèµ°æˆ‘ä»¬çš„å‰ç«¯æ§åˆ¶å™¨ã€è¯•å›¾è§£æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:default-servlet-handler /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--  è®©springmvcè‡ªå¸¦çš„æ³¨è§£ç”Ÿæ•ˆ  --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven /<span class="hljs-symbol">&amp;gt;</span><br><br>     <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†æ˜ å°„å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†å™¨é€‚é…å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è§†å›¾è§£æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;         id=&quot;internalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- å‰ç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- åç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-ç¼–å†™controller" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-ç¼–å†™controller">#</a> ï¼ˆ2ï¼‰ç¼–å†™controller</h4><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">testAnnotation</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">modelAndView</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>        modelAndView.addObject(<span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-string">&quot;hello annotationMvc&quot;</span>);<br>        modelAndView.setViewName(<span class="hljs-string">&quot;hello&quot;</span>);<br>        <span class="hljs-keyword">return</span> modelAndView;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-å¯åŠ¨tomcatæµ‹è¯•" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-å¯åŠ¨tomcatæµ‹è¯•">#</a> ï¼ˆ3ï¼‰å¯åŠ¨tomcatæµ‹è¯•</h4><figure><img class="lazy" alt="image-20211226211203138" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226211203138-d5ad695d.png" tabindex="0"/><figcaption>image-20211226211203138</figcaption></figure><h2 id="ä¸‰ã€åˆè¯†springmvc" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¸‰ã€åˆè¯†springmvc">#</a> ä¸‰ã€åˆè¯†springmvc</h2><h3 id="_1ã€ç»„ä»¶è¯´æ˜" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€ç»„ä»¶è¯´æ˜">#</a> 1ã€ç»„ä»¶è¯´æ˜</h3><blockquote><p>DispatcherServletï¼šä¸­å¤®æ§åˆ¶å™¨ï¼Œå‰ç«¯æ§åˆ¶å™¨</p></blockquote><p>ç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼ˆdispatcherServletï¼‰ï¼Œä»–æ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè´Ÿè´£è°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒdispatcherServletçš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚</p><p>è¿™ç©æ„å¯ä»¥ç†è§£æˆä¸€ä¸ªã€å’¨è¯¢å¤„ã€‘ï¼Œä½ å»æŸä¸ªåœ°æ–¹åŠäº‹ï¼Œå…ˆå»å’¨è¯¢å¤„é—®é—®æˆ‘ä»¬åº”è¯¥å…ˆå¹²ä»€ä¹ˆï¼Œç­‰ç¬¬ä¸€ä»¶äº‹åšå®Œäº†ï¼Œå¯ä»¥æ¥ç€å»å’¨è¯¢å¤„å’¨è¯¢ï¼Œä½ çš„ä¸‹ä¸€æ­¥å·¥ä½œåº”è¯¥æ˜¯ä»€ä¹ˆã€‚</p><blockquote><p>handlerï¼šå¤„ç†å™¨</p></blockquote><p>Handlerä¹Ÿå«åç«¯æ§åˆ¶å™¨ï¼Œåœ¨DispatcherServletçš„æ§åˆ¶ä¸‹Handlerå¯¹ã€å…·ä½“çš„ç”¨æˆ·è¯·æ±‚ã€‘è¿›è¡Œå¤„ç†ï¼Œç”±äºHandleræ¶‰åŠåˆ°ã€å…·ä½“çš„ç”¨æˆ·ä¸šåŠ¡è¯·æ±‚ã€‘ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µéœ€è¦ç¨‹åºå‘˜ã€æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘Handlerã€‘ã€‚è¿™ç©æ„å°±æ˜¯ä½ å†™çš„controllerï¼Œåˆ«æŠŠä»–æƒ³æˆå•¥é«˜çº§ç©æ„ï¼Œä½ ä¹Ÿèƒ½å†™ä¸ªå¤„ç†å™¨ã€‚</p><blockquote><p>Viewï¼šè§†å›¾</p></blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦é€šè¿‡ã€é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯ã€‘å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ï¼Œéœ€è¦ç”±ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘å…·ä½“çš„é¡µé¢ã€‚ç›®å‰æˆ‘ä»¬æ¥è§¦è¿‡å¾—è§†å›¾æŠ€æœ¯å°±æ˜¯jspï¼Œå½“ç„¶è¿˜æœ‰Freemarkerï¼ŒThymeleafç­‰ã€‚</p><blockquote><p>HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨</p></blockquote><p>HandlerMappingè´Ÿè´£æ ¹æ®ã€ç”¨æˆ·è¯·æ±‚urlã€‘æ‰¾åˆ°ã€Handlerã€‘å³å¤„ç†å™¨ï¼Œspringmvcæä¾›äº†ä¸åŒçš„ã€å¤„ç†å™¨æ˜ å°„å™¨ã€‘å®ç°ï¼Œå¦‚é…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚</p><blockquote><p>HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨</p></blockquote><p>HandlerAdapterè´Ÿè´£è°ƒç”¨å…·ä½“çš„å¤„ç†å™¨ï¼Œè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œé€šè¿‡æ‰©å±•é€‚é…å™¨å¯ä»¥å¯¹æ›´å¤šç±»å‹çš„å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œã€‚æˆ‘ä»¬å†™çš„controllerä¸­çš„æ–¹æ³•ï¼Œå°†æ¥å°±æ˜¯ä¼šç”±å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨ã€‚</p><blockquote><p>ViewResolverï¼šè§†å›¾è§£æå™¨</p></blockquote><p>View Resolverè´Ÿè´£å°†å¤„ç†ç»“æœç”ŸæˆViewè§†å›¾ï¼ŒView Resolveré¦–å…ˆæ ¹æ®ã€é€»è¾‘è§†å›¾åã€‘è§£ææˆã€ç‰©ç†è§†å›¾åã€‘å³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”ŸæˆViewè§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹Viewè¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</p><h3 id="_2ã€æ‰§è¡Œæµç¨‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€æ‰§è¡Œæµç¨‹">#</a> 2ã€æ‰§è¡Œæµç¨‹</h3><blockquote><p>Springmvcçš„æ˜¯å›´ç»•DispatcherServletè¿›è¡Œè®¾è®¡çš„ï¼š</p></blockquote><ul><li>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</li><li>Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, ä»¥ã€è¯·æ±‚ä¸ºé©±åŠ¨ã€‘ , å›´ç»•ä¸€ä¸ªã€æ ¸å¿ƒServletã€‘è¿›è¡Œè¯·æ±‚åˆ†æ´¾åŠæä¾›å…¶ä»–åŠŸèƒ½**ï¼Œ**DispatcherServletä»…ä»…æ˜¯ä¸€ä¸ªçš„Servletï¼ˆå®ƒç»§æ‰¿è‡ªHttpServletï¼‰ã€‚</li></ul><blockquote><p>åˆ†å‘çš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p></blockquote><figure><img class="lazy" alt="image-20211226000022362" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211226000022362-184919d4.png" tabindex="0"/><figcaption>image-20211226000022362</figcaption></figure><blockquote><p>æˆ‘ä»¬ç”šè‡³å¯ä»¥å¤§è‡´çœ‹ä¸€ä¸‹æºç ï¼š</p></blockquote><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œservletä¸­çš„æ ¸å¿ƒæ–¹æ³•æ˜¯ã€serviceæ–¹æ³•ã€‘ï¼Œå½“è¯·æ±‚ä¸€ä¸ªservletæ—¶ä¼šä¸»åŠ¨è°ƒç”¨serviceæ–¹æ³•ï¼Œè€Œåœ¨DispatcherServletçš„serviceæ–¹æ³•ä¸­ï¼Œå…¶æ ¸å¿ƒæ—¶è°ƒç”¨äº†ä¸€ä¸ªdoDispatchçš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doDispatch</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">processedRequest</span> <span class="hljs-operator">=</span> request;<br>        <span class="hljs-type">HandlerExecutionChain</span> <span class="hljs-variable">mappedHandler</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">multipartRequestParsed</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-type">WebAsyncManager</span> <span class="hljs-variable">asyncManager</span> <span class="hljs-operator">=</span> WebAsyncUtils.getAsyncManager(request);<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>            <span class="hljs-type">Exception</span> <span class="hljs-variable">dispatchException</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// åˆ¤æ–­è¯·æ±‚ä¸­æœ‰æ²¡æœ‰æ–‡ä»¶</span><br>                processedRequest = checkMultipart(request);<br>                multipartRequestParsed = (processedRequest != request);<br><br>                <span class="hljs-comment">// è·å¾—ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œè¿™å°±æ˜¯å¤„ç†å™¨é€‚é…å™¨çš„å·¥ä½œ</span><br>                mappedHandler = getHandler(processedRequest);<br>                <span class="hljs-keyword">if</span> (mappedHandler == <span class="hljs-literal">null</span>) &#123;<br>                    noHandlerFound(processedRequest, response);<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br><br>                <span class="hljs-comment">// ç¡®å®šå½“å‰è¯·æ±‚çš„å¤„ç†ç¨‹åºé€‚é…å™¨   </span><br>                <span class="hljs-type">HandlerAdapter</span> <span class="hljs-variable">ha</span> <span class="hljs-operator">=</span> getHandlerAdapter(mappedHandler.getHandler());<br><br>                <span class="hljs-comment">// çœç•¥ä¸€äº›</span><br>                ...<br><br>                <span class="hljs-comment">// å¤„ç†å™¨é“¾è°ƒç”¨æ‰€æœ‰æ‹¦æˆªå™¨çš„å‰ç½®å¤„ç†ç¨‹åºï¼Œå¦‚æœ‰ä¸æ»¡è¶³çš„ç›´æ¥è¿”å›ï¼š</span><br>                <span class="hljs-keyword">if</span> (!mappedHandler.applyPreHandle(processedRequest, response)) &#123;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br><br>                <span class="hljs-comment">// æ­¤å¤„ç”±å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨æˆ‘ä»¬å†™çš„controllerã€‚</span><br>                mv = ha.handle(processedRequest, response, mappedHandler.getHandler());<br><br>                <span class="hljs-keyword">if</span> (asyncManager.isConcurrentHandlingStarted()) &#123;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br><br>                applyDefaultViewName(processedRequest, mv);<br>                <span class="hljs-comment">// å¤„ç†å™¨é“¾è°ƒç”¨æ‰€æœ‰æ‹¦æˆªå™¨çš„åç½®å¤„ç†ç¨‹åºï¼Œå¦‚æœ‰ä¸æ»¡è¶³çš„ç›´æ¥è¿”å›ï¼š</span><br>                mappedHandler.applyPostHandle(processedRequest, response, mv);<br>            &#125;<br>            <span class="hljs-keyword">catch</span> (Exception ex) &#123;<br>                dispatchException = ex;<br>            &#125;<br>            <span class="hljs-keyword">catch</span> (Throwable err) &#123;<br>                dispatchException = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NestedServletException</span>(<span class="hljs-string">&quot;Handler dispatch failed&quot;</span>, err);<br>            &#125;<br>            <span class="hljs-comment">// å¤„ç†æœ€ç»ˆç»“æœï¼Œè§†å›¾è§£æå™¨å¤„ç†mvï¼Œè¿˜è¦åšç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†</span><br>            processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);<br>        &#125;<br>    ...<br>    &#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¸ºäº†ç†è§£æ‹¦æˆªå™¨ï¼Œè™½ç„¶æ²¡æœ‰å­¦ä¹ ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ¥å£ï¼š</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-comment">//å¤„ç†å™¨æ‰§è¡Œä¹‹å‰</span><br>    <span class="hljs-keyword">default</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-comment">//å¤„ç†å™¨æ‰§è¡Œä¹‹å</span><br>    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, <span class="hljs-meta">@Nullable</span> ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    &#125;<br>    <span class="hljs-comment">//å®Œæˆä¹‹å</span><br>    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, <span class="hljs-meta">@Nullable</span> Exception ex)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…¶å®è¿™ä¸ªå¤„ç†è¿‡ç¨‹ç®€å•ä¸€ç‚¹å›ç­”æ€»ç»“å¦‚ä¸‹ï¼š</p></blockquote><ol><li>é€šè¿‡urlåŒ¹é…ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªè¿‡æ»¤å™¨å’Œä¸€ä¸ªå¤„ç†å™¨</li><li>ç¬¬ä¸€æ­¥è°ƒç”¨æ‹¦æˆªå™¨çš„preHandleæ–¹æ³•</li><li>ç¬¬äºŒæ­¥æ‰§è¡Œhandleræ–¹æ³•</li><li>ç¬¬ä¸‰éƒ¨è°ƒç”¨æ‹¦æˆªå™¨çš„postHandleæ–¹æ³•</li><li>å°†ç»“æœç»™è§†å›¾è§£æå™¨è¿›è¡Œå¤„ç†</li><li>å¤„ç†å®Œæˆåè°ƒç”¨afterCompletion</li></ol><h3 id="_3ã€ä¸‰ä¸ªä¸Šä¸‹æ–‡" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€ä¸‰ä¸ªä¸Šä¸‹æ–‡">#</a> 3ã€ä¸‰ä¸ªä¸Šä¸‹æ–‡</h3><p>åœ¨æˆ‘ä»¬çš„webé¡¹ç›®ä¸­å­˜åœ¨è‡³å°‘ä¸‰ä¸ªä¸Šä¸‹æ–‡ï¼Œåˆ†åˆ«æ˜¯ã€servletä¸Šä¸‹æ–‡ã€‘ï¼Œã€springä¸Šä¸‹æ–‡ã€‘ä»¥åŠã€springmvcä¸Šä¸‹æ–‡ã€‘ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><figure><img class="lazy" alt="image-20211227124918177" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227124918177-f303da98.png" tabindex="0"/><figcaption>image-20211227124918177</figcaption></figure><h4 id="_1-servletcontext" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-servletcontext">#</a> ï¼ˆ1ï¼‰ServletContext</h4><ul><li>å¯¹äºä¸€ä¸ªwebåº”ç”¨ï¼Œå…¶éƒ¨ç½²åœ¨webå®¹å™¨ä¸­ï¼Œwebå®¹å™¨æä¾›å…¶ä¸€ä¸ªå…¨å±€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡å°±æ˜¯æˆ‘ä»¬çš„ServletContextï¼Œå…¶ä¸ºåé¢çš„spring IoCå®¹å™¨æä¾›ä¸€ä¸ªå®¿ä¸»ç¯å¢ƒã€‚</li></ul><h4 id="_2-springä¸Šä¸‹æ–‡" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-springä¸Šä¸‹æ–‡">#</a> ï¼ˆ2ï¼‰springä¸Šä¸‹æ–‡</h4><ul><li>åœ¨web.xmlçš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€ä¸ªç›‘å¬å™¨ã€ContextLoaderListenerã€‘ã€‚åœ¨webå®¹å™¨å¯åŠ¨æ—¶ï¼Œä¼šè§¦å‘ã€å®¹å™¨åˆå§‹åŒ–ã€‘äº‹ä»¶ï¼Œæ­¤æ—¶contextLoaderListenerä¼šç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå…¶contextInitializedæ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</li><li>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œspringä¼šåˆå§‹åŒ–ä¸€ä¸ªã€ä¸Šä¸‹æ–‡ã€‘ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡è¢«ç§°ä¸ºã€æ ¹ä¸Šä¸‹æ–‡ã€‘ï¼Œå³ã€WebApplicationContextã€‘ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¥å£ç±»ï¼Œå…¶å®é™…çš„å®ç°ç±»æ˜¯XmlWebApplicationContextã€‚è¿™ä¸ªå°±æ˜¯springçš„IoCå®¹å™¨ï¼Œå…¶å¯¹åº”çš„Beanå®šä¹‰çš„é…ç½®ç”±web.xmlä¸­çš„ã€context-paramã€‘é…ç½®æŒ‡å®šï¼Œé»˜è®¤é…ç½®æ–‡ä»¶ä¸ºã€/WEB-INF/applicationContext.xmlã€‘ã€‚</li><li>åœ¨è¿™ä¸ªIoCå®¹å™¨åˆå§‹åŒ–å®Œæ¯•åï¼Œspringä»¥ã€WebApplicationContext.ROOTWEBAPPLICATIONCONTEXTATTRIBUTEã€‘ä¸ºå±æ€§Keyï¼Œå°†å…¶å­˜å‚¨åˆ°ServletContextä¸­ï¼Œä¾¿äºå°†æ¥è·å–ï¼›</li></ul><figure><img class="lazy" alt="image-20211227121741118" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227121741118-c2e07b33.png" tabindex="0"/><figcaption>image-20211227121741118</figcaption></figure><p>ç›¸å…³é…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>listener<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>listener-class<span class="hljs-symbol">&amp;gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-symbol">&amp;lt;</span>/listener-class<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/listener<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>context-param<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>contextConfigLocation<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>/WEB-INF/app-context.xml<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/context-param<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-springmvcä¸Šä¸‹æ–‡" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-springmvcä¸Šä¸‹æ–‡">#</a> ï¼ˆ3ï¼‰springmvcä¸Šä¸‹æ–‡</h4><ul><li>contextLoaderListenerç›‘å¬å™¨åˆå§‹åŒ–å®Œæ¯•åï¼Œå¼€å§‹åˆå§‹åŒ–web.xmlä¸­é…ç½®çš„Servletï¼Œè¿™ä¸ªservletå¯ä»¥é…ç½®å¤šä¸ªï¼Œé€šå¸¸åªé…ç½®ä¸€ä¸ªï¼Œä»¥æœ€å¸¸è§çš„DispatcherServletä¸ºä¾‹ï¼Œè¿™ä¸ªservletå®é™…ä¸Šæ˜¯ä¸€ä¸ªã€æ ‡å‡†çš„å‰ç«¯æ§åˆ¶å™¨ã€‘ï¼Œç”¨ä»¥è½¬å‘ã€åŒ¹é…ã€å¤„ç†æ¯ä¸ªservletè¯·æ±‚ã€‚</li><li>DispatcherServletåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šå»ºç«‹è‡ªå·±çš„IoCä¸Šä¸‹æ–‡ï¼Œç”¨ä»¥æŒæœ‰ã€spring mvcç›¸å…³çš„beanã€‘ã€‚åœ¨å»ºç«‹DispatcherServletè‡ªå·±çš„IoCä¸Šä¸‹æ–‡æ—¶ï¼Œä¼šåˆ©ç”¨ã€WebApplicationContext.ROOTWEBAPPLICATIONCONTEXTATTRIBUTEã€‘å…ˆä»ServletContextä¸­è·å–ä¹‹å‰çš„ã€æ ¹ä¸Šä¸‹æ–‡ã€‘ä½œä¸ºè‡ªå·±ä¸Šä¸‹æ–‡çš„ã€parentä¸Šä¸‹æ–‡ã€‘ã€‚æœ‰äº†è¿™ä¸ªparentä¸Šä¸‹æ–‡ä¹‹åï¼Œå†åˆå§‹åŒ–è‡ªå·±æŒæœ‰çš„ä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡æœ¬è´¨ä¸Šä¹Ÿæ˜¯XmlWebApplicationContextï¼Œé»˜è®¤è¯»å–çš„é…ç½®æ–‡ä»¶æ˜¯ã€/WEB-INF/springmvc-servlet.xmlã€‘ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨init-paramæ ‡ç­¾çš„ã€contextConfigLocationå±æ€§ã€‘è¿›è¡Œé…ç½®ã€‚</li><li>DispatcherServletåˆå§‹åŒ–è‡ªå·±ä¸Šä¸‹æ–‡çš„å·¥ä½œåœ¨å…¶ã€initStrategiesã€‘æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¤§æ¦‚çš„å·¥ä½œå°±æ˜¯åˆå§‹åŒ–å¤„ç†å™¨æ˜ å°„ã€è§†å›¾è§£æç­‰ã€‚è¿™ä¸ªservletè‡ªå·±æŒæœ‰çš„ä¸Šä¸‹æ–‡é»˜è®¤å®ç°ç±»ä¹Ÿæ˜¯xmlWebApplicationContextã€‚åˆå§‹åŒ–å®Œæ¯•åï¼Œspringä»¥ã€"org.springframework.web.servlet.FrameworkServlet.CONTEXT"+Servletåç§°ã€‘ä¸ºKeyï¼Œä¹Ÿå°†å…¶å­˜åˆ°ServletContextä¸­ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚è¿™æ ·æ¯ä¸ªservletå°±æŒæœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œå³æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„beanç©ºé—´ï¼ŒåŒæ—¶å„ä¸ªservletè¿˜å¯ä»¥å…±äº«ç›¸åŒçš„beanï¼Œå³æ ¹ä¸Šä¸‹æ–‡(ç¬¬2æ­¥ä¸­åˆå§‹åŒ–çš„ä¸Šä¸‹æ–‡)å®šä¹‰çš„é‚£äº›beanã€‚</li></ul><p>æ³¨ï¼šspringMVCå®¹å™¨åªè´Ÿè´£åˆ›å»ºControllerå¯¹è±¡ï¼Œä¸ä¼šåˆ›å»ºserviceå’Œdaoï¼Œå¹¶ä¸”ä»–æ˜¯ä¸€ä¸ªå­å®¹å™¨ã€‚è€Œspringçš„å®¹å™¨åªè´Ÿè´£Serviceå’Œdaoå¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªçˆ¶å®¹å™¨ã€‚å­å®¹å™¨å¯ä»¥çœ‹è§çˆ¶å®¹å™¨çš„å¯¹è±¡ï¼Œè€Œçˆ¶å®¹å™¨çœ‹ä¸è§å­å®¹å™¨çš„å¯¹è±¡ï¼Œè¿™æ ·å„å¸å…¶èŒã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡debugï¼Œä½¿ç”¨<code>ServletContext servletContext = req.getServletContext()</code>æŸ¥æ–¹æ³•çœ‹ServletContextï¼Œå¦‚ä¸‹ï¼š</p><figure><img class="lazy" alt="image-20220104174425480" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104174425480-e736a148.png" tabindex="0"/><figcaption>image-20220104174425480</figcaption></figure><h2 id="å››ã€æ ¸å¿ƒæŠ€æœ¯ç¯‡" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#å››ã€æ ¸å¿ƒæŠ€æœ¯ç¯‡">#</a> å››ã€æ ¸å¿ƒæŠ€æœ¯ç¯‡</h2><h3 id="_1ã€è§†å›¾å’Œæ¨¡å‹æ‹†åˆ†" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€è§†å›¾å’Œæ¨¡å‹æ‹†åˆ†">#</a> 1ã€è§†å›¾å’Œæ¨¡å‹æ‹†åˆ†</h3><p>è§†å›¾å’Œæ¨¡å‹ç›¸ä¼´ç›¸ç”Ÿï¼Œä½†æ˜¯springmvcç»™æˆ‘ä»¬æä¾›äº†æ›´å¥½çš„ï¼Œæ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼š</p><ul><li><p>Modelä¼šåœ¨è°ƒç”¨handleræ—¶é€šè¿‡å‚æ•°çš„å½¢å¼ä¼ å…¥</p></li><li><p>Viewå¯ä»¥ç®€åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼è¿”å›</p></li></ul><p>è¿™æ ·çš„è§£å†³æ–¹æ¡ˆæ‰æ˜¯ä¼ä¸šå¼€å‘ä¸­æœ€å¸¸ç”¨çš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/test1&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">testAnnotation</span><span class="hljs-params">(Model model)</span>&#123;<br>    model.addAttribute(<span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-string">&quot;hello annotationMvc as string&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;annotation&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€é‡å®šå‘å’Œè½¬å‘" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€é‡å®šå‘å’Œè½¬å‘">#</a> 2ã€é‡å®šå‘å’Œè½¬å‘</h3><p>åœ¨è¿”å›çš„å­—ç¬¦ä¸²ä¸­ï¼Œé»˜è®¤ä½¿ç”¨è§†å›¾è§£æå™¨è¿›è¡Œè§†å›¾è·³è½¬ï¼š</p><p>springmvcç»™æˆ‘ä»¬æä¾›äº†æ›´å¥½çš„è§£å†³ã€é‡å®šå‘å’Œè½¬å‘ã€‘çš„æ–¹æ¡ˆï¼š</p><blockquote><p>è¿”å›è§†å›¾å­—ç¬¦ä¸²åŠ å‰ç¼€redirectå°±å¯ä»¥è¿›è¡Œé‡å®šå‘ï¼š</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">redirect:/redirectController/redirectTest<br>redirect:https://www.baidu.com<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿”å›è§†å›¾å­—ç¬¦ä¸²åŠ å‰ç¼€forwardå°±å¯ä»¥è¿›è¡Œè¯·æ±‚è½¬å‘ï¼Œè€Œä¸èµ°è§†å›¾è§£æå™¨ï¼š</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">// ä¼šå°†è¯·æ±‚è½¬å‘è‡³/a/b<br>forward:/a/b<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€requestmappingå’Œè¡ç”Ÿæ³¨è§£" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€requestmappingå’Œè¡ç”Ÿæ³¨è§£">#</a> 3ã€RequestMappingå’Œè¡ç”Ÿæ³¨è§£</h3><p>åœ¨åˆšæ‰çš„å°ç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†è¿™ä¸ªæ³¨è§£ã€@RequestMappingã€‘</p><ul><li>è¿™ä¸ªæ³¨è§£å¾ˆå…³é”®ï¼Œä»–ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–¹æ³•çº§çš„æ³¨è§£ï¼Œè¿˜æ˜¯ä¸€ä¸ªç±»çº§æ³¨è§£ã€‚</li><li>å¦‚æœæ”¾åœ¨ç±»ä¸Šï¼Œç›¸å½“äºç»™æ¯ä¸ªæ–¹æ³•é»˜è®¤éƒ½åŠ ä¸Šä¸€ä¸ªå‰ç¼€urlã€‚</li></ul><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user/&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;register&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">register</span><span class="hljs-params">(Model model)</span>&#123;<br>        ......<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;register&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;login&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">()</span>&#123;<br>        ......<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;register&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¥½å¤„</p></blockquote><ul><li>ä¸€ä¸ªç±»ä¸€èˆ¬å¤„ç†ä¸€ç±»ä¸šåŠ¡ï¼Œå¯ä»¥ç»Ÿä¸€åŠ ä¸Šå‰ç¼€ï¼Œå¥½åŒºåˆ†</li><li>ç®€åŒ–ä¹¦å†™å¤æ‚åº¦</li></ul><blockquote><p>RequestMappingæ³¨è§£æœ‰å…­ä¸ªå±æ€§ï¼Œå¦‚ä¸‹</p></blockquote><p>1ã€<code>value</code>ï¼Œ <code>method</code>ï¼›</p><ul><li><p>valueï¼š æŒ‡å®šè¯·æ±‚çš„å®é™…åœ°å€ï¼ŒæŒ‡å®šçš„åœ°å€å¯ä»¥æ˜¯URI Template æ¨¡å¼ï¼ˆåé¢å°†ä¼šè¯´æ˜ï¼‰ï¼›</p></li><li><p>methodï¼š æŒ‡å®šè¯·æ±‚çš„methodç±»å‹ï¼Œ GETã€POSTã€PUTã€DELETEç­‰ï¼›</p></li></ul><p>2ã€<code>consumes</code>ï¼Œ<code>produces</code>ï¼›</p><ul><li><p>consumesï¼šæŒ‡å®šå¤„ç†ä¸­çš„è¯·æ±‚çš„å†…å®¹ç±»å‹ï¼ˆContent-Typeï¼‰ï¼Œä¾‹å¦‚application/jsonï¼›</p></li><li><p>producesï¼šæŒ‡å®šè¿”å›å“åº”çš„å†…å®¹ç±»å‹ï¼Œä»…å½“requestè¯·æ±‚å¤´ä¸­çš„(Accept)ç±»å‹ä¸­åŒ…å«è¯¥æŒ‡å®šç±»å‹æ‰è¿”å›</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">@GetMapping(value = &quot;&#123;id&#125;&quot;,produces = &#123;&quot;application/json;charset=utf-8&quot;&#125;)<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>3ã€<code>params</code>ï¼Œ<code>headers</code>ï¼›</p><ul><li>paramsï¼š æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›å‚æ•°å€¼å¤„ç†å™¨æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</li><li>headersï¼š æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›æŒ‡å®šçš„headerå€¼å¤„ç†å™¨æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</li></ul><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;add&quot;,method = RequestMethod.POST,</span><br><span class="hljs-meta">                consumes = &quot;application/json&quot;,produces = &quot;text/plain&quot;,</span><br><span class="hljs-meta">                headers = &quot;name&quot;,params = &#123;&quot;age&quot;,&quot;times&quot;&#125;</span><br><span class="hljs-meta">               )</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">add</span><span class="hljs-params">(Model model)</span>&#123;<br>    model.addAttribute(<span class="hljs-string">&quot;user&quot;</span>,<span class="hljs-string">&quot;add user&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@RequestMappingè¿˜æœ‰å‡ ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œç”¨æ¥å¤„ç†ç‰¹å®šæ–¹æ³•çš„è¯·æ±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;getOne&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getOne</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br><br><span class="hljs-meta">@PostMapping(&quot;insert&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">insert</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br><br><span class="hljs-meta">@PutMapping(&quot;update&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">update</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br><br><span class="hljs-meta">@DeleteMapping(&quot;delete&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æºç ä¸­èƒ½çœ‹å¸¦GetMappingæ³¨è§£ä¸­æœ‰@RequestMappingä½œä¸ºå…ƒæ³¨è§£ä¿®é¥°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(</span><br><span class="hljs-meta">    method = &#123;RequestMethod.GET&#125;</span><br><span class="hljs-meta">)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> GetMapping &#123;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€uri-æ¨¡å¼åŒ¹é…" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€uri-æ¨¡å¼åŒ¹é…">#</a> 4ã€URI æ¨¡å¼åŒ¹é…</h3><p><code>@RequestMapping</code>å¯ä»¥æ”¯æŒã€URLæ¨¡å¼åŒ¹é…ã€‘ï¼Œä¸ºæ­¤ï¼Œspringæä¾›äº†ä¸¤ç§é€‰æ‹©ï¼ˆä¸¤ä¸ªç±»ï¼‰ï¼š</p><ul><li><code>PathPattern</code>â€‰â€”<code>PathPattern</code>æ˜¯ Web åº”ç”¨ç¨‹åºçš„æ¨èè§£å†³æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯ Spring WebFlux ä¸­çš„å”¯ä¸€é€‰æ‹©ï¼Œæ¯”è¾ƒæ–°ã€‚</li><li><code>AntPathMatcher</code>â€‰â€” ä½¿ç”¨ã€å­—ç¬¦ä¸²æ¨¡å¼ä¸å­—ç¬¦ä¸²è·¯å¾„ã€‘åŒ¹é…ã€‚è¿™æ˜¯Springæä¾›çš„åŸå§‹è§£å†³æ–¹æ¡ˆï¼Œç”¨äºé€‰æ‹©ç±»è·¯å¾„ã€æ–‡ä»¶ç³»ç»Ÿå’Œå…¶ä»–ä½ç½®ä¸Šçš„èµ„æºã€‚</li></ul><p>å°çŸ¥è¯†ï¼šäºŒè€…ç›®å‰éƒ½å­˜åœ¨äºSpringæŠ€æœ¯æ ˆå†…ï¼Œåšç€ç›¸åŒçš„äº‹ã€‚è™½è¯´ç°åœ¨è¿˜é²œæœ‰åŒå­¦äº†è§£åˆ°PathPatternï¼Œæˆ‘è®¤ä¸ºæ·˜æ±°æ‰AntPathMatcheråªæ˜¯æ—¶é—´é—®é¢˜ï¼ˆç‰¹æŒ‡webç¯å¢ƒå“ˆï¼‰ï¼Œæ¯•ç«Ÿåæµªæ€»å½’æœ‰ä¸Šå²¸çš„ä¸€å¤©ã€‚ä½†ä¸å¯å¦è®¤ï¼ŒäºŒè€…å°†åœ¨è¾ƒé•¿æ—¶é—´å†…å…±å¤„ï¼Œé‚£ä¹ˆå®ƒä¿©åˆ°åº•æœ‰ä½•åŒºåˆ«å‘¢ï¼Ÿ</p><ul><li><p>å‡ºç°æ—¶é—´ï¼ŒAntPathMatcheræ˜¯ä¸€ä¸ªæ—©åœ¨2003å¹´ï¼ˆSpringçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼‰å°±å·²å­˜åœ¨çš„è·¯å¾„åŒ¹é…å™¨ï¼Œè€ŒPathPatternæ˜¯Spring 5æ–°å¢çš„ï¼Œæ—¨åœ¨ç”¨äºæ›¿æ¢æ‰è¾ƒä¸ºâ€œå¤è€â€çš„AntPathMatcherã€‚</p></li><li><p>åŠŸèƒ½å·®å¼‚ï¼ŒPathPatternå»æ‰äº†Antå­—æ ·ï¼Œä½†ä¿æŒäº†å¾ˆå¥½çš„å‘ä¸‹å…¼å®¹æ€§ï¼šé™¤äº†ä¸æ”¯æŒå°†<code>**</code>å†™åœ¨pathä¸­é—´ä¹‹å¤–ï¼Œå…¶å®ƒçš„åŒ¹é…è§„åˆ™ä»è¡Œä¸ºä¸Šå‡ä¿æŒå’ŒAntPathMatcherä¸€è‡´ï¼Œå¹¶ä¸”è¿˜æ–°å¢äº†å¼ºå¤§çš„{*pathVariable}çš„æ”¯æŒï¼Œä»–èƒ½åŒ¹é…æœ€åçš„å¤šä¸ªè·¯åŠ²ï¼Œå¹¶è·å–è·¯å¾„çš„å€¼ã€‚</p></li><li><p>æ€§èƒ½å·®å¼‚ï¼ŒSpringå®˜æ–¹è¯´PathPatternçš„æ€§èƒ½ä¼˜äºAntPathMatcherã€‚</p></li></ul><blockquote><p>ä»¥ä¸‹æ˜¯ä¸€äº›æ¨¡å¼åŒ¹é…çš„ç¤ºä¾‹ï¼š</p></blockquote><ul><li><code>"/resources/ima?e.png"</code> - åŒ¹é…è·¯å¾„æ®µä¸­çš„ä¸€ä¸ªå­—ç¬¦</li><li><code>"/resources/*.png"</code> - åŒ¹é…è·¯å¾„æ®µä¸­çš„é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li><li><code>"/resources/**"</code> - åŒ¹é…å¤šä¸ªè·¯å¾„æ®µ</li><li><code>"/projects/&#123;project&#125;/versions"</code> - åŒ¹é…è·¯å¾„æ®µå¹¶å°†å…¶ã€æ•è·ä¸ºå˜é‡ã€‘</li><li><code>"/projects/&#123;project:[a-z]+&#125;/versions"</code> - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶ã€æ•è·å˜é‡ã€‘</li></ul><p>æ•è·çš„ URI å˜é‡å¯ä»¥ä½¿ç”¨<code>@PathVariable</code>æ³¨è§£ï¼Œç¤ºä¾‹ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/owners/&#123;ownerId&#125;/pets/&#123;petId&#125;&quot;)</span><br><span class="hljs-keyword">public</span> Pet <span class="hljs-title function_">findPet</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long ownerId, <span class="hljs-meta">@PathVariable</span> Long petId)</span> &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‚¨è¿˜å¯ä»¥åœ¨ç±»å’Œæ–¹æ³•çº§åˆ«å£°æ˜ URI å˜é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/owners/&#123;ownerId&#125;&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OwnerController</span> &#123;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/pets/&#123;petId&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Pet <span class="hljs-title function_">findPet</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long ownerId, <span class="hljs-meta">@PathVariable</span> Long petId)</span> &#123;<br>        <span class="hljs-comment">// ...</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æœ‰æ—¶å€™ä¼šé‡åˆ°ä¸€ä¸ªurlå¯ä»¥åŒ¹é…åˆ°å¤šä¸ªè·¯ç”±çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯ç”±Springçš„AntPatternComparatorå®Œæˆä¼˜å…ˆçº§å¤„ç†ï¼Œå¤§è‡´è§„å¾‹å¦‚ä¸‹ï¼š</p></blockquote><p>æ¯”å¦‚ï¼šæœ‰ä¸¤ä¸ªåŒ¹é…è§„åˆ™ä¸€ä¸ªæ˜¯ /a/**ï¼Œä¸€ä¸ªæ˜¯ /a/b/**ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯/a/b/*ï¼Œå¦‚æœè®¿é—®çš„urlæ˜¯/a/b/cï¼Œå…¶å®è¿™ä¸‰ä¸ªè·¯ç”±éƒ½èƒ½åŒ¹é…åˆ°ï¼Œåœ¨åŒ¹é…ä¼˜å…ˆçº§ä¸­ï¼Œæœ‰é™çº§å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åŒ¹é…æ–¹å¼</th><th>ä¼˜å…ˆçº§</th></tr></thead><tbody><tr><td>å…¨è·¯å¾„åŒ¹é…ï¼Œä¾‹å¦‚ï¼šé…ç½®è·¯ç”±/a/b/c</td><td>ç¬¬ä¸€ä¼˜å…ˆçº§</td></tr><tr><td>å¸¦æœ‰{}è·¯å¾„çš„åŒ¹é…ï¼Œä¾‹å¦‚ï¼š/a/{b}/c</td><td>ç¬¬äºŒä¼˜å…ˆçº§</td></tr><tr><td>æ­£åˆ™åŒ¹é…ï¼Œä¾‹å¦‚ï¼š/a/{regex:\d{3}}/c</td><td>ç¬¬ä¸‰ä¼˜å…ˆçº§</td></tr><tr><td>å¸¦æœ‰<code>*</code>è·¯å¾„çš„åŒ¹é…ï¼Œä¾‹å¦‚ï¼š/a/b/*</td><td>ç¬¬å››ä¼˜å…ˆçº§</td></tr><tr><td>å¸¦æœ‰<code>**</code>è·¯å¾„çš„åŒ¹é…ï¼Œä¾‹å¦‚ï¼š/a/b/**</td><td>ç¬¬äº”ä¼˜å…ˆçº§</td></tr><tr><td>ä»…ä»…æ˜¯åŒé€šé…ç¬¦ï¼š/**</td><td>æœ€ä½ä¼˜å…ˆçº§</td></tr></tbody></table><p>æ³¨æ„ï¼š</p><ol><li>å½“æœ‰å¤šä¸ª*å’Œå¤šä¸ªâ€˜{}'æ—¶ï¼Œå‘½ä¸­å•ä¸ªè·¯å¾„å¤šçš„ï¼Œä¼˜å…ˆè¶Šé«˜ã€‚</li><li>å¤š*â€™çš„ä¼˜å…ˆçº§é«˜äºâ€˜**â€™ï¼Œä¼šä¼˜å…ˆåŒ¹é…å¸¦æœ‰*</li></ol><blockquote><p>æˆ‘ä»¬è¿˜å¯ä»¥ä»ä¸€ä¸ªç±»ä¸­çœ‹å‡ºï¼Œå½“ä¸€ä¸ªurlåŒ¹é…äº†å¤šä¸ªå¤„ç†å™¨æ—¶ï¼Œä¼˜å…ˆçº§æ˜¯å¦‚ä½•è€ƒè™‘çš„ï¼Œè¿™ä¸ªç±»æ˜¯AntPathMatcherçš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼š</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AntPatternComparator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparator</span>&amp;lt;String&amp;gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(String pattern1, String pattern2)</span> &#123;<br>        <span class="hljs-type">PatternInfo</span> <span class="hljs-variable">info1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PatternInfo</span>(pattern1);<br>        <span class="hljs-type">PatternInfo</span> <span class="hljs-variable">info2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PatternInfo</span>(pattern2);<br>        .....<br><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">pattern1EqualsPath</span> <span class="hljs-operator">=</span> pattern1.equals(<span class="hljs-built_in">this</span>.path);<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">pattern2EqualsPath</span> <span class="hljs-operator">=</span> pattern2.equals(<span class="hljs-built_in">this</span>.path);<br>        <span class="hljs-comment">// å®Œå…¨ç›¸ç­‰ï¼Œæ˜¯æ— æ³•æ¯”è¾ƒçš„</span><br>        <span class="hljs-keyword">if</span> (pattern1EqualsPath &amp;amp;&amp;amp; pattern2EqualsPath) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-comment">// pattern1å’Œurlequals,è¿”å›è´Ÿæ•° 1èƒœå‡º</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pattern1EqualsPath) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-comment">// pattern2å’Œurlequals,è¿”å›æ­£æ•°ï¼Œ2èƒœå‡º</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pattern2EqualsPath) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// éƒ½æ˜¯å‰ç¼€åŒ¹é…ï¼Œé•¿çš„ä¼˜å…ˆ   /a/b/**  /a/**</span><br>        <span class="hljs-keyword">if</span> (info1.isPrefixPattern() &amp;amp;&amp;amp; info2.isPrefixPattern()) &#123;<br>            <span class="hljs-keyword">return</span> info2.getLength() - info1.getLength();<br>        &#125;<br>        <span class="hljs-comment">// éå‰ç¼€åŒ¹é…çš„ä¼˜å…ˆçº§é«˜</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (info1.isPrefixPattern() &amp;amp;&amp;amp; info2.getDoubleWildcards() == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (info2.isPrefixPattern() &amp;amp;&amp;amp; info1.getDoubleWildcards() == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// åŒ¹é…æ•°è¶Šå°‘ï¼Œä¼˜å…ˆçº§è¶Šé«˜</span><br>        <span class="hljs-keyword">if</span> (info1.getTotalCount() != info2.getTotalCount()) &#123;<br>            <span class="hljs-keyword">return</span> info1.getTotalCount() - info2.getTotalCount();<br>        &#125;<br><br>        <span class="hljs-comment">// è·¯å¾„è¶ŠçŸ­è¶Šå¥½</span><br>        <span class="hljs-keyword">if</span> (info1.getLength() != info2.getLength()) &#123;<br>            <span class="hljs-keyword">return</span> info2.getLength() - info1.getLength();<br>        &#125;<br><br>        <span class="hljs-comment">// å•é€šé…ç¬¦ä¸ªæ•°ï¼Œæ•°é‡è¶Šå°‘ä¼˜å…ˆçº§è¶Šé«˜</span><br>        <span class="hljs-keyword">if</span> (info1.getSingleWildcards() &amp;lt; info2.getSingleWildcards()) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (info2.getSingleWildcards() &amp;lt; info1.getSingleWildcards()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-comment">// urlå‚æ•°è¶Šå°‘è¶Šä¼˜å…ˆ</span><br>        <span class="hljs-keyword">if</span> (info1.getUriVars() &amp;lt; info2.getUriVars()) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (info2.getUriVars() &amp;lt; info1.getUriVars()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æºç ä¸­æˆ‘ä»¬çœ‹åˆ°çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p></blockquote><p>1ã€å®Œå…¨åŒ¹é…è€…ï¼Œä¼˜å…ˆçº§æœ€é«˜</p><p>2ã€éƒ½æ˜¯å‰ç¼€åŒ¹é…ï¼ˆ/a/**ï¼‰, åŒ¹é…è·¯ç”±è¶Šé•¿ï¼Œä¼˜å…ˆçº§è¶Šé«˜</p><p>3ã€å‰ç¼€åŒ¹é…ä¼˜å…ˆçº§ï¼Œæ¯”éå‰ç¼€çš„ä½</p><p>4ã€éœ€è¦åŒ¹é…çš„æ•°é‡è¶Šå°‘ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œthis.uriVars + this.singleWildcards + (2 * this.doubleWildcards);</p><p>5ã€è·¯åŠ²è¶ŠçŸ­ä¼˜å…ˆçº§è¶Šé«˜</p><p>6ã€*è¶Šå°‘ä¼˜å…ˆçº§è¶Šé«˜</p><p>7ã€{}è¶Šå°‘ä¼˜å…ˆçº§è¶Šé«˜</p><h3 id="_5ã€ç‰›é€¼çš„ä¼ å‚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5ã€ç‰›é€¼çš„ä¼ å‚">#</a> 5ã€ç‰›é€¼çš„ä¼ å‚</h3><blockquote><p>åœ¨å­¦ä¹ servletæ—¶ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·è·å–è¯·æ±‚å‚æ•°çš„ï¼š</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;insert&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">insert</span><span class="hljs-params">(HttpServletRequest req)</span>&#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>    <span class="hljs-comment">// å…¶ä»–æ“ä½œ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æœ‰äº†springmvcä¹‹åï¼Œæˆ‘ä»¬ä»¥åå†ä¹Ÿä¸éœ€è¦ä½¿ç”¨<code>getParamter</code>ä¸€ä¸ªä¸€ä¸ªè·å–å‚æ•°äº†ï¼š</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user/&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;login&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(String username,String password)</span>&#123;<br>        System.out.println(username);<br>        System.out.println(password);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœä¸€ä¸ªè¡¨å•å‡ åä¸ªå‚æ•°æ€ä¹ˆè·å–å•Šï¼Ÿæ›´ç‰›çš„æ¥äº†æ–¹å¼ä»–æ¥äº†ï¼š</p></blockquote><p>éœ€è¦æå‰å®šä¹‰ä¸€ä¸ªUserå¯¹è±¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> &#123;<br>        <span class="hljs-built_in">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ç›´æ¥åœ¨å‚æ•°ä¸­ç”³æ˜userå¯¹è±¡</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user/&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;register&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">register</span><span class="hljs-params">(User user)</span>&#123;<br>        System.out.println(user);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;register&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;login&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(String username,String password)</span>&#123;<br>        System.out.println(username);<br>        System.out.println(password);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-requestparam" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-requestparam">#</a> ï¼ˆ1ï¼‰<code>@RequestParam</code></h4><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>@RequestParam</code>æ³¨è§£å°†ã€è¯·æ±‚å‚æ•°ã€‘ï¼ˆå³æŸ¥è¯¢å‚æ•°æˆ–è¡¨å•æ•°æ®ï¼‰ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/pets&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EditPetForm</span> &#123;<br><br>    <span class="hljs-meta">@GetMapping</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">setupForm</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;petId&quot;)</span> <span class="hljs-type">int</span> petId, Model model)</span> &#123; <br>        <span class="hljs-type">Pet</span> <span class="hljs-variable">pet</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.clinic.loadPet(petId);<br>        model.addAttribute(<span class="hljs-string">&quot;pet&quot;</span>, pet);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;petForm&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ­¤æ³¨è§£çš„æ–¹æ³•å‚æ•°æ˜¯å¿…éœ€çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†<code>@RequestParam</code>æ³¨è§£çš„ã€<code>required</code>æ ‡å¿—è®¾ç½®ã€‘ä¸º <code>false</code>æ¥æŒ‡å®šæ–¹æ³•å‚æ•°æ˜¯å¯é€‰çš„ã€‚å¦‚æœç›®æ ‡æ–¹æ³•å‚æ•°ç±»å‹ä¸æ˜¯Stringï¼Œåˆ™åº”ç”¨ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™ä¸ªåè¾¹ä¼šè®²ã€‚</p><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨<code>@RequestParam</code>æ˜¯å¯é€‰çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•å±äºç®€å•å€¼ç±»å‹ä¸”æœªè¢«ä»»ä½•å…¶ä»–å‚æ•°è§£æå™¨è§£æçš„å‚æ•°éƒ½è¢«è§†ä¸ºä½¿ç”¨ã€<code>@RequestParam</code>ã€‘ã€‚</p><h4 id="_2-requestheader" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-requestheader">#</a> ï¼ˆ2ï¼‰<code>@RequestHeader</code></h4><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>@RequestHeader</code>æ³¨è§£å°†è¯·æ±‚çš„é¦–éƒ¨ä¿¡æ¯ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ä¸­ï¼š</p><p>å‡å¦‚æˆ‘ä»¬çš„è¯·æ±‚headerå¦‚ä¸‹ï¼š</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs http">Host localhost:8080 <br>Accept text/html,application/xhtml+xml,application/xml;q=0.9 <br>Accept-Language fr,en-gb;q=0.7,en;q=0.3 <br>Accept-Encoding gzip,deflate <br>Accept-Charset ISO -8859-1,utf-8;q=0.7,*;q=0.7 <br>Keep-Alive 300<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸‹ç¤ºä¾‹è·å–<code>Accept-Encoding</code>å’Œ<code>Keep-Alive</code>æ ‡å¤´çš„å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/demo&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handle</span><span class="hljs-params">(</span><br><span class="hljs-params">        <span class="hljs-meta">@RequestHeader(&quot;Accept-Encoding&quot;)</span> String encoding, </span><br><span class="hljs-params">        <span class="hljs-meta">@RequestHeader(&quot;Keep-Alive&quot;)</span> <span class="hljs-type">long</span> keepAlive)</span> &#123; <br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°çŸ¥è¯†ï¼šå½“<code>@RequestHeader</code>æ³¨è§£ä¸Šçš„ä½¿ç”¨<code>Map&lt;String, String&gt;</code>ï¼Œ <code>MultiValueMap&lt;String, String&gt;</code>æˆ–<code>HttpHeaders</code>å‚æ•°ï¼Œåˆ™mapä¼šè¢«å¡«å……æœ‰æ‰€æœ‰headerçš„å€¼ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨requiedçš„å±æ€§æ¥æ‰§è¡Œè¯¥å‚æ•°ä¸æ˜¯å¿…é¡»çš„ã€‚</p><h4 id="_3-cookievalue" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-cookievalue">#</a> ï¼ˆ3ï¼‰<code>@CookieValue</code></h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>@CookieValue</code>æ³¨è§£å°†è¯·æ±‚ä¸­çš„ cookie çš„å€¼ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„è¯·æ±‚ä¸­å¸¦æœ‰å¦‚ä¸‹cookieï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">JSESSIONID=415A4AC178C59DACE0B2C9CA727CDD84<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•è·å– cookie å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/demo&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handle</span><span class="hljs-params">(<span class="hljs-meta">@CookieValue(&quot;JSESSIONID&quot;)</span> String cookie)</span> &#123; <br>    <span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-modelattribute" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-modelattribute">#</a> ï¼ˆ4ï¼‰<code>@ModelAttribute</code></h4><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>@ModelAttribute</code>æ³¨è§£åœ¨æ–¹æ³•å‚æ•°ä¸Šæ¥è®¿é—®ã€æ¨¡å‹ä¸­çš„å±æ€§ã€‘ï¼Œæˆ–è€…åœ¨ä¸å­˜åœ¨çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œå®ä¾‹åŒ–ã€‚æ¨¡å‹çš„å±æ€§ä¼šè¦†ç›–æ¥è‡ª HTTP Servlet è¯·æ±‚å‚æ•°çš„å€¼ï¼Œå…¶åç§°ä¸å­—æ®µåç§°åŒ¹é…ï¼Œè¿™ç§°ä¸ºæ•°æ®ç»‘å®šï¼Œå®ƒä½¿æ‚¨ä¸å¿…ã€å¤„ç†è§£æã€‘å’Œã€è½¬æ¢å•ä¸ªæŸ¥è¯¢å‚æ•°ã€‘å’Œè¡¨å•å­—æ®µã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/register&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">register</span><span class="hljs-params">(<span class="hljs-meta">@ModelAttribute(&quot;user&quot;)</span> UserForm user)</span> &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿˜æœ‰ä¸€ä¸ªä¾‹å­</p></blockquote><p>@ModelAttribute å’Œ @RequestMapping æ³¨è§£åŒæ—¶åº”ç”¨åœ¨æ–¹æ³•ä¸Šæ—¶ï¼Œæœ‰ä»¥ä¸‹ä½œç”¨ï¼š</p><ol><li>æ–¹æ³•çš„ã€è¿”å›å€¼ã€‘ä¼šå­˜å…¥åˆ° Model å¯¹è±¡ä¸­ï¼Œkeyä¸º ModelAttribute çš„ value å±æ€§å€¼ã€‚</li><li>æ–¹æ³•çš„è¿”å›å€¼ä¸å†æ˜¯æ–¹æ³•çš„è®¿é—®è·¯å¾„ï¼Œè®¿é—®è·¯å¾„ä¼šå˜ä¸º @RequestMapping çš„ value å€¼ï¼Œä¾‹å¦‚ï¼š@RequestMapping(value = "/index") è·³è½¬çš„é¡µé¢æ˜¯ index.jsp é¡µé¢ã€‚</li></ol><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ModelAttributeController</span> &#123;<br>    <span class="hljs-comment">// @ModelAttributeå’Œ@RequestMappingåŒæ—¶æ”¾åœ¨æ–¹æ³•ä¸Š</span><br>    <span class="hljs-meta">@RequestMapping(value = &quot;/index&quot;)</span><br>    <span class="hljs-meta">@ModelAttribute(&quot;name&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">model</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(required = false)</span> String name)</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-sessionattribute" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5-sessionattribute">#</a> ï¼ˆ5ï¼‰<code>@SessionAttribute</code></h4><p>å¦‚æœæ‚¨éœ€è¦è®¿é—®å…¨å±€ç®¡ç†çš„é¢„å…ˆå­˜åœ¨çš„ä¼šè¯å±æ€§ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨æˆ–å¯èƒ½ä¸å­˜åœ¨ï¼Œæ‚¨å¯ä»¥<code>@SessionAttribute</code>åœ¨æ–¹æ³•å‚æ•°ä¸Šä½¿ç”¨æ³¨è§£ï¼Œå¦‚ä¸‹æ‰€ç¤ºç¤ºä¾‹æ˜¾ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">handle</span><span class="hljs-params">(<span class="hljs-meta">@SessionAttribute</span> User user)</span> &#123; <br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-requestattribute" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6-requestattribute">#</a> ï¼ˆ6ï¼‰<code>@RequestAttribute</code></h4><p>å’Œ<code>@SessionAttribute</code>ä¸€æ ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>@RequestAttribute</code>æ³¨è§£æ¥è®¿é—®å…ˆå‰åˆ›å»ºçš„å­˜åœ¨ä¸è¯·æ±‚ä¸­çš„å±æ€§ï¼ˆä¾‹å¦‚ï¼Œç”± Servlet<code>Filter</code> æˆ–<code>HandlerInterceptor</code>ï¼‰åˆ›å»ºæˆ–åœ¨è¯·æ±‚è½¬å‘ä¸­æ·»åŠ çš„æ•°æ®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">handle</span><span class="hljs-params">(<span class="hljs-meta">@RequestAttribute</span> Client client)</span> &#123; <br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-sessionattributes" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7-sessionattributes">#</a> ï¼ˆ7ï¼‰<code>@SessionAttributes</code></h4><p>@SessionAttributesæ³¨è§£åº”ç”¨åˆ°Controllerä¸Šé¢ï¼Œå¯ä»¥å°†Modelä¸­çš„å±æ€§åŒæ­¥åˆ°sessionå½“ä¸­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/Demo.do&quot;)</span><br><span class="hljs-meta">@SessionAttributes(value=&#123;&quot;attr1&quot;,&quot;attr2&quot;&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(params=&quot;method=index&quot;)</span><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">index</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mav</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>(<span class="hljs-string">&quot;index.jsp&quot;</span>);<br>        mav.addObject(<span class="hljs-string">&quot;attr1&quot;</span>, <span class="hljs-string">&quot;attr1Value&quot;</span>);<br>        mav.addObject(<span class="hljs-string">&quot;attr2&quot;</span>, <span class="hljs-string">&quot;attr2Value&quot;</span>);<br>        <span class="hljs-keyword">return</span> mav;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(params=&quot;method=index2&quot;)</span><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">index2</span><span class="hljs-params">(<span class="hljs-meta">@ModelAttribute(&quot;attr1&quot;)</span>String attr1, <span class="hljs-meta">@ModelAttribute(&quot;attr2&quot;)</span>String attr2)</span> &#123;<br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mav</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>(<span class="hljs-string">&quot;success.jsp&quot;</span>);<br>        <span class="hljs-keyword">return</span> mav;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é™„åŠ ä¸€ä¸ªæ³¨è§£ä½¿ç”¨çš„æ¡ˆä¾‹ï¼š</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;insertUser&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">insertUser</span><span class="hljs-params">(</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestParam(value = &quot;age&quot;,required = false)</span> Integer age,</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestHeader(value = &quot;Content-Type&quot;,required = false)</span> String contentType,</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestHeader(required = false)</span> String name,</span><br><span class="hljs-params">            <span class="hljs-meta">@CookieValue(value = &quot;company&quot;,required = false)</span> String company,</span><br><span class="hljs-params">            <span class="hljs-meta">@SessionAttribute(value = &quot;username&quot;,required = false)</span> String onlineUser,</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestAttribute(required = false)</span> Integer count,</span><br><span class="hljs-params">            <span class="hljs-meta">@ModelAttribute(&quot;date&quot;)</span> Date date,</span><br><span class="hljs-params">            <span class="hljs-meta">@SessionAttribute(value = &quot;date&quot;,required = false)</span> Date sessionDate</span><br><span class="hljs-params">    )</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;sessionDate = &quot;</span> + sessionDate);<br>        System.out.println(<span class="hljs-string">&quot;date = &quot;</span> + date);<br>        System.out.println(<span class="hljs-string">&quot;count = &quot;</span> + count);<br>        System.out.println(<span class="hljs-string">&quot;onlineUser = &quot;</span> + onlineUser);<br>        System.out.println(<span class="hljs-string">&quot;age = &quot;</span> + age);<br>        System.out.println(<span class="hljs-string">&quot;contentType = &quot;</span> + contentType);<br>        System.out.println(<span class="hljs-string">&quot;name = &quot;</span> + name);<br>        System.out.println(<span class="hljs-string">&quot;company = &quot;</span> + company);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>    &#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-æ•°ç»„çš„ä¼ é€’" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8-æ•°ç»„çš„ä¼ é€’">#</a> ï¼ˆ8ï¼‰æ•°ç»„çš„ä¼ é€’</h4><p>åœ¨ç±»ä¼¼æ‰¹é‡åˆ é™¤çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¼ é€’ä¸€ä¸ªidæ•°ç»„ï¼Œæ­¤æ—¶æˆ‘ä»¬ä»…ä»…éœ€è¦å°†æ–¹æ³•çš„å‚æ•°æŒ‡å®šä¸ºæ•°ç»„å³å¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/array&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">testArray</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;array&quot;)</span> String[] array)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(Arrays.toString(array));<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;array&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥å‘é€å¦‚ä¸‹è¯·æ±‚ï¼Œå¯ä»¥æ˜¯å¤šä¸ªåç§°ç›¸åŒçš„keyï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªkeyï¼Œä½†æ˜¯å€¼ä»¥é€—å·åˆ†å‰²çš„å‚æ•°ï¼š</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">http://localhost:8080/app/hellomvc?array=1,2,3,4<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>æˆ–è€…</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">http://localhost:8080/app/hellomvc?array=1&amp;amp;array=3<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>ç»“æœéƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š</p><figure><img class="lazy" alt="image-20211227000947754" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211227000947754-2d3907cc.png" tabindex="0"/><figcaption>image-20211227000947754</figcaption></figure><h4 id="_9-å¤æ‚å‚æ•°çš„ä¼ é€’" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_9-å¤æ‚å‚æ•°çš„ä¼ é€’">#</a> ï¼ˆ9ï¼‰å¤æ‚å‚æ•°çš„ä¼ é€’</h4><p>å½“ç„¶æˆ‘ä»¬åœ¨è¿›è¡Œå‚æ•°æ¥æ”¶çš„æ—¶å€™ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«å¾ˆå¤æ‚çš„å‚æ•°ï¼Œä¸€ä¸ªè¯·æ±‚ä¸­å¯èƒ½åŒ…å«å¾ˆå¤šé¡¹å†…å®¹ï¼Œæ¯”å¦‚ä»¥ä¸‹è¡¨å•ï¼š</p><p>å½“ç„¶æˆ‘ä»¬è¦æ³¨æ„è¡¨å•ä¸­çš„nameï¼ˆå‚æ•°ä¸­keyï¼‰çš„å†™æ³•ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>form action=&quot;user/queryParam&quot; method=&quot;post&quot;<span class="hljs-symbol">&amp;gt;</span><br>    æ’åºå­—æ®µï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;sortField&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>hr<span class="hljs-symbol">&amp;gt;</span><br>    æ•°ç»„ï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;ids[0]&quot;<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;ids[1]&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>hr<span class="hljs-symbol">&amp;gt;</span><br>    userå¯¹è±¡ï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;user.username&quot; placeholder=&quot;å§“å&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;user.password&quot; placeholder=&quot;å¯†ç &quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>hr<span class="hljs-symbol">&amp;gt;</span><br>    listé›†åˆ<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userList[0].username&quot; placeholder=&quot;å§“å&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userList[0].password&quot; placeholder=&quot;å¯†ç &quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    ç¬¬äºŒä¸ªå…ƒç´ ï¼š <span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userList[1].username&quot; placeholder=&quot;å§“å&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userList[1].password&quot; placeholder=&quot;å¯†ç &quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>hr<span class="hljs-symbol">&amp;gt;</span><br>    mapé›†åˆ<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userMap[&#x27;user1&#x27;].username&quot; placeholder=&quot;å§“å&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userMap[&#x27;user1&#x27;].password&quot; placeholder=&quot;å¯†ç &quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    ç¬¬äºŒä¸ªå…ƒç´ ï¼š<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userMap[&#x27;user2&#x27;].username&quot; placeholder=&quot;å§“å&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; name=&quot;userMap[&#x27;user2&#x27;].password&quot; placeholder=&quot;å¯†ç &quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>input type=&quot;submit&quot; value=&quot;æäº¤&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/form<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬éœ€è¦æä¸€ä¸ªå®ä½“ç±»ç”¨æ¥æ¥æ”¶è¿™ä¸ªè¡¨å•çš„å‚æ•°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">QueryVo</span> &#123;<br>    <span class="hljs-keyword">private</span> String sortField;<br>    <span class="hljs-keyword">private</span> User user;<br>    <span class="hljs-keyword">private</span> Long[] ids;<br>    <span class="hljs-keyword">private</span> List&amp;lt;User&amp;gt; userList;<br>    <span class="hljs-keyword">private</span> Map&amp;lt;String, User&amp;gt; userMap;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™æ¥å£è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°è¡¨å•çš„æ•°æ®å·²ç»å°½æ•°ä¼ é€’äº†è¿›æ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;queryParam&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">queryParam</span><span class="hljs-params">(QueryVo queryVo)</span> &#123;<br>    System.out.println(queryVo);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‹“å±•çŸ¥è¯†ï¼š</p></blockquote><ul><li>VOï¼ˆView Objectï¼‰ï¼šè§†å›¾å¯¹è±¡ï¼Œç”¨äºå±•ç¤ºå±‚ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠæŸä¸ªæŒ‡å®šé¡µé¢ï¼ˆæˆ–ç»„ä»¶ï¼‰çš„æ‰€æœ‰æ•°æ®å°è£…èµ·æ¥ã€‚</li><li>DTOï¼ˆData Transfer Objectï¼‰ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œè¿™ä¸ªæ¦‚å¿µæ¥æºäºJ2EEçš„è®¾è®¡æ¨¡å¼ï¼ŒåŸæ¥çš„ç›®çš„æ˜¯ä¸ºäº†EJBçš„åˆ†å¸ƒå¼åº”ç”¨æä¾›ç²—ç²’åº¦çš„æ•°æ®å®ä½“ï¼Œä»¥å‡å°‘åˆ†å¸ƒå¼è°ƒç”¨çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜åˆ†å¸ƒå¼è°ƒç”¨çš„æ€§èƒ½å’Œé™ä½ç½‘ç»œè´Ÿè½½ï¼Œä½†åœ¨è¿™é‡Œï¼Œæˆ‘æ³›æŒ‡ç”¨äºå±•ç¤ºå±‚ä¸æœåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¯¹è±¡ã€‚</li><li>DOï¼ˆDomain Objectï¼‰ï¼šé¢†åŸŸå¯¹è±¡ï¼Œå°±æ˜¯ä»ç°å®ä¸–ç•Œä¸­æŠ½è±¡å‡ºæ¥çš„æœ‰å½¢æˆ–æ— å½¢çš„ä¸šåŠ¡å®ä½“ã€‚</li><li>POï¼ˆPersistent Objectï¼‰ï¼šæŒä¹…åŒ–å¯¹è±¡ï¼Œå®ƒè·ŸæŒä¹…å±‚ï¼ˆé€šå¸¸æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼‰çš„æ•°æ®ç»“æ„å½¢æˆä¸€ä¸€å¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œå¦‚æœæŒä¹…å±‚æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œé‚£ä¹ˆï¼Œæ•°æ®è¡¨ä¸­çš„æ¯ä¸ªå­—æ®µï¼ˆæˆ–è‹¥å¹²ä¸ªï¼‰å°±å¯¹åº”POçš„ä¸€ä¸ªï¼ˆæˆ–è‹¥å¹²ä¸ªï¼‰å±æ€§ã€‚</li></ul><p>ä¸‹é¢ä»¥ä¸€ä¸ªæ—¶åºå›¾å»ºç«‹ç®€å•æ¨¡å‹æ¥æè¿°ä¸Šè¿°å¯¹è±¡åœ¨ä¸‰å±‚æ¶æ„åº”ç”¨ä¸­çš„ä½ç½®ï¼š</p><figure><img class="lazy" alt="image-20211229113542929" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229113542929-65d730e2.png" tabindex="0"/><figcaption>image-20211229113542929</figcaption></figure><p>å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ˆå¯èƒ½æ˜¯å¡«å†™è¡¨å•ï¼‰ï¼Œè¡¨å•çš„æ•°æ®åœ¨å±•ç¤ºå±‚è¢«åŒ¹é…ä¸ºVOï¼›</li><li>å±•ç¤ºå±‚æŠŠVOè½¬æ¢ä¸ºæœåŠ¡å±‚å¯¹åº”æ–¹æ³•æ‰€è¦æ±‚çš„DTOï¼Œä¼ é€ç»™æœåŠ¡å±‚ï¼›</li><li>æœåŠ¡å±‚é¦–å…ˆæ ¹æ®DTOçš„æ•°æ®æ„é€ ï¼ˆæˆ–é‡å»ºï¼‰ä¸€ä¸ªDOï¼Œè°ƒç”¨DOçš„ä¸šåŠ¡æ–¹æ³•å®Œæˆå…·ä½“ä¸šåŠ¡ï¼›</li><li>æœåŠ¡å±‚æŠŠDOè½¬æ¢ä¸ºæŒä¹…å±‚å¯¹åº”çš„POï¼ˆå¯ä»¥ä½¿ç”¨ORMå·¥å…·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼‰ï¼Œè°ƒç”¨æŒä¹…å±‚çš„æŒä¹…åŒ–æ–¹æ³•ï¼ŒæŠŠPOä¼ é€’ç»™å®ƒï¼Œå®ŒæˆæŒä¹…åŒ–æ“ä½œï¼›</li><li>æ•°æ®ä¼ è¾“é¡ºåºï¼šVO ===&gt; DTO ===&gt; DO ===&gt; PO</li></ul><p>ç›¸å¯¹æ¥è¯´è¶Šæ˜¯é è¿‘æ˜¾ç¤ºå±‚çš„æ¦‚å¿µè¶Šä¸ç¨³å®šï¼Œå¤ç”¨åº¦è¶Šä½ã€‚åˆ†å±‚çš„ç›®çš„ï¼Œå°±æ˜¯å¤ç”¨å’Œç›¸å¯¹ç¨³å®šæ€§ã€‚</p><p>**å°çŸ¥è¯†ï¼š**ä¸€èˆ¬çš„ç®€å•å·¥ç¨‹ä¸­ï¼Œå¹¶ä¸ä¼šè¿›è¡Œè¿™æ ·çš„è®¾è®¡ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸€ä¸ªUserç±»å°±å¯ä»¥äº†ï¼Œå¹¶ä¸éœ€è¦ä»€ä¹ˆVOã€DOå•¥çš„ã€‚ä½†æ˜¯ï¼Œéšç€é¡¹ç›®å·¥ç¨‹çš„å¤æ‚åŒ–ï¼Œç®€å•çš„å¯¹è±¡å·²ç»æ²¡æœ‰åŠæ³•åœ¨å„ä¸ªå±‚çš„ä½¿ç”¨ï¼Œé¡¹ç›®è¶Šæ˜¯å¤æ‚ï¼Œå°±éœ€è¦è¶Šæ˜¯å¤æ‚çš„è®¾è®¡æ–¹æ¡ˆï¼Œè¿™æ ·æ‰èƒ½æ»¡è¶³é«˜æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚</p><h3 id="_6ã€è®¾å®šå­—ç¬¦é›†" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6ã€è®¾å®šå­—ç¬¦é›†">#</a> 6ã€è®¾å®šå­—ç¬¦é›†</h3><blockquote><p>springmvcå†…ç½®äº†ä¸€ä¸ªç»Ÿä¸€çš„å­—ç¬¦é›†å¤„ç†è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬åªè¦åœ¨<code>web.xml</code>ä¸­é…ç½®å³å¯ï¼š</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>CharacterEncodingFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-class<span class="hljs-symbol">&amp;gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-symbol">&amp;lt;</span>/filter-class<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>encoding<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>utf-8<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>filter-mapping<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>CharacterEncodingFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/*<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter-mapping<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>çœ‹çœ‹ä»–çš„æ ¸å¿ƒæºç ï¼Œæ˜¯ä¸æ˜¯å’Œæˆ‘ä»¬ä¹‹å‰è‡ªå·±å†™çš„å¾ˆåƒå‘¢ï¼Ÿ</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilterInternal</span><span class="hljs-params">(</span><br><span class="hljs-params">    HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span><br>    <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    <span class="hljs-type">String</span> <span class="hljs-variable">encoding</span> <span class="hljs-operator">=</span> getEncoding();<br>    <span class="hljs-keyword">if</span> (encoding != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">if</span> (isForceRequestEncoding() || request.getCharacterEncoding() == <span class="hljs-literal">null</span>) &#123;<br>            request.setCharacterEncoding(encoding);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (isForceResponseEncoding()) &#123;<br>            response.setCharacterEncoding(encoding);<br>        &#125;<br>    &#125;<br>    filterChain.doFilter(request, response);<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7ã€è¿”å›jsonæ•°æ®-åºåˆ—åŒ–" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7ã€è¿”å›jsonæ•°æ®-åºåˆ—åŒ–">#</a> 7ã€è¿”å›jsonæ•°æ®ï¼ˆåºåˆ—åŒ–ï¼‰</h3><blockquote><p>æˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨ajaxè¯·æ±‚åå°è·å–æ•°æ®ï¼Œè€Œä¸éœ€è¦è®¿é—®ä»»ä½•çš„é¡µé¢ï¼Œè¿™ç§åœºæ™¯åœ¨å‰ååˆ†ç¦»çš„é¡¹ç›®å½“ä¸­å°¤å…¶é‡è¦ï¼š</p></blockquote><p>è¿™ç§åšæ³•å…¶å®å¾ˆç®€å•ï¼Œå¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li><p>å°†æˆ‘ä»¬çš„å¯¹è±¡è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸²ã€‚</p></li><li><p>å°†è¿”å›çš„å†…å®¹ç›´æ¥å†™å…¥å“åº”ä½“ï¼Œä¸èµ°è§†å›¾è§£æå™¨ã€‚</p></li><li><p>ç„¶åå°†Content-Typeè®¾ç½®ä¸º<code>application/json</code>å³å¯ã€‚</p></li></ul><p>ä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥fastjsonï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.alibaba<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>fastjson<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.68<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// producesæŒ‡å®šäº†å“åº”çš„Content-Type</span><br><span class="hljs-meta">@RequestMapping(value = &quot;getUsers&quot;,produces = &#123;&quot;application/json;charset=utf-8&quot;&#125;)</span><br><span class="hljs-meta">@ResponseBody</span>  <span class="hljs-comment">// å°†è¿”å›çš„ç»“æœç›´æ¥å†™å…¥å“åº”ä½“ï¼Œä¸èµ°è§†å›¾è§£æå™¨</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsers</span><span class="hljs-params">()</span>&#123;<br>    List&amp;lt;User&amp;gt; users =  <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&amp;lt;User&amp;gt;()&#123;&#123;<br>        add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Tom&quot;</span>,<span class="hljs-string">&quot;2222&quot;</span>));<br>        add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;jerry&quot;</span>,<span class="hljs-string">&quot;333&quot;</span>));<br>    &#125;&#125;;<br>    <span class="hljs-keyword">return</span> JSONArray.toJSONString(users);<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ï¼šæˆåŠŸï¼</p><p><strong>æ³¨æ„ï¼š</strong>@ResponseBodyèƒ½å°†è¿”å›çš„ç»“æœç›´æ¥æ”¾åœ¨å“åº”ä½“ä¸­ï¼Œä¸èµ°è§†å›¾è§£æå™¨ã€‚</p><figure><img class="lazy" alt="image-20220104165859913" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104165859913-6fceaea0.png" tabindex="0"/><figcaption>image-20220104165859913</figcaption></figure><p>æµè§ˆå™¨ä¸­æ·»åŠ æ’ä»¶json viewerå¯ä»¥æœ‰å¦‚ä¸Šæ˜¾ç¤ºï¼š</p><figure><img class="lazy" alt="image-20220104165437124" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104165437124-263169b2.png" tabindex="0"/><figcaption>image-20220104165437124</figcaption></figure><blockquote><p>å½“ç„¶springmvcä¹Ÿè€ƒè™‘åˆ°äº†ï¼Œæ¯æ¬¡è¿™æ ·å†™ä¹Ÿå…¶å®æŒºéº»çƒ¦ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å‘å®¹å™¨æ³¨å…¥ä¸€ä¸ªä¸“é—¨å¤„ç†æ¶ˆæ¯è½¬æ¢çš„beanï¼š</p></blockquote><p>è¿™ä¸ªè½¬åŒ–å™¨çš„ä½œç”¨å°±æ˜¯ï¼šå½“ä¸èµ°è§†å›¾è§£æå™¨æ—¶ï¼Œå¦‚æœå‘ç°ã€è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‘ï¼Œå°±ä¼šè‡ªåŠ¨å°†è¿”å›å€¼è½¬åŒ–ä¸ºjsonå­—ç¬¦åºåˆ—ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven <span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;fastjson&quot; class=&quot;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&quot;<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>property name=&quot;supportedMediaTypes&quot;<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>list<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>!-- è¿™é‡Œé¡ºåºä¸èƒ½åï¼Œä¸€å®šå…ˆå†™text/html,ä¸ç„¶ieä¸‹ä¼šå‡ºç°ä¸‹è½½æç¤º --<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>text/html;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>application/json;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>/list<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/property<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/mvc:annotation-driven<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥åæˆ‘ä»¬çš„controllerå°±å¯ä»¥å†™æˆä¸‹è¾¹çš„æ ·å­äº†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;getUsersList&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> List&amp;lt;User&amp;gt; getUsersList()&#123;<br>    <span class="hljs-keyword">return</span>   <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&amp;lt;User&amp;gt;()&#123;&#123;<br>        add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;é‚¸æ™ºä¼Ÿ&quot;</span>,<span class="hljs-string">&quot;2222&quot;</span>));<br>        add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;åˆ˜å±•é¹&quot;</span>,<span class="hljs-string">&quot;333&quot;</span>));<br>    &#125;&#125;;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ›´åŠ æµè¡Œçš„ç»„ä»¶jacksonæ¥å¤„ç†ï¼Œä»–çš„å·¥ä½œå’Œfastjsonä¸€è‡´ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥ä»¥ä¸‹ä¾èµ–ï¼š</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--jackson--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-core<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-annotations<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-databind<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬è¿˜å¯ä»¥å¯¹åºåˆ—åŒ–çš„è¿‡ç¨‹è¿›è¡Œé¢å¤–çš„ä¸€äº›é…ç½®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomObjectMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ObjectMapper</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomObjectMapper</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>();<br>        <span class="hljs-comment">//å»æ‰é»˜è®¤çš„æ—¶é—´æˆ³æ ¼å¼</span><br>        configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">//è®¾ç½®ä¸ºä¸œå…«åŒº</span><br>        setTimeZone(TimeZone.getTimeZone(<span class="hljs-string">&quot;GMT+8&quot;</span>));<br>        <span class="hljs-comment">//è®¾ç½®æ—¥æœŸè½¬æ¢yyyy-MM-dd HH:mm:ss</span><br>        setDateFormat(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));<br>        <span class="hljs-comment">// è®¾ç½®è¾“å…¥:ç¦æ­¢æŠŠPOJOä¸­å€¼ä¸ºnullçš„å­—æ®µæ˜ å°„åˆ°jsonå­—ç¬¦ä¸²ä¸­</span><br>        configure(SerializationFeature.WRITE_NULL_MAP_VALUES, <span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">// ç©ºå€¼ä¸åºåˆ—åŒ–</span><br>        setSerializationInclusion(JsonInclude.Include.NON_NULL);<br>        <span class="hljs-comment">// ååºåˆ—åŒ–æ—¶ï¼Œå±æ€§ä¸å­˜åœ¨çš„å…¼å®¹å¤„ç†</span><br>        getDeserializationConfig().withoutFeatures(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);<br>        <span class="hljs-comment">// åºåˆ—åŒ–æšä¸¾æ˜¯ä»¥toString()æ¥è¾“å‡ºï¼Œé»˜è®¤falseï¼Œå³é»˜è®¤ä»¥name()æ¥è¾“å‡º</span><br>        configure(SerializationFeature.WRITE_ENUMS_USING_TO_STRING, <span class="hljs-literal">true</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™é…ç½®æ–‡ä»¶ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- è‡ªå®šä¹‰Jacksonçš„objectMapper --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>property name=&quot;objectMapper&quot; ref=&quot;customObjectMapper&quot; /<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>property name=&quot;supportedMediaTypes&quot;<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>list<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>text/plain;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>application/json;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/list<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/property<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/mvc:annotation-driven<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!--æ³¨å…¥æˆ‘ä»¬å†™çš„å¯¹jacksonçš„é…ç½®çš„bean--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean name=&quot;customObjectMapper&quot; class=&quot;com.ydlclass.CustomObjectMapper&quot;/<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•æˆåŠŸï¼š</p><h3 id="_8ã€è·å–è¯·æ±‚ä¸­çš„jsonæ•°æ®" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8ã€è·å–è¯·æ±‚ä¸­çš„jsonæ•°æ®">#</a> 8ã€è·å–è¯·æ±‚ä¸­çš„jsonæ•°æ®</h3><p>åœ¨å‰ç«¯å‘é€çš„æ•°æ®ä¸­å¯èƒ½ä¼šå¦‚å¦‚ä¸‹æƒ…å†µï¼ŒContetn-Typeæ˜¯application/jsonï¼Œè¯·æ±‚ä½“ä¸­æ˜¯jsonæ ¼å¼æ•°æ®ï¼š</p><figure><img class="lazy" alt="image-20210129214924284" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20210129214924284-60b527c1.png" tabindex="0"/><figcaption>image-20210129214924284</figcaption></figure><p>@RequestBodyæ³¨è§£å¯ä»¥ã€ç›´æ¥è·å–è¯·æ±‚ä½“çš„æ•°æ®ã€‘ã€‚</p><p>å¦‚æœæˆ‘ä»¬é…ç½®äº†æ¶ˆæ¯è½¬åŒ–å™¨ï¼Œæ¶ˆæ¯è½¬åŒ–å™¨ä¼šå°†è¯·æ±‚ä½“ä¸­çš„jsonæ•°æ®ååºåˆ—åŒ–æˆç›®æ ‡å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;insertUser&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">insertUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> &#123;<br>    System.out.println(user);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å§æ¶ˆæ¯è½¬åŒ–å™¨æ³¨è§£æ‰ï¼Œç›´æ¥ä½¿ç”¨ä¸€ä¸ªStringæ¥æ¥æ”¶è¯·æ±‚ä½“çš„å†…å®¹ï¼š</p><h3 id="_9ã€æ•°æ®è½¬åŒ–" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_9ã€æ•°æ®è½¬åŒ–">#</a> 9ã€æ•°æ®è½¬åŒ–</h3><p>å‡å¦‚æœ‰å¦‚ä¸‹åœºæ™¯ï¼Œå‰ç«¯ä¼ é€’è¿‡æ¥ä¸€ä¸ªæ—¥æœŸå­—ç¬¦ä¸²ï¼Œä½†æ˜¯åç«¯éœ€è¦ä½¿ç”¨Dateç±»å‹è¿›è¡Œæ¥æ”¶ï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ä¸ªç±»å‹è½¬åŒ–å™¨è¿›è¡Œè½¬åŒ–ã€‚</p><p>è‡ªå®šä¹‰çš„ç±»å‹è½¬åŒ–å™¨åªæ”¯æŒä»requestParamè·å–çš„å‚æ•°è¿›è¡Œè½¬åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼Œå…¶å®å­¦ä¹ springæ—¶æˆ‘ä»¬å·²ç»æ¥è§¦è¿‡è¿™ä¸ªConverteræ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringToDateConverter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Converter</span>&amp;lt;String, Date&amp;gt; &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">convert</span><span class="hljs-params">(String source)</span> &#123;<br>        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">simpleDateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy_MM_dd hh,mm,ss&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> simpleDateFormat.parse(source);<br>        &#125; <span class="hljs-keyword">catch</span> (ParseException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!-- å¼€å¯mvcçš„æ³¨è§£ --<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven conversion-service=&quot;conversionService&quot; /<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;converters&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>set<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;stringToDateConverter&quot; class=&quot;cn.itnanls.convertors.StringToDateConverter&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/set<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/property<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¯¹äºæ—¶é—´ç±»å‹çš„å¤„ç†ï¼Œspringmvcç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒå®Œå–„çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨æ³¨è§£@DateTimeFormatï¼ŒåŒæ—¶é…åˆjacksonæä¾›çš„@JsonFormatæ³¨è§£å‡ ä¹å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„æ‰€æœ‰éœ€æ±‚ã€‚</p></blockquote><p>@DateTimeFormatï¼šå½“ä»requestParamä¸­è·å–stringå‚æ•°å¹¶éœ€è¦è½¬åŒ–ä¸ºDateç±»å‹æ—¶ï¼Œä¼šæ ¹æ®æ­¤æ³¨è§£çš„å‚æ•°patternçš„æ ¼å¼è¿›è¡Œè½¬åŒ–ã€‚</p><p>@JsonFormatï¼šå½“ä»è¯·æ±‚ä½“ä¸­è·å–jsonå­—ç¬¦åºåˆ—ï¼Œéœ€è¦ååºåˆ—åŒ–ä¸ºå¯¹è±¡æ—¶ï¼Œæ—¶é—´ç±»å‹ä¼šæŒ‰ç…§è¿™ä¸ªæ³¨è§£çš„å±æ€§å†…å®¹è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™ä¸¤ä¸ªæ³¨è§£éœ€è¦åŠ åœ¨å®ä½“ç±»çš„å¯¹åº”å­—æ®µä¸Šå³å¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¯¹è±¡å’Œjsonäº’ç›¸è½¬åŒ–çš„è¿‡ç¨‹å½“ä¸­æŒ‰ç…§æ­¤è½¬åŒ–æ–¹å¼è½¬å“ˆ</span><br><span class="hljs-meta">@JsonFormat(</span><br><span class="hljs-meta">            pattern = &quot;yyyyå¹´MMæœˆddæ—¥&quot;,</span><br><span class="hljs-meta">            timezone = &quot;GMT-8&quot;</span><br><span class="hljs-meta">    )</span><br><span class="hljs-comment">// ä»requestParamä¸­è·å–å‚æ•°å¹¶ä¸”è½¬åŒ–</span><br><span class="hljs-meta">@DateTimeFormat(pattern = &quot;yyyyå¹´MMæœˆddæ—¥&quot;)</span><br><span class="hljs-keyword">private</span> Date birthday;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¤„ç†çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p></blockquote><figure><img class="lazy" alt="image-20220104170103757" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104170103757-7595d58e.png" tabindex="0"/><figcaption>image-20220104170103757</figcaption></figure><h3 id="_10ã€æ•°æ®æ ¡éªŒ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_10ã€æ•°æ®æ ¡éªŒ">#</a> 10ã€æ•°æ®æ ¡éªŒ</h3><ul><li>JSR 303 æ˜¯ Java ä¸º Bean æ•°æ®åˆæ³•æ€§æ ¡éªŒæä¾›çš„æ ‡å‡†æ¡†æ¶ï¼Œå®ƒåŒ…å«åœ¨ JavaEE 6.0 ä¸­ã€‚</li><li>JSR 303 é€šè¿‡åœ¨ Bean å±æ€§ä¸Šæ ‡æ³¨ç±»ä¼¼äº @NotNullã€@Max ç­‰æ ‡å‡†çš„æ³¨è§£æŒ‡å®šæ ¡éªŒè§„åˆ™ï¼Œå¹¶é€šè¿‡æ ‡å‡†çš„éªŒè¯æ¥å£å¯¹ Bean è¿›è¡ŒéªŒè¯ã€‚</li></ul><table><thead><tr><th><strong>Constraint</strong></th><th><strong>è¯¦ç»†ä¿¡æ¯</strong></th></tr></thead><tbody><tr><td><code>@Null</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸º <code>null</code></td></tr><tr><td><code>@NotNull</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸ä¸º <code>null</code></td></tr><tr><td><code>@AssertTrue</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸º <code>true</code></td></tr><tr><td><code>@AssertFalse</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸º <code>false</code></td></tr><tr><td><code>@Min(value)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</td></tr><tr><td><code>@Max(value)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</td></tr><tr><td><code>@DecimalMin(value)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</td></tr><tr><td><code>@DecimalMax(value)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</td></tr><tr><td><code>@Size(max, min)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…</td></tr><tr><td><code>@Digits (integer, fraction)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†…</td></tr><tr><td><code>@Past</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ</td></tr><tr><td><code>@Future</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ</td></tr><tr><td><code>@Pattern(value)</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼</td></tr></tbody></table><blockquote><p>Hibernate Validator æ‰©å±•æ³¨è§£</p></blockquote><p>Hibernate Validator æ˜¯ JSR 303 çš„ä¸€ä¸ªå‚è€ƒå®ç°ï¼Œé™¤æ”¯æŒæ‰€æœ‰æ ‡å‡†çš„æ ¡éªŒæ³¨è§£å¤–ï¼Œå®ƒè¿˜æ”¯æŒä»¥ä¸‹çš„æ‰©å±•æ³¨è§£</p><p>Hibernate Validator é™„åŠ çš„ constraint</p><table><thead><tr><th><strong>Constraint</strong></th><th><strong>è¯¦ç»†ä¿¡æ¯</strong></th></tr></thead><tbody><tr><td><code>@Email</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ç®±åœ°å€</td></tr><tr><td><code>@Length</code></td><td>è¢«æ³¨è§£çš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…</td></tr><tr><td><code>@NotEmpty</code></td><td>è¢«æ³¨è§£çš„å­—ç¬¦ä¸²çš„å¿…é¡»éç©º</td></tr><tr><td><code>@Range</code></td><td>è¢«æ³¨è§£çš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…</td></tr></tbody></table><blockquote><p>Spring MVC æ•°æ®æ ¡éªŒ</p></blockquote><p>Spring MVC å¯ä»¥å¯¹è¡¨å•å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°å¯¹åº”çš„ã€BindingResultã€‘æˆ– ã€Errors ã€‘å¯¹è±¡ä¸­ã€‚</p><blockquote><p>è¦å®ç°æ•°æ®æ ¡éªŒï¼Œéœ€è¦å¼•å…¥å·²ä¸‹ä¾èµ–</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.validation<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>validation-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.0.1.Final<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.hibernate<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>hibernate-validator<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>6.0.9.Final<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¹¶åœ¨å®ä½“ç±»åŠ ä¸Šç‰¹å®šæ³¨è§£</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserVO</span> &#123;<br><br>    <span class="hljs-meta">@NotNull(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)</span><br>    <span class="hljs-keyword">private</span> String username;<br><br>    <span class="hljs-meta">@NotNull(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)</span><br>    <span class="hljs-keyword">private</span> String password;<br><br>    <span class="hljs-meta">@Min(value = 0, message = &quot;å¹´é¾„ä¸èƒ½å°äº&#123;value&#125;&quot;)</span><br>    <span class="hljs-meta">@Max(value = 120,message = &quot;å¹´é¾„ä¸èƒ½å¤§äº&#123;value&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-meta">@JsonFormat(</span><br><span class="hljs-meta">            pattern = &quot;yyyy-MM-dd&quot;,</span><br><span class="hljs-meta">            timezone = &quot;GMT-8&quot;</span><br><span class="hljs-meta">    )</span><br>    <span class="hljs-meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</span><br>    <span class="hljs-meta">@Past(message = &quot;ç”Ÿæ—¥ä¸èƒ½å¤§äºä»Šå¤©&quot;)</span><br>    <span class="hljs-keyword">private</span> Date birthday;<br><br>    <span class="hljs-meta">@Pattern(regexp = &quot;^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]&#123;8&#125;$&quot;, message = &quot;æ‰‹æœºå·ç ä¸æ­£ç¡®&quot;)</span><br>    <span class="hljs-keyword">private</span> String phone;<br><br>    <span class="hljs-meta">@Email</span><br>    <span class="hljs-keyword">private</span> String email;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹å†…å®¹ï¼Œå¢åŠ hibernateæ ¡éªŒï¼š</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;localValidator&quot; class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;providerClass&quot; value=&quot;org.hibernate.validator.HibernateValidator&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!--æ³¨å†Œæ³¨è§£é©±åŠ¨--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven validator=&quot;localValidator&quot;/<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>controllerä½¿ç”¨@Validatedæ ‡è¯†éªŒè¯çš„å¯¹è±¡ï¼Œç´§è·Ÿç€çš„BindingResultè·å–é”™è¯¯ä¿¡æ¯</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;insert&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">insert</span><span class="hljs-params">(<span class="hljs-meta">@Validated</span> UserVO user, BindingResult br)</span> &#123;<br>    List&amp;lt;ObjectError&amp;gt; allErrors = br.getAllErrors();<br>    Iterator&amp;lt;ObjectError&amp;gt; iterator = allErrors.iterator();<br>    <span class="hljs-comment">// æ‰“å°ä»¥ä¸‹é”™è¯¯ç»“æœ</span><br>    <span class="hljs-keyword">while</span> (iterator.hasNext())&#123;<br>        <span class="hljs-type">ObjectError</span> <span class="hljs-variable">error</span> <span class="hljs-operator">=</span> iterator.next();<br>        log.error(<span class="hljs-string">&quot;useræ•°æ®æ ¡éªŒé”™è¯¯:&#123;&#125;&quot;</span>,error.getDefaultMessage());<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(allErrors.size() &amp;gt; <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;error&quot;</span>;<br>    &#125;<br><br>    System.out.println(user);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æµ‹è¯•ï¼š</p></blockquote><p>æ°¸è¿œä¸è¦ç›¸ä¿¡ç”¨æˆ·çš„è¾“å…¥ï¼Œæˆ‘ä»¬å¼€å‘çš„ç³»ç»Ÿå‡¡æ˜¯æ¶‰åŠåˆ°ç”¨æˆ·è¾“å…¥çš„åœ°æ–¹ï¼Œéƒ½è¦è¿›è¡Œæ ¡éªŒï¼Œè¿™é‡Œçš„æ ¡éªŒåˆ†ä¸ºå‰å°æ ¡éªŒå’Œåå°æ ¡éªŒï¼Œå‰å°æ ¡éªŒé€šå¸¸ç”±javascriptæ¥å®Œæˆï¼Œåå°æ ¡éªŒä¸»è¦ç”±javaæ¥è´Ÿè´£ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡spring mvc+hibernate validatorå®Œæˆã€‚</p><h3 id="_11ã€è§†å›¾è§£æå™¨è¯¦è§£" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_11ã€è§†å›¾è§£æå™¨è¯¦è§£">#</a> 11ã€è§†å›¾è§£æå™¨è¯¦è§£</h3><p>æˆ‘ä»¬é»˜è®¤çš„è§†å›¾è§£æå™¨æ˜¯å¦‚ä¸‹çš„é…ç½®ï¼Œå®ƒä¸»è¦æ˜¯å¤„ç†jspé¡µé¢çš„æ˜ å°„æ¸²æŸ“ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;  id=&quot;internalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å‰ç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot; /<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ æ–°çš„è§†å›¾è§£æå™¨ï¼Œåˆ™éœ€è¦ç»™æ—§çš„æ–°å¢ä¸€ä¸ªorderå±æ€§ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤åŸæœ‰çš„è§†å›¾è§£æå™¨ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; id=&quot;internalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å‰ç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;order&quot; value=&quot;10&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>è¿™é‡Œçš„orderè¡¨ç¤ºè§†å›¾è§£æçš„ã€ä¼˜å…ˆçº§ã€‘ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šå¤§ï¼ˆå³ï¼š0ä¸ºä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥ä¼˜å…ˆè¿›è¡Œå¤„ç†è§†å›¾ï¼‰ï¼ŒInternalResourceViewResolveråœ¨é¡¹ç›®ä¸­çš„ä¼˜å…ˆçº§ä¸€èˆ¬è¦è®¾ç½®ä¸ºæœ€ä½ï¼Œä¹Ÿå°±æ˜¯orderè¦æœ€å¤§ã€‚ä¸ç„¶å®ƒä¼šå½±å“å…¶ä»–è§†å›¾è§£æå™¨ã€‚</p></li><li><p>å½“å¤„ç†å™¨è¿”å›é€»è¾‘è§†å›¾æ—¶ï¼ˆä¹Ÿå°±æ˜¯return â€œstringâ€ï¼‰ï¼Œè¦ç»è¿‡<strong>è§†å›¾è§£æå™¨é“¾</strong>ï¼Œå¦‚æœå‰é¢çš„è§£æå™¨èƒ½å¤„ç†ï¼Œå°±ä¸ä¼šç»§ç»­å¾€ä¸‹ä¼ æ’­ã€‚å¦‚æœä¸èƒ½å¤„ç†å°±è¦æ²¿ç€è§£æå™¨é“¾ç»§ç»­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„è§†å›¾è§£æå™¨ã€‚</p></li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img class="lazy" alt="image-20211230114025288" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211230114025288-521ba23f.png" tabindex="0"/><figcaption>image-20211230114025288</figcaption></figure><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªæ–°çš„Tymeleafè§†å›¾è§£æå™¨ï¼Œorderè®¾ç½®çš„ä½ä¸€äº›ï¼Œè¿™æ ·ä¸¤ä¸ªè§†å›¾è§£æå™¨éƒ½å¯ä»¥ç”Ÿæ•ˆï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--thymeleafçš„è§†å›¾è§£æå™¨--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;templateResolver&quot;<br>      class=&quot;org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.html&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;templateMode&quot; value=&quot;HTML&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;cacheable&quot; value=&quot;true&quot; /<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!--thymeleafçš„æ¨¡æ¿å¼•æ“é…ç½®--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;templateEngine&quot;<br>      class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;enableSpringELCompiler&quot; value=&quot;true&quot; /<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;viewResolver&quot; class=&quot;org.thymeleaf.spring4.view.ThymeleafViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;order&quot; value=&quot;1&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ·»åŠ ä¸¤ä¸ªç›¸å…³ä¾èµ–</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.thymeleaf<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>thymeleaf<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.0.14.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!-- https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf-spring4 --<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.thymeleaf<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>thymeleaf-spring4<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.0.14.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ¨¡æ¿ä¸­éœ€è¦æ·»åŠ å¯¹åº”çš„å‘½åç©ºé—´</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>html xmlns:th=&quot;http://www.thymeleaf.org&quot; <span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>thymeleafå®˜ç½‘ï¼š<a href="https://www.thymeleaf.org/" rel="noopener noreferrer" target="_blank">Thymeleaf<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>thymeleafè¯­æ³•è¯¦è§£ï¼š</p><h3 id="_12ã€å…¨å±€å¼‚å¸¸æ•è·" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_12ã€å…¨å±€å¼‚å¸¸æ•è·">#</a> 12ã€å…¨å±€å¼‚å¸¸æ•è·</h3><h4 id="_1-handlerexceptionresolver" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-handlerexceptionresolver">#</a> ï¼ˆ1ï¼‰HandlerExceptionResolver</h4><p>åœ¨Javaä¸­ï¼Œå¯¹äºå¼‚å¸¸çš„å¤„ç†ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ä¸€ç§æ˜¯å½“å‰æ–¹æ³•æ•è·å¤„ç†ï¼ˆtry-catchï¼‰ï¼Œè¿™ç§å¤„ç†æ–¹å¼ä¼šé€ æˆä¸šåŠ¡ä»£ç å’Œå¼‚å¸¸å¤„ç†ä»£ç çš„è€¦åˆã€‚</li><li>å¦ä¸€ç§æ˜¯è‡ªå·±ä¸å¤„ç†ï¼Œè€Œæ˜¯æŠ›ç»™è°ƒç”¨è€…å¤„ç†ï¼ˆthrowsï¼‰ï¼Œè°ƒç”¨è€…å†æŠ›ç»™å®ƒçš„è°ƒç”¨è€…ï¼Œä¹Ÿå°±æ˜¯ä¸€ç›´å‘ä¸ŠæŠ›ï¼ŒæŒ‡å¯¼ä¼ é€’ç»™æµè§ˆå™¨ã€‚</li></ul><figure><img class="lazy" alt="image-20211229185603473" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229185603473-112d8134.png" tabindex="0"/><figcaption>image-20211229185603473</figcaption></figure><p>è¢«å¼‚å¸¸å¡«å……çš„é¡µé¢æ˜¯é•¿è¿™ä¸ªæ ·å­çš„ï¼š</p><figure><img class="lazy" alt="image-20211230103016315" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211230103016315-363ad564.png" tabindex="0"/><figcaption>image-20211230103016315</figcaption></figure><p>åœ¨è¿™ç§æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œè¡ç”Ÿå‡ºäº†SpringMVCçš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚ç³»ç»Ÿçš„daoã€serviceã€controlleréƒ½é€šè¿‡throws Exceptionå‘ä¸ŠæŠ›å‡ºï¼Œæœ€åç”±springmvcå‰ç«¯æ§åˆ¶å™¨äº¤ç”±å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p>å°çŸ¥è¯†ï¼šserviceå±‚å°½é‡ä¸è¦å¤„ç†å¼‚å¸¸ï¼Œå¦‚æœè‡ªå·±æ•è·å¹¶å¤„ç†äº†ï¼Œå¼‚å¸¸å°±ä¸ç”Ÿæ•ˆäº†ã€‚ç‰¹åˆ«æ˜¯ä¸è¦ç”Ÿåå¼‚å¸¸ã€‚</p><figure><img class="lazy" alt="image-20211229185734642" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20211229185734642-dcc28802.png" tabindex="0"/><figcaption>image-20211229185734642</figcaption></figure><p>Spring MVCçš„Controllerå‡ºç°å¼‚å¸¸çš„é»˜è®¤å¤„ç†æ˜¯å“åº”ä¸€ä¸ª500çŠ¶æ€ç ï¼Œå†æŠŠé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¦‚æœç”¨æˆ·çœ‹åˆ°è¿™æ ·çš„é¡µé¢ï¼Œä¸€å®šä¼šè§‰å¾—ä½ è¿™ä¸ªç½‘ç«™å¤ªLOWäº†ã€‚</p><p>è¦è§£å†³Controllerçš„å¼‚å¸¸é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½åœ¨æ¯ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•ä¸­åŠ ä¸Šå¼‚å¸¸å¤„ç†ï¼Œé‚£æ ·å¤ªç¹çäº†ã€‚</p><p>é€šè¿‡æºç æˆ‘ä»¬å¾—çŸ¥ï¼Œéœ€è¦å†™ä¸€ä¸ªHandlerExceptionResolverï¼Œå¹¶å®ç°å…¶æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionResolver</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerExceptionResolver</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">resolveException</span><span class="hljs-params">(HttpServletRequest request,</span><br><span class="hljs-params">                                         HttpServletResponse response, Object handler, Exception ex)</span> &#123;<br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">modelAndView</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>        modelAndView.addObject(<span class="hljs-string">&quot;error&quot;</span>, ex.getMessage());<br>        modelAndView.setViewName(<span class="hljs-string">&quot;error&quot;</span>);<br>        <span class="hljs-keyword">return</span> modelAndView;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;globalExecptionResovler&quot; class=&quot;com.lagou.exception.GlobalExecptionResovler&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExecptionResovler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerExceptionResolver</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><p>å°çŸ¥è¯†ï¼šå½“ç„¶åœ¨webä¸­æˆ‘ä»¬ä¹Ÿèƒ½å¯¹å¼‚å¸¸è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--å¤„ç†500å¼‚å¸¸--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>error-page<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>error-code<span class="hljs-symbol">&amp;gt;</span>500<span class="hljs-symbol">&amp;lt;</span>/error-code<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>location<span class="hljs-symbol">&amp;gt;</span>/500.jsp<span class="hljs-symbol">&amp;lt;</span>/location<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/error-page<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!--å¤„ç†404å¼‚å¸¸--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>error-page<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>error-code<span class="hljs-symbol">&amp;gt;</span>404<span class="hljs-symbol">&amp;lt;</span>/error-code<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>location<span class="hljs-symbol">&amp;gt;</span>/404.jsp<span class="hljs-symbol">&amp;lt;</span>/location<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/error-page<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-controlleradvice" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-controlleradvice">#</a> ï¼ˆ2ï¼‰@ControllerAdvice</h4><p>è¯¥æ³¨è§£åŒæ ·èƒ½å®ç°å¼‚å¸¸çš„å…¨å±€ç»Ÿä¸€å¤„ç†ï¼Œè€Œä¸”å®ç°èµ·æ¥æ›´åŠ ç®€å•ä¼˜é›…ï¼Œå½“ç„¶ä½¿ç”¨è¿™ä¸ªæ³¨è§£æœ‰ä¸€ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š</p><ul><li>å¤„ç†å…¨å±€å¼‚å¸¸</li><li>é¢„è®¾å…¨å±€æ•°æ®</li><li>è¯·æ±‚å‚æ•°é¢„å¤„ç†</li></ul><p>æˆ‘ä»¬ä¸»è¦å­¦ä¹ å…¶ä¸­çš„å…¨å±€å¼‚å¸¸å¤„ç†ï¼Œ<code>@ControllerAdvice</code> é…åˆ <code>@ExceptionHandler</code> å®ç°å…¨å±€å¼‚å¸¸å¤„ç†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Slf4j</span><br><span class="hljs-meta">@ControllerAdvice</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionResolverController</span>  &#123;<br><br>    <span class="hljs-meta">@ExceptionHandler(ArithmeticException.class)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">processArithmeticException</span><span class="hljs-params">(ArithmeticException ex)</span>&#123;<br>        log.error(<span class="hljs-string">&quot;å‘ç”Ÿäº†æ•°å­¦ç±»çš„å¼‚å¸¸ï¼š&quot;</span>,ex);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;error&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@ExceptionHandler(BusinessException.class)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">processBusinessException</span><span class="hljs-params">(BusinessException ex)</span>&#123;<br>        log.error(<span class="hljs-string">&quot;å‘ç”Ÿäº†ä¸šåŠ¡ç›¸å…³çš„å¼‚å¸¸ï¼š&quot;</span>,ex);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;error&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">processException</span><span class="hljs-params">(Exception ex)</span>&#123;<br>        log.error(<span class="hljs-string">&quot;å‘ç”Ÿäº†å…¶ä»–çš„å¼‚å¸¸ï¼š&quot;</span>,ex);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;error&quot;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13ã€å¤„ç†èµ„æº" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_13ã€å¤„ç†èµ„æº">#</a> 13ã€å¤„ç†èµ„æº</h3><p>å½“æˆ‘ä»¬ä½¿ç”¨äº†springmvcåï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šäº¤ç»™springmvcè¿›è¡Œç®¡ç†ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬é™æ€èµ„æºï¼Œæ¯”å¦‚<code>/static/js/index.js</code>ï¼Œè¿™æ ·çš„è¯·æ±‚å¦‚æœèµ°äº†ä¸­å¤®å¤„ç†å™¨ï¼Œå¿…ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºæ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„controllerï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸‹é…ç½®è¿›è¡Œå¤„ç†ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/js/**&quot; location=&quot;/static/js/&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/css/**&quot; location=&quot;/static/css/&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/img/**&quot; location=&quot;/static/img/&quot;/<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»è¿‡è¿™æ ·çš„é…ç½®åï¼Œæˆ‘ä»¬ç›´æ¥é…ç½®äº†è¯·æ±‚urlå’Œè·¯å¾„çš„æ˜ å°„å…³ç³»ï¼Œå°±ä¸ä¼šå†èµ°æˆ‘ä»¬çš„å‰ç«¯æ§åˆ¶å™¨äº†ã€‚</p><h3 id="_14ã€æ‹¦æˆªå™¨" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_14ã€æ‹¦æˆªå™¨">#</a> 14ã€æ‹¦æˆªå™¨</h3><ol><li>SpringMVCæä¾›çš„æ‹¦æˆªå™¨ç±»ä¼¼äºJavaWebä¸­çš„è¿‡æ»¤å™¨ï¼Œåªä¸è¿‡<strong>SpringMVCæ‹¦æˆªå™¨åªæ‹¦æˆªè¢«å‰ç«¯æ§åˆ¶å™¨æ‹¦æˆªçš„è¯·æ±‚</strong>ï¼Œè€Œè¿‡æ»¤å™¨æ‹¦æˆªä»å‰ç«¯å‘é€çš„ã€ä»»æ„ã€‘è¯·æ±‚ã€‚</li><li>ç†Ÿç»ƒæŒæ¡<code>SpringMVC</code>æ‹¦æˆªå™¨å¯¹äºæˆ‘ä»¬å¼€å‘éå¸¸æœ‰å¸®åŠ©ï¼Œåœ¨æ²¡ä½¿ç”¨æƒé™æ¡†æ¶(<code>shiroï¼Œspring security</code>)ä¹‹å‰ï¼Œä¸€èˆ¬ä½¿ç”¨æ‹¦æˆªå™¨è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œã€‚</li><li>SpringMVCæ‹¦æˆªå™¨æœ‰è®¸å¤šåº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ï¼šç™»å½•è®¤è¯æ‹¦æˆªå™¨ï¼Œå­—ç¬¦è¿‡æ»¤æ‹¦æˆªå™¨ï¼Œæ—¥å¿—æ“ä½œæ‹¦æˆªå™¨ç­‰ç­‰ã€‚</li></ol><figure><img class="lazy" alt="image-20220106104047477" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106104047477-af845b9c.png" tabindex="0"/><figcaption>image-20220106104047477</figcaption></figure><h4 id="_1-è‡ªå®šä¹‰æ‹¦æˆªå™¨" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-è‡ªå®šä¹‰æ‹¦æˆªå™¨">#</a> ï¼ˆ1ï¼‰è‡ªå®šä¹‰æ‹¦æˆªå™¨</h4><blockquote><p>SpringMVCæ‹¦æˆªå™¨çš„å®ç°ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼</p></blockquote><ol><li>è‡ªå®šä¹‰çš„<code>Interceptor</code>ç±»è¦å®ç°äº†Springçš„HandlerInterceptoræ¥å£ã€‚</li><li>ç»§æ‰¿å®ç°äº†<code>HandlerInterceptor</code>æ¥å£çš„ç±»ï¼Œæ¯”å¦‚Springå·²ç»æä¾›çš„å®ç°äº†HandlerInterceptoræ¥å£çš„æŠ½è±¡ç±»HandlerInterceptorAdapterã€‚</li></ol><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> &#123;&#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ‹¦æˆªå™¨æ‹¦æˆªæµç¨‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-æ‹¦æˆªå™¨æ‹¦æˆªæµç¨‹">#</a> ï¼ˆ2ï¼‰æ‹¦æˆªå™¨æ‹¦æˆªæµç¨‹</h4><figure><img class="lazy" alt="image-20220106175037525" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106175037525-c07ae95f.png" tabindex="0"/><figcaption>image-20220106175037525</figcaption></figure><h4 id="_3-æ‹¦æˆªå™¨è§„åˆ™" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-æ‹¦æˆªå™¨è§„åˆ™">#</a> ï¼ˆ3ï¼‰æ‹¦æˆªå™¨è§„åˆ™</h4><p>æˆ‘ä»¬å¯ä»¥é…ç½®å¤šä¸ªæ‹¦æˆªå™¨ï¼Œæ¯ä¸ªæ‹¦æˆªå™¨ä¸­éƒ½æœ‰ä¸‰ä¸ªæ–¹æ³•ã€‚ä¸‹é¢å°†æ€»ç»“å¤šä¸ªæ‹¦æˆªå™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œè§„å¾‹ã€‚</p><ol><li>preHandleï¼šControlleræ–¹æ³•å¤„ç†è¯·æ±‚å‰æ‰§è¡Œï¼Œæ ¹æ®æ‹¦æˆªå™¨å®šä¹‰çš„é¡ºåºï¼Œæ­£å‘æ‰§è¡Œã€‚</li><li>postHandleï¼šControlleræ–¹æ³•å¤„ç†è¯·æ±‚åæ‰§è¡Œï¼Œæ ¹æ®æ‹¦æˆªå™¨å®šä¹‰çš„é¡ºåºï¼Œé€†å‘æ‰§è¡Œã€‚éœ€è¦æ‰€æœ‰çš„preHandleæ–¹æ³•éƒ½è¿”å›trueæ—¶æ‰ä¼šè°ƒç”¨ã€‚</li><li>afterCompletionï¼šViewè§†å›¾æ¸²æŸ“åå¤„ç†æ–¹æ³•ï¼šæ ¹æ®æ‹¦æˆªå™¨å®šä¹‰çš„é¡ºåºï¼Œé€†å‘æ‰§è¡Œã€‚preHandleè¿”å›trueä¹Ÿä¼šè°ƒç”¨ã€‚</li></ol><h4 id="_4-ç™»å½•æ‹¦æˆªå™¨" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-ç™»å½•æ‹¦æˆªå™¨">#</a> ï¼ˆ4ï¼‰ç™»å½•æ‹¦æˆªå™¨</h4><p>æ¥ä¸‹æ¥ç¼–å†™ä¸€ä¸ªç™»å½•æ‹¦æˆªå™¨ï¼Œè¿™ä¸ªæ‹¦æˆªå™¨å¯ä»¥å®ç°è®¤è¯æ“ä½œã€‚å°±æ˜¯å½“æˆ‘ä»¬è¿˜æ²¡æœ‰ç™»å½•çš„æ—¶å€™ï¼Œå¦‚æœå‘é€è¯·æ±‚è®¿é—®æˆ‘ä»¬ç³»ç»Ÿèµ„æºæ—¶ï¼Œæ‹¦æˆªå™¨ä¸æ”¾è¡Œï¼Œè¯·æ±‚å¤±è´¥ã€‚åªæœ‰ç™»å½•æˆåŠŸåï¼Œæ‹¦æˆªå™¨æ”¾è¡Œï¼Œè¯·æ±‚æˆåŠŸã€‚ç™»å½•æ‹¦æˆªå™¨åªè¦åœ¨preHandle()æ–¹æ³•ä¸­ç¼–å†™è®¤è¯é€»è¾‘å³å¯ï¼Œå› ä¸ºæ˜¯åœ¨è¯·æ±‚æ‰§è¡Œå‰æ‹¦æˆªã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *  ç™»å½•æ‹¦æˆªå™¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">        åœ¨æ‰§è¡ŒControlleræ–¹æ³•å‰æ‹¦æˆªï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼Œ</span><br><span class="hljs-comment">        ç™»å½•äº†å°±æ”¾è¡Œï¼Œè¿˜æ²¡ç™»å½•å°±é‡å®šå‘åˆ°ç™»å½•é¡µé¢</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> &#123;<br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-comment">//è¿˜æ²¡ç™»å½•ï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µé¢</span><br>            response.sendRedirect(<span class="hljs-string">&quot;/toLogin&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//å·²ç»ç™»å½•ï¼Œæ”¾è¡Œ</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> &#123;&#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™å®ŒSpringMVCæ‹¦æˆªå™¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨springmvc.xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®æˆ‘ä»¬ç¼–å†™çš„æ‹¦æˆªå™¨ï¼Œé…ç½®ä»£ç å¦‚ä¸‹ï¼š</p><ol><li>é…ç½®éœ€è¦æ‹¦æˆªçš„è·¯å¾„</li><li>é…ç½®ä¸éœ€è¦æ‹¦æˆªçš„è·¯å¾„</li><li>é…ç½®æˆ‘ä»¬è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨ç±»</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>mvc:interceptors<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:interceptor<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--<br>            mvc:mappingï¼šæ‹¦æˆªçš„è·¯å¾„<br>            /**ï¼šæ˜¯æŒ‡æ‰€æœ‰æ–‡ä»¶å¤¹åŠå…¶å­å­™æ–‡ä»¶å¤¹<br>            /*ï¼šæ˜¯æŒ‡æ‰€æœ‰æ–‡ä»¶å¤¹ï¼Œä½†ä¸åŒ…å«å­å­™æ–‡ä»¶å¤¹<br>            /ï¼šWebé¡¹ç›®çš„æ ¹ç›®å½•<br>        --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>mvc:mapping path=&quot;/**&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--<br>                mvc:exclude-mappingï¼šä¸æ‹¦æˆªçš„è·¯å¾„,ä¸æ‹¦æˆªç™»å½•è·¯å¾„<br>                /toLoginï¼šè·³è½¬åˆ°ç™»å½•é¡µé¢<br>                /loginï¼šç™»å½•æ“ä½œ<br>            --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>mvc:exclude-mapping path=&quot;/toLogin&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>mvc:exclude-mapping path=&quot;/login&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--classå±æ€§å°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;loginInterceptor&quot; class=&quot;com.ydlclass.interceptor.LoginInterceptor&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/mvc:interceptor<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/mvc:interceptors<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15ã€å…¨å±€é…ç½®ç±»" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_15ã€å…¨å±€é…ç½®ç±»">#</a> 15ã€å…¨å±€é…ç½®ç±»</h3><p>springmvcæœ‰ä¸€ä¸ªå¯ç”¨ä½œç”¨äºåšå…¨å±€é…ç½®çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£æ˜¯<code>WebMvcConfigurer</code>ï¼Œåœ¨è¿™ä¸ªæ¥å£ä¸­æœ‰å¾ˆå¤šé»˜è®¤æ–¹æ³•ï¼Œæ¯ä¸€ä¸ªé»˜è®¤æ–¹æ³•éƒ½å¯ä»¥è¿›è¡Œä¸€é¡¹å…¨å±€é…ç½®ï¼Œè¿™äº›é…ç½®å¯ä»¥å’Œæˆ‘ä»¬é…ç½®æ–‡ä»¶çš„é…ç½®ä¸€ä¸€å¯¹åº”ï¼šè¿™äº›é…ç½®åœ¨å…¨å±€çš„xmlä¸­ä¹Ÿå¯ä»¥è¿›è¡Œé…ç½®ï¼š</p><blockquote><p>åˆ—ä¸¾å‡ ä¸ªxmlçš„é…ç½®</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--å¤„ç†é™æ€èµ„æº--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/js/**&quot; location=&quot;/static/js/&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/css/**&quot; location=&quot;/static/css/&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:resources mapping=&quot;/./image/**&quot; location=&quot;/static/./image/&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>!--é…ç½®é¡µé¢è·³è½¬--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:view-controller path=&quot;/toGoods&quot; view-name=&quot;goods&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:view-controller path=&quot;/toUpload&quot; view-name=&quot;upload&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mvc:view-controller path=&quot;/websocket&quot; view-name=&quot;websocket&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>mvc:cors<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:mapping path=&quot;/goods/**&quot; allowed-methods=&quot;*&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/mvc:cors<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„WebMvcConfigurerçš„é…ç½®</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableWebMvc</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MvcConfiguration</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-comment">// æ‹¦æˆªå™¨è¿›è¡Œé…ç½®</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginInterceptor</span>())<br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>)<br>                .excludePathPatterns(List.of(<span class="hljs-string">&quot;/toLogin&quot;</span>,<span class="hljs-string">&quot;/login&quot;</span>))<br>                .order(<span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// èµ„æºçš„é…ç½®</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addResourceHandlers</span><span class="hljs-params">(ResourceHandlerRegistry registry)</span> &#123;<br>        registry.addResourceHandler(<span class="hljs-string">&quot;/js/**&quot;</span>).addResourceLocations(<span class="hljs-string">&quot;/static/js/&quot;</span>);<br>        registry.addResourceHandler(<span class="hljs-string">&quot;/css/**&quot;</span>).addResourceLocations(<span class="hljs-string">&quot;/static/css/&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// è·¨åŸŸçš„å…¨å±€é…ç½®</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCorsMappings</span><span class="hljs-params">(CorsRegistry registry)</span> &#123;<br>        registry.addMapping(<span class="hljs-string">&quot;/api/**&quot;</span>)<br>                .allowedOrigins(<span class="hljs-string">&quot;*&quot;</span>)<br>                .allowedMethods(<span class="hljs-string">&quot;GET&quot;</span>,<span class="hljs-string">&quot;POST&quot;</span>,<span class="hljs-string">&quot;PUT&quot;</span>,<span class="hljs-string">&quot;DELETE&quot;</span>)<br>                .maxAge(<span class="hljs-number">3600</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// é¡µé¢è·³è½¬çš„é…ç½®</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addViewControllers</span><span class="hljs-params">(ViewControllerRegistry registry)</span> &#123;<br>        registry.addViewController(<span class="hljs-string">&quot;/index&quot;</span>).setViewName(<span class="hljs-string">&quot;index&quot;</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº”ã€è·¨åŸŸ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#äº”ã€è·¨åŸŸ">#</a> äº”ã€è·¨åŸŸ</h2><p>æ›´å¤šæ›´è¯¦ç»†çš„è·¨åŸŸçš„é—®é¢˜å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ä¸ªè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1nU4y1W7Rf%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%A7%86%E9%A2%91%E6%9C%80%E5%90%8E%E5%AD%A6%E5%AE%8Cspringboot%E4%BB%A5%E5%90%8E%E7%9C%8B%E3%80%82" rel="noopener noreferrer" target="_blank">https://www.bilibili.com/video/BV1nU4y1W7Rfï¼Œè¿™ä¸ªè§†é¢‘æœ€åå­¦å®Œspringbootä»¥åçœ‹ã€‚<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_1ã€åŒæºç­–ç•¥" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€åŒæºç­–ç•¥">#</a> 1ã€åŒæºç­–ç•¥</h3><p>åŒæºç­–ç•¥ï¼ˆSameoriginpolicyï¼‰æ˜¯ä¸€ç§çº¦å®šï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ã€‚åŒæºç­–ç•¥ä¼šé˜»æ­¢ä¸€ä¸ªåŸŸçš„javascriptè„šæœ¬å’Œå¦å¤–ä¸€ä¸ªåŸŸçš„å†…å®¹è¿›è¡Œäº¤äº’ã€‚æ‰€è°“åŒæºï¼ˆå³æŒ‡åœ¨åŒä¸€ä¸ªåŸŸï¼‰å°±æ˜¯ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ï¼Œä¸»æœºï¼ˆhostï¼‰å’Œç«¯å£å·ï¼ˆportï¼‰ã€‚</p><h3 id="_2ã€ä»€ä¹ˆæ˜¯è·¨åŸŸ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€ä»€ä¹ˆæ˜¯è·¨åŸŸ">#</a> 2ã€ä»€ä¹ˆæ˜¯è·¨åŸŸ</h3><p>å½“ä¸€ä¸ªè¯·æ±‚urlçš„åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…ä¹‹é—´ä»»æ„ä¸€ä¸ªä¸å½“å‰é¡µé¢urlä¸åŒæ—¶ï¼Œå°±ä¼šäº§ç”Ÿè·¨åŸŸã€‚</p><figure><img class="lazy" alt="image-20220104182117116" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104182117116-2e4f8a32.png" tabindex="0"/><figcaption>image-20220104182117116</figcaption></figure><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼šä»127.0.0.1:5000è®¿é—®çš„é¡µé¢ä¸­ï¼Œæœ‰Javascriptä½¿ç”¨ajaxè®¿é—®127.0.0.1:8888çš„æ¥å£å°±ä¼šäº§ç”Ÿè·¨åŸŸï¼›</p><table><thead><tr><th>å½“å‰é¡µé¢url</th><th>è¢«è¯·æ±‚é¡µé¢url</th><th>æ˜¯å¦è·¨åŸŸ</th><th>åŸå› </th></tr></thead><tbody><tr><td><a href="http://www.ydlclass.com/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="http://www.ydlclass.com/index.html" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com/index.html<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>ä¸è·¨åŸŸ</td><td>åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£å·ç›¸åŒï¼‰</td></tr><tr><td><a href="http://www.ydlclass.com/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="https://www.ydlclass.com/index.html" rel="noopener noreferrer" target="_blank">https://www.ydlclass.com/index.html<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>è·¨åŸŸ</td><td>åè®®ä¸åŒï¼ˆhttp/httpsï¼‰</td></tr><tr><td><a href="http://www.ydlclass.com/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="http://www.baidu.com/" rel="noopener noreferrer" target="_blank">http://www.baidu.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>è·¨åŸŸ</td><td>ä¸»åŸŸåä¸åŒï¼ˆtest/baiduï¼‰</td></tr><tr><td><a href="http://www.ydlclass.com/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="http://blog.ydlclass.com/" rel="noopener noreferrer" target="_blank">http://blog.ydlclass.com/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>è·¨åŸŸ</td><td>å­åŸŸåä¸åŒï¼ˆwww/blogï¼‰</td></tr><tr><td><a href="http://www.ydlclass.com:8080/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com:8080/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="http://www.ydlclass.com:7001/" rel="noopener noreferrer" target="_blank">http://www.ydlclass.com:7001/<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>è·¨åŸŸ</td><td>ç«¯å£å·ä¸åŒï¼ˆ8080/7001ï¼‰</td></tr></tbody></table><blockquote><p>éåŒæºé™åˆ¶</p></blockquote><ul><li><p>æ— æ³•è¯»å–éåŒæºç½‘é¡µçš„ Cookieã€LocalStorage å’Œ IndexedDBã€‚</p></li><li><p>æ— æ³•æ¥è§¦éåŒæºç½‘é¡µçš„ DOM</p></li><li><p>æ— æ³•å‘éåŒæºåœ°å€å‘é€ AJAX è¯·æ±‚</p></li></ul><h3 id="_3ã€ä¸¤ç§è¯·æ±‚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€ä¸¤ç§è¯·æ±‚">#</a> 3ã€ä¸¤ç§è¯·æ±‚</h3><p>å…¨ç§°æ˜¯"è·¨åŸŸèµ„æºå…±äº«"(Cross-origin resource sharing)ï¼›</p><p>æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰ã€‚</p><p>åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š</p><p>ï¼ˆ1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p><ul><li><p>HEAD</p></li><li><p>GET</p></li><li><p>POST</p></li></ul><p>ï¼ˆ2ï¼‰HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</p><ul><li><p>Accept</p></li><li><p>Accept-Language</p></li><li><p>Content-Language</p></li><li><p>Last-Event-ID</p></li><li><p>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code></p></li></ul><p>è¿™æ˜¯ä¸ºäº†å…¼å®¹è¡¨å•ï¼ˆformï¼‰ï¼Œå› ä¸ºå†å²ä¸Šè¡¨å•ä¸€ç›´å¯ä»¥å‘å‡ºè·¨åŸŸè¯·æ±‚ã€‚AJAX çš„è·¨åŸŸè®¾è®¡å°±æ˜¯ï¼Œåªè¦è¡¨å•å¯ä»¥å‘ï¼ŒAJAX å°±å¯ä»¥ç›´æ¥å‘ã€‚</p><p>å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚</p><p>æµè§ˆå™¨å¯¹è¿™ä¸¤ç§è¯·æ±‚çš„å¤„ç†ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><h3 id="_1-ç®€å•è¯·æ±‚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-ç®€å•è¯·æ±‚">#</a> ï¼ˆ1ï¼‰ç®€å•è¯·æ±‚</h3><blockquote><p>åŸºæœ¬æµç¨‹</p></blockquote><p>å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡ºCORSè¯·æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ª<code>Origin</code>å­—æ®µã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨å‘ç°è¿™æ¬¡è·¨æºAJAXè¯·æ±‚æ˜¯ç®€å•è¯·æ±‚ï¼Œå°±è‡ªåŠ¨åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª<code>Origin</code>å­—æ®µã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/cors</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://api.bob.com<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>api.ydlclass.com<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en-US<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0...<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å¤´ä¿¡æ¯ä¸­ï¼Œ<code>Origin</code>å­—æ®µç”¨æ¥è¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ˆåè®® + åŸŸå + ç«¯å£ï¼‰ã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚ã€‚</p><p>å¦‚æœ<code>Origin</code>æŒ‡å®šçš„æºï¼Œä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ã€‚æµè§ˆå™¨å‘ç°ï¼Œè¿™ä¸ªå›åº”çš„å¤´ä¿¡æ¯æ²¡æœ‰åŒ…å«<code>Access-Control-Allow-Origin</code>å­—æ®µï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå°±çŸ¥é“å‡ºé”™äº†ï¼Œä»è€ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¢«<code>XMLHttpRequest</code>çš„<code>onerror</code>å›è°ƒå‡½æ•°æ•è·ã€‚æ³¨æ„ï¼Œè¿™ç§é”™è¯¯æ— æ³•é€šè¿‡çŠ¶æ€ç è¯†åˆ«ï¼Œå› ä¸ºHTTPå›åº”çš„çŠ¶æ€ç æœ‰å¯èƒ½æ˜¯200ã€‚</p><p>å¦‚æœ<code>Origin</code>æŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ï¼Œä¼šå¤šå‡ºå‡ ä¸ªå¤´ä¿¡æ¯å­—æ®µã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">Access-Control-Allow-Origin</span><span class="hljs-punctuation">: </span>http://api.bob.com<br><span class="hljs-attribute">Access-Control-Allow-Credentials</span><span class="hljs-punctuation">: </span>true<br><span class="hljs-attribute">Access-Control-Expose-Headers</span><span class="hljs-punctuation">: </span>FooBar<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html; charset=utf-8<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªä¸CORSè¯·æ±‚ç›¸å…³çš„å­—æ®µï¼Œéƒ½ä»¥<code>Access-Control-</code>å¼€å¤´ã€‚</p><p><strong>ï¼ˆ1ï¼‰Access-Control-Allow-Origin</strong></p><p>è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ã€‚å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶<code>Origin</code>å­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>*</code>ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ã€‚</p><p><strong>ï¼ˆ2ï¼‰Access-Control-Allow-Credentials</strong></p><p>è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸º<code>true</code>ï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚è¿™ä¸ªå€¼ä¹Ÿåªèƒ½è®¾ä¸º<code>true</code>ï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¦æµè§ˆå™¨å‘é€Cookieï¼Œåˆ é™¤è¯¥å­—æ®µå³å¯ã€‚</p><p><strong>ï¼ˆ3ï¼‰Access-Control-Expose-Headers</strong></p><p>è¯¥å­—æ®µå¯é€‰ã€‚CORSè¯·æ±‚æ—¶ï¼Œ<code>XMLHttpRequest</code>å¯¹è±¡çš„<code>getResponseHeader()</code>æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼š<code>Cache-Control</code>ã€<code>Content-Language</code>ã€<code>Content-Type</code>ã€<code>Expires</code>ã€<code>Last-Modified</code>ã€<code>Pragma</code>ã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¿…é¡»åœ¨<code>Access-Control-Expose-Headers</code>é‡Œé¢æŒ‡å®šã€‚ä¸Šé¢çš„ä¾‹å­æŒ‡å®šï¼Œ<code>getResponseHeader('FooBar')</code>å¯ä»¥è¿”å›<code>FooBar</code>å­—æ®µçš„å€¼ã€‚</p><p><strong>ï¼ˆ4ï¼‰withCredentials å±æ€§</strong></p><p>ä¸Šé¢è¯´åˆ°ï¼ŒCORSè¯·æ±‚é»˜è®¤ä¸å‘é€Cookieå’ŒHTTPè®¤è¯ä¿¡æ¯ã€‚å¦‚æœè¦æŠŠCookieå‘åˆ°æœåŠ¡å™¨ï¼Œä¸€æ–¹é¢è¦æœåŠ¡å™¨åŒæ„ï¼ŒæŒ‡å®š<code>Access-Control-Allow-Credentials</code>å­—æ®µã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">Access-Control-Allow-Credentials</span><span class="hljs-punctuation">: </span>true<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>å¦ä¸€æ–¹é¢ï¼Œå¼€å‘è€…å¿…é¡»åœ¨AJAXè¯·æ±‚ä¸­æ‰“å¼€<code>withCredentials</code>å±æ€§ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight javascript"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>xhr.<span class="hljs-property">withCredentials</span> = <span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦åˆ™ï¼Œå³ä½¿æœåŠ¡å™¨åŒæ„å‘é€Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘é€ã€‚æˆ–è€…ï¼ŒæœåŠ¡å™¨è¦æ±‚è®¾ç½®Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå¤„ç†ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœçœç•¥<code>withCredentials</code>è®¾ç½®ï¼Œæœ‰çš„æµè§ˆå™¨è¿˜æ˜¯ä¼šä¸€èµ·å‘é€Cookieã€‚è¿™æ—¶ï¼Œå¯ä»¥æ˜¾å¼å…³é—­<code>withCredentials</code>ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight javascript"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">xhr.<span class="hljs-property">withCredentials</span> = <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å‘é€Cookieï¼Œ<code>Access-Control-Allow-Origin</code>å°±ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚åŒæ—¶ï¼ŒCookieä¾ç„¶éµå¾ªåŒæºæ”¿ç­–ï¼Œåªæœ‰ç”¨æœåŠ¡å™¨åŸŸåè®¾ç½®çš„Cookieæ‰ä¼šä¸Šä¼ ï¼Œå…¶ä»–åŸŸåçš„Cookieå¹¶ä¸ä¼šä¸Šä¼ ï¼Œä¸”ï¼ˆè·¨æºï¼‰åŸç½‘é¡µä»£ç ä¸­çš„<code>document.cookie</code>ä¹Ÿæ— æ³•è¯»å–æœåŠ¡å™¨åŸŸåä¸‹çš„Cookieã€‚</p><h3 id="_2-éç®€å•è¯·æ±‚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-éç®€å•è¯·æ±‚">#</a> ï¼ˆ2ï¼‰éç®€å•è¯·æ±‚</h3><blockquote><p>é¢„æ£€è¯·æ±‚</p></blockquote><p>éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯<code>PUT</code>æˆ–<code>DELETE</code>ï¼Œæˆ–è€…<code>Content-Type</code>å­—æ®µçš„ç±»å‹æ˜¯<code>application/json</code>ã€‚OPTIONS</p><p>éç®€å•è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º"é¢„æ£€"è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚</p><p>æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„<code>XMLHttpRequest</code>è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€æ®µæµè§ˆå™¨çš„JavaScriptè„šæœ¬ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight javascript"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> url = <span class="hljs-string">&#x27;http://api.ydlclass.com/cors&#x27;</span>;<br><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;PUT&#x27;</span>, url, <span class="hljs-literal">true</span>);<br>xhr.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">&#x27;X-Custom-Header&#x27;</span>, <span class="hljs-string">&#x27;value&#x27;</span>);<br>xhr.<span class="hljs-title function_">send</span>();<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒHTTPè¯·æ±‚çš„æ–¹æ³•æ˜¯<code>PUT</code>ï¼Œå¹¶ä¸”å‘é€ä¸€ä¸ªè‡ªå®šä¹‰å¤´ä¿¡æ¯<code>X-Custom-Header</code>ã€‚</p><p>æµè§ˆå™¨å‘ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªéç®€å•è¯·æ±‚ï¼Œå°±ã€è‡ªåŠ¨ã€‘å‘å‡ºä¸€ä¸ª"é¢„æ£€"è¯·æ±‚ï¼Œè¦æ±‚æœåŠ¡å™¨ç¡®è®¤å¯ä»¥è¿™æ ·è¯·æ±‚ã€‚ä¸‹é¢æ˜¯è¿™ä¸ª"é¢„æ£€"è¯·æ±‚çš„HTTPå¤´ä¿¡æ¯ã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">/cors</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://api.bob.com<br><span class="hljs-attribute">Access-Control-Request-Method</span><span class="hljs-punctuation">: </span>PUT<br><span class="hljs-attribute">Access-Control-Request-Headers</span><span class="hljs-punctuation">: </span>X-Custom-Header<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>api.ydlclass.com<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en-US<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0...<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>"é¢„æ£€"è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•æ˜¯<code>OPTIONS</code>ï¼Œè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ç”¨æ¥è¯¢é—®çš„ã€‚å¤´ä¿¡æ¯é‡Œé¢ï¼Œå…³é”®å­—æ®µæ˜¯<code>Origin</code>ï¼Œè¡¨ç¤ºè¯·æ±‚æ¥è‡ªå“ªä¸ªæºã€‚</p><p>é™¤äº†<code>Origin</code>å­—æ®µï¼Œ"é¢„æ£€"è¯·æ±‚çš„å¤´ä¿¡æ¯åŒ…æ‹¬ä¸¤ä¸ªç‰¹æ®Šå­—æ®µã€‚</p><p><strong>ï¼ˆ1ï¼‰Access-Control-Request-Method</strong></p><p>è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥åˆ—å‡ºæµè§ˆå™¨çš„CORSè¯·æ±‚ä¼šç”¨åˆ°å“ªäº›HTTPæ–¹æ³•ï¼Œä¸Šä¾‹æ˜¯<code>PUT</code>ã€‚</p><p><strong>ï¼ˆ2ï¼‰Access-Control-Request-Headers</strong></p><p>è¯¥å­—æ®µæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šæµè§ˆå™¨CORSè¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µï¼Œä¸Šä¾‹æ˜¯<code>X-Custom-Header</code>ã€‚</p><blockquote><p>é¢„æ£€è¯·æ±‚çš„å“åº”</p></blockquote><p>æœåŠ¡å™¨æ”¶åˆ°"é¢„æ£€"è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†<code>Origin</code>ã€<code>Access-Control-Request-Method</code>å’Œ<code>Access-Control-Request-Headers</code>å­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”ã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs http"> HTTP/1.1 200 OK<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Mon, 01 Dec 2008 01:15:39 GMT<br><span class="hljs-attribute">Server</span><span class="hljs-punctuation">: </span>Apache/2.0.61 (Unix)<br><span class="hljs-attribute">Access-Control-Allow-Origin</span><span class="hljs-punctuation">: </span>http://api.bob.com<br><span class="hljs-attribute">Access-Control-Allow-Methods</span><span class="hljs-punctuation">: </span>GET, POST, PUT<br><span class="hljs-attribute">Access-Control-Allow-Headers</span><span class="hljs-punctuation">: </span>X-Custom-Header<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html; charset=utf-8<br><span class="hljs-attribute">Content-Encoding</span><span class="hljs-punctuation">: </span>gzip<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>0<br><span class="hljs-attribute">Keep-Alive</span><span class="hljs-punctuation">: </span>timeout=2, max=100<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>Keep-Alive<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/plain<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„HTTPå›åº”ä¸­ï¼Œå…³é”®çš„æ˜¯<code>Access-Control-Allow-Origin</code>å­—æ®µï¼Œè¡¨ç¤º<code>http://api.bob.com</code>å¯ä»¥è¯·æ±‚æ•°æ®ã€‚è¯¥å­—æ®µä¹Ÿå¯ä»¥è®¾ä¸ºæ˜Ÿå·ï¼Œè¡¨ç¤ºåŒæ„ä»»æ„è·¨æºè¯·æ±‚ã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">Access-Control-Allow-Origin</span><span class="hljs-punctuation">: </span>*<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>å¦‚æœæœåŠ¡å™¨å¦å®šäº†"é¢„æ£€"è¯·æ±‚ï¼Œä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•CORSç›¸å…³çš„å¤´ä¿¡æ¯å­—æ®µã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè®¤å®šï¼ŒæœåŠ¡å™¨ä¸åŒæ„é¢„æ£€è¯·æ±‚ï¼Œå› æ­¤è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œè¢«<code>XMLHttpRequest</code>å¯¹è±¡çš„<code>onerror</code>å›è°ƒå‡½æ•°æ•è·ã€‚æ§åˆ¶å°ä¼šæ‰“å°å‡ºå¦‚ä¸‹çš„æŠ¥é”™ä¿¡æ¯ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight bash"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">XMLHttpRequest cannot load http://api.ydlclass.com.<br>Origin http://api.bob.com is not allowed by Access-Control-Allow-Origin.<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœåŠ¡å™¨å›åº”çš„å…¶ä»–CORSç›¸å…³å­—æ®µå¦‚ä¸‹ã€‚</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-attribute">Access-Control-Allow-Methods</span><span class="hljs-punctuation">: </span>GET, POST, PUT<br><span class="hljs-attribute">Access-Control-Allow-Headers</span><span class="hljs-punctuation">: </span>X-Custom-Header<br><span class="hljs-attribute">Access-Control-Allow-Credentials</span><span class="hljs-punctuation">: </span>true<br><span class="hljs-attribute">Access-Control-Max-Age</span><span class="hljs-punctuation">: </span>1728000<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ï¼ˆ1ï¼‰Access-Control-Allow-Methods</strong></p><p>è¯¥å­—æ®µå¿…éœ€ï¼Œå®ƒçš„å€¼æ˜¯é€—å·åˆ†éš”çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰æ”¯æŒçš„æ–¹æ³•ï¼Œè€Œä¸å•æ˜¯æµè§ˆå™¨è¯·æ±‚çš„é‚£ä¸ªæ–¹æ³•ã€‚è¿™æ˜¯ä¸ºäº†é¿å…å¤šæ¬¡"é¢„æ£€"è¯·æ±‚ã€‚</p><p><strong>ï¼ˆ2ï¼‰Access-Control-Allow-Headers</strong></p><p>å¦‚æœæµè§ˆå™¨è¯·æ±‚åŒ…æ‹¬<code>Access-Control-Request-Headers</code>å­—æ®µï¼Œåˆ™<code>Access-Control-Allow-Headers</code>å­—æ®µæ˜¯å¿…éœ€çš„ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºæµè§ˆå™¨åœ¨"é¢„æ£€"ä¸­è¯·æ±‚çš„å­—æ®µã€‚</p><p><strong>ï¼ˆ3ï¼‰Access-Control-Allow-Credentials</strong></p><p>è¯¥å­—æ®µä¸ç®€å•è¯·æ±‚æ—¶çš„å«ä¹‰ç›¸åŒã€‚</p><p><strong>ï¼ˆ4ï¼‰Access-Control-Max-Age</strong></p><p>è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚ä¸Šé¢ç»“æœä¸­ï¼Œæœ‰æ•ˆæœŸæ˜¯20å¤©ï¼ˆ1728000ç§’ï¼‰ï¼Œå³å…è®¸ç¼“å­˜è¯¥æ¡å›åº”1728000ç§’ï¼ˆå³20å¤©ï¼‰ï¼Œåœ¨æ­¤æœŸé—´ï¼Œä¸ç”¨å‘å‡ºå¦ä¸€æ¡é¢„æ£€è¯·æ±‚ã€‚</p><h3 id="_4ã€è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€è§£å†³æ–¹æ¡ˆ">#</a> 4ã€è§£å†³æ–¹æ¡ˆ</h3><p>é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨è¿‡æ»¤å™¨è¿›è¡Œç»Ÿä¸€çš„å¤„ç†ï¼Œå½“ç„¶åœ¨å•ä¸ªçš„servletæˆ–è€…controllerä¸­ä¹Ÿå¯ä»¥å•ç‹¬å¤„ç†ï¼ŒåŸºæœ¬çš„é€»è¾‘å°±æ˜¯åœ¨å“åº”çš„é¦–éƒ¨ä¿¡æ¯ä¸­åŠ å…¥éœ€è¦çš„é¦–éƒ¨ä¿¡æ¯å­—æ®µï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CORSFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        <span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> (HttpServletResponse) servletResponse;<br>        response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br>        response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Methods&quot;</span>, <span class="hljs-string">&quot;POST, GET&quot;</span>);<br>        response.setHeader(<span class="hljs-string">&quot;Access-Control-Max-Age&quot;</span>, <span class="hljs-string">&quot;3600&quot;</span>);<br>        response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="hljs-string">&quot;Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;</span>);<br>        filterChain.doFilter(servletRequest, servletResponse);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹apiä¸ºå‰ç¼€çš„è¯·æ±‚éƒ½è¿›è¡Œå¤„ç†ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!-- CORS Filter --<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>CORSFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-class<span class="hljs-symbol">&amp;gt;</span>com.ydlclass.filter.CORSFilter<span class="hljs-symbol">&amp;lt;</span>/filter-class<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>filter-mapping<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>CORSFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/api/*<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter-mapping<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥ç®€å•çš„å®ç° CORS è·¨åŸŸè¯·æ±‚äº†ï¼Œä¸Šé¢çš„è¿‡æ»¤å™¨å°†ä¼šä¸ºæ‰€æœ‰è¯·æ±‚çš„å“åº”åŠ ä¸Š<code>Access-Control-Allow-*</code>é¦–éƒ¨ï¼Œæ¢è¨€ä¹‹å°±æ˜¯å…è®¸æ¥è‡ªä»»æ„æºçš„è¯·æ±‚æ¥è®¿é—®è¯¥æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚è€Œåœ¨å®é™…å¼€å‘ä¸­å¯ä»¥æ ¹æ®éœ€è¦å¼€æ”¾è·¨åŸŸè¯·æ±‚æƒé™ä»¥åŠæ§åˆ¶å“åº”å¤´éƒ¨ç­‰ç­‰ã€‚</p><blockquote><p>springmvcç»™æˆ‘ä»¬æä¾›äº†æ›´åŠ ç®€å•çš„è§£å†³æ–¹æ¡ˆ</p></blockquote><ul><li>åœ¨Controller ä¸Šä½¿ç”¨ <code>@CrossOrigin</code> æ³¨è§£å°±å¯ä»¥å®ç°è·¨åŸŸï¼Œè¿™ä¸ªæ³¨è§£æ˜¯ä¸€ä¸ªç±»çº§åˆ«ä¹Ÿæ˜¯æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@CrossOrigin(maxAge = 3600)</span><br><span class="hljs-meta">@RestController</span> <br><span class="hljs-meta">@RequestMapping(&quot;goods&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodsController</span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåŒæ—¶åœ¨ Controller å’Œæ–¹æ³•ä¸Šéƒ½æœ‰ä½¿ç”¨<code>@CrossOrigin</code> æ³¨è§£ï¼Œé‚£ä¹ˆåœ¨å…·ä½“æŸä¸ªæ–¹æ³•ä¸Šçš„ CORS å±æ€§å°†æ˜¯ä¸¤ä¸ªæ³¨è§£å±æ€§åˆå¹¶çš„ç»“æœï¼Œå¦‚æœå±æ€§çš„è®¾ç½®å‘ç”Ÿå†²çªï¼Œé‚£ä¹ˆController ä¸Šçš„ä¸»æœºå±æ€§å°†è¢«è¦†ç›–ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é…ç½®ç±»è¿›è¡Œå…¨å±€çš„é…ç½®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableWebMvc</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebMvcConfigurerAdapter</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCorsMappings</span><span class="hljs-params">(CorsRegistry registry)</span> &#123;<br>        registry.addMapping(<span class="hljs-string">&quot;/api/**&quot;</span>)<br>            .allowedOrigins(<span class="hljs-string">&quot;*&quot;</span>)<br>            .allowedMethods(<span class="hljs-string">&quot;PUT&quot;</span>, <span class="hljs-string">&quot;DELETE&quot;</span>)<br>            .allowedHeaders(<span class="hljs-string">&quot;header1&quot;</span>, <span class="hljs-string">&quot;header2&quot;</span>, <span class="hljs-string">&quot;header3&quot;</span>)<br>            .exposedHeaders(<span class="hljs-string">&quot;header1&quot;</span>, <span class="hljs-string">&quot;header2&quot;</span>)<br>            .allowCredentials(<span class="hljs-literal">false</span>).maxAge(<span class="hljs-number">3600</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸºäº XML é…ç½®æ–‡ä»¶ä¸ä¸Šç­‰æ•ˆï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>mvc:cors<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>mvc:mapping path=&quot;/api/**&quot;<br>        allowed-origins=&quot;*&quot;<br>        allowed-methods=&quot;GET, PUT&quot;<br>        allowed-headers=&quot;header1, header2, header3&quot;<br>        exposed-headers=&quot;header1, header2&quot; allow-credentials=&quot;false&quot;<br>        max-age=&quot;123&quot; /<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:mapping path=&quot;/resources/**&quot;<br>        allowed-origins=&quot;http://domain1.com&quot; /<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/mvc:cors<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…­ã€restful" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#å…­ã€restful">#</a> å…­ã€restful</h2><p>è‡ªä»Roy Fieldingåšå£«åœ¨2000å¹´ä»–çš„åšå£«è®ºæ–‡ä¸­æå‡º<a href="http://zh.wikipedia.org/wiki/REST" rel="noopener noreferrer" target="_blank">REST<span><svg aria-hidden="true" class="external-link-icon" focusable="false" height="15" viewbox="0 0 100 100" width="15" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z" fill="currentColor"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼ˆRepresentational State Transferï¼‰é£æ ¼çš„è½¯ä»¶æ¶æ„æ¨¡å¼åï¼ŒRESTå°±åŸºæœ¬ä¸Šæˆä¸ºWeb APIçš„æ ‡å‡†äº†ã€‚</p><blockquote><p>restfulæ˜¯ä¸€ç§é£æ ¼ï¼Œå¯ä»¥éµå¾ªï¼Œä¹Ÿå¯ä»¥ä¸éµå¾ªï¼Œä½†æ˜¯ç°åœ¨ä»–å·²ç»å˜æˆä¸»æµã€‚</p></blockquote><h3 id="_1ã€restæ¶æ„çš„ä¸»è¦åŸåˆ™" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€restæ¶æ„çš„ä¸»è¦åŸåˆ™">#</a> 1ã€Restæ¶æ„çš„ä¸»è¦åŸåˆ™</h3><ul><li>ç½‘ç»œä¸Šçš„æ‰€æœ‰äº‹ç‰©éƒ½è¢«æŠ½è±¡ä¸ºèµ„æºã€‚</li><li>æ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„èµ„æºæ ‡è¯†ç¬¦ã€‚</li><li>åŒä¸€ä¸ªèµ„æºå…·æœ‰å¤šç§è¡¨ç°å½¢å¼ä»–å¯èƒ½æ˜¯xmlï¼Œä¹Ÿå¯èƒ½æ˜¯jsonç­‰ã€‚</li><li>å¯¹èµ„æºçš„å„ç§æ“ä½œä¸ä¼šæ”¹å˜èµ„æºæ ‡è¯†ç¬¦ã€‚</li><li>æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— çŠ¶æ€çš„ã€‚</li><li>ç¬¦åˆRESTåŸåˆ™çš„æ¶æ„æ–¹å¼å³å¯ç§°ä¸ºRESTfulã€‚</li></ul><h3 id="_2ã€ä»€ä¹ˆæ˜¯restful" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€ä»€ä¹ˆæ˜¯restful">#</a> 2ã€ä»€ä¹ˆæ˜¯Restful</h3><p>Restful web serviceæ˜¯ä¸€ç§å¸¸è§çš„restçš„åº”ç”¨,æ˜¯éµå®ˆäº†resté£æ ¼çš„webæœåŠ¡ï¼Œrestå¼çš„webæœåŠ¡æ˜¯ä¸€ç§ROA(The Resource-Oriented Architecture)(é¢å‘èµ„æºçš„æ¶æ„).</p><p>åœ¨restfulé£æ ¼ä¸­ï¼Œæˆ‘ä»¬å°†äº’è”ç½‘çš„èµ„æºæŠ½è±¡æˆèµ„æºï¼Œå°†è·å–èµ„æºçš„æ–¹å¼å®šä¹‰ä¸ºæ–¹æ³•ï¼Œä»æ­¤è¯·æ±‚å†ä¹Ÿä¸æ­¢getå’Œpostäº†ï¼š</p><table><thead><tr><th>å®¢æˆ·ç«¯è¯·æ±‚</th><th>åŸæ¥é£æ ¼URLåœ°å€</th><th>RESTfulé£æ ¼URLåœ°å€</th></tr></thead><tbody><tr><td>æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·</td><td>/user/findAll</td><td>GET /user</td></tr><tr><td>æŸ¥è¯¢ç¼–å·ä¸º1çš„ç”¨æˆ·</td><td>/user/findById?id=1</td><td>GET /user/1</td></tr><tr><td>æ–°å¢ä¸€ä¸ªç”¨æˆ·</td><td>/user/save</td><td>POST /user</td></tr><tr><td>ä¿®æ”¹ç¼–å·ä¸º1çš„ç”¨æˆ·</td><td>/user/update</td><td>PUT /user/1</td></tr><tr><td>åˆ é™¤ç¼–å·ä¸º1çš„ç”¨æˆ·</td><td>/user/delete?id=1</td><td>DELETE /user/1</td></tr></tbody></table><blockquote><p>Spring MVC å¯¹ RESTfulåº”ç”¨æä¾›äº†ä»¥ä¸‹æ”¯æŒ</p></blockquote><ul><li>åˆ©ç”¨@RequestMapping æŒ‡å®šè¦å¤„ç†è¯·æ±‚çš„URIæ¨¡æ¿å’ŒHTTPè¯·æ±‚çš„åŠ¨ä½œç±»å‹</li><li>åˆ©ç”¨@PathVariableè®²URIè¯·æ±‚æ¨¡æ¿ä¸­çš„å˜é‡æ˜ å°„åˆ°å¤„ç†æ–¹æ³•å‚æ•°ä¸Š</li><li>åˆ©ç”¨Ajax,åœ¨å®¢æˆ·ç«¯å‘å‡ºPUTã€DELETEåŠ¨ä½œçš„è¯·æ±‚</li></ul><h3 id="_3ã€æ•°æ®è¿‡æ»¤" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€æ•°æ®è¿‡æ»¤">#</a> 3ã€æ•°æ®è¿‡æ»¤</h3><p>æˆ‘ä»¬æƒ³è·å–æ‰€æœ‰ç”¨æˆ·ï¼Œä½¿ç”¨å¦‚ä¸‹urlå³å¯<code>/user</code>ã€‚ä½†æ˜¯çœŸæ˜¯åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦éœ€è¦ä¸€äº›æ¡ä»¶è¿›è¡Œè¿‡æ»¤ï¼š</p><p>ä¾‹å¦‚ï¼šæˆ‘ä»¬éœ€è¦æŸ¥è¯¢åå­—å«å¼ ä¸‰çš„å‰10æ¡æ•°æ®ï¼Œä½¿ç”¨ä»¥ä¸‹åœºæ™¯å³å¯ï¼š</p><div class="language-http line-numbers-mode" data-ext="http"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight http"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">/user?name=jerry&amp;amp;pageSize=10&amp;amp;page=1<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>ç¬¬ä¸€ï¼šæŸ¥è¯¢çš„urlä¸å˜ï¼Œå˜çš„æ˜¯æ¡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åŒä¼™urlè·å–å¯¹åº”çš„å‚æ•°å°±èƒ½å®ç°å¤æ‚çš„å¤šæ¡ä»¶æŸ¥è¯¢ã€‚</p><h3 id="_4ã€requestmappingä¸­æŒ‡å®šè¯·æ±‚æ–¹æ³•" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€requestmappingä¸­æŒ‡å®šè¯·æ±‚æ–¹æ³•">#</a> 4ã€RequestMappingä¸­æŒ‡å®šè¯·æ±‚æ–¹æ³•</h3><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.GET)</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/add&quot;, method = RequestMethod.POST)</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.DELETE)</span>   <br><span class="hljs-meta">@RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.PUT)</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶è¿˜æœ‰æ›´å¥½ç”¨çš„</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/user/&#123;id&#125;&quot;)</span><br><span class="hljs-meta">@PostMapping(&quot;/user&quot;)</span><br><span class="hljs-meta">@DeleteMapping(&quot;/user/&#123;id&#125;&quot;)</span><br><span class="hljs-meta">@PutMapping(&quot;/user/&#123;id&#125;&quot;)</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€ajaxè¿˜èƒ½è¿™ä¹ˆç©" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€ajaxè¿˜èƒ½è¿™ä¹ˆç©">#</a> 4ã€ajaxè¿˜èƒ½è¿™ä¹ˆç©</h3><p>å¯ä»¥é‡‡ç”¨Ajaxæ–¹å¼å‘é€PUTå’ŒDELETEè¯·æ±‚</p><blockquote><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å½“ä¸‹æ¯”è¾ƒæµè¡Œçš„axiosç»„ä»¶æµ‹è¯•</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>/script<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>script<span class="hljs-symbol">&amp;gt;</span><br>    const instance = axios.create(&#123;<br>        baseURL: &#x27;http://127.0.0.1:8088/app/&#x27;<br>    &#125;);<br>    // ä¸ºç»™å®š ID çš„ user åˆ›å»ºè¯·æ±‚<br>    instance.get(&#x27;goods&#x27;)<br>        .then(function (response) &#123;<br>        console.log(response);<br>    &#125;).catch(function (error) &#123;<br>        console.log(error);<br>    &#125;);<br><br>    instance.get(&#x27;goods/1&#x27;)<br>        .then(function (response) &#123;<br>        console.log(response);<br>    &#125;)<br>        .catch(function (error) &#123;<br>        console.log(error);<br>    &#125;);<br><br>    instance.post(&#x27;goods&#x27;, &#123;<br>        name: &#x27;æ´—å‘éœ²&#x27;,<br>        price: 25454<br>    &#125;).then(function (response) &#123;<br>        console.log(response);<br>    &#125;).catch(function (error) &#123;<br>        console.log(error);<br>    &#125;);<br><br>    instance.put(&#x27;goods&#x27;, &#123;<br>        name: &#x27;æ´—å‘éœ²&#x27;,<br>        price: 25454<br>    &#125;).then(function (response) &#123;<br>        console.log(response);<br>    &#125;).catch(function (error) &#123;<br>        console.log(error);<br>    &#125;);<br><br>    instance.delete(&#x27;goods/1&#x27;)<br>        .then(function (response) &#123;<br>        console.log(response);<br>    &#125;).catch(function (error) &#123;<br>        console.log(error);<br>    &#125;);<br><br><span class="hljs-symbol">&amp;lt;</span>/script<span class="hljs-symbol">&amp;gt;</span> <br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å½“ç„¶ï¼Œä½¿ç”¨jqueryåŒæ ·å¯ä»¥å‘é€å¦‚ä¸‹è¯·æ±‚</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight javascript"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$.<span class="hljs-title function_">ajax</span>( &#123;<br>    type : <span class="hljs-string">&quot;GET&quot;</span>,<br>    url : <span class="hljs-string">&quot;http://localhost:8080/springmvc/user/rest/1&quot;</span>,<br>    dataType : <span class="hljs-string">&quot;json&quot;</span>,<br>    success : <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;getè¯·æ±‚ï¼---------------------&quot;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>    &#125;<br>&#125;);<br><br>$.<span class="hljs-title function_">ajax</span>( &#123;<br>    type : <span class="hljs-string">&quot;DELETE&quot;</span>,<br>    url : <span class="hljs-string">&quot;http://localhost:8080/springmvc/user/rest/1&quot;</span>,<br>    dataType : <span class="hljs-string">&quot;json&quot;</span>,<br>    success : <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;deleteè¯·æ±‚ï¼---------------------&quot;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>    &#125;<br>&#125;);<br><br>$.<span class="hljs-title function_">ajax</span>( &#123;<br>    type : <span class="hljs-string">&quot;put&quot;</span>,<br>    url : <span class="hljs-string">&quot;http://localhost:8080/springmvc/user/rest/1&quot;</span>,<br>    dataType : <span class="hljs-string">&quot;json&quot;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">12</span>,<span class="hljs-attr">username</span>:<span class="hljs-string">&quot;æ¥ å“¥&quot;</span>,<span class="hljs-attr">password</span>:<span class="hljs-string">&quot;123&quot;</span>&#125;,<br>    success : <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;getè¯·æ±‚ï¼---------------------&quot;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>    &#125;<br>&#125;);<br><br>$.<span class="hljs-title function_">ajax</span>( &#123;<br>    type : <span class="hljs-string">&quot;post&quot;</span>,<br>    url : <span class="hljs-string">&quot;http://localhost:8080/springmvc/user/rest&quot;</span>,<br>    dataType : <span class="hljs-string">&quot;json&quot;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">12</span>,<span class="hljs-attr">username</span>:<span class="hljs-string">&quot;æ¥ å“¥&quot;</span>,<span class="hljs-attr">password</span>:<span class="hljs-string">&quot;123&quot;</span>&#125;,<br>    success : <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;getè¯·æ±‚ï¼---------------------&quot;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ƒã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¸ƒã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½">#</a> ä¸ƒã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h2><h3 id="ä¸€ã€æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¸€ã€æ–‡ä»¶ä¸Šä¼ ">#</a> ä¸€ã€æ–‡ä»¶ä¸Šä¼ </h3><p>ã€MultipartResolverã€‘ç”¨äºå¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚å½“æ”¶åˆ°è¯·æ±‚æ—¶ï¼ŒDispatcherServlet çš„ checkMultipart() æ–¹æ³•ä¼šè°ƒç”¨ MultipartResolver çš„ isMultipart() æ–¹æ³•åˆ¤æ–­è¯·æ±‚ä¸­ã€æ˜¯å¦åŒ…å«æ–‡ä»¶ã€‘ã€‚å¦‚æœè¯·æ±‚æ•°æ®ä¸­åŒ…å«æ–‡ä»¶ï¼Œåˆ™è°ƒç”¨ MultipartResolver çš„ resolveMultipart() æ–¹æ³•å¯¹è¯·æ±‚çš„æ•°æ®è¿›è¡Œè§£æï¼Œç„¶åå°†æ–‡ä»¶æ•°æ®è§£ææˆ MultipartFile å¹¶å°è£…åœ¨ MultipartHttpServletRequest (ç»§æ‰¿äº† HttpServletRequest) å¯¹è±¡ä¸­ï¼Œæœ€åä¼ é€’ç»™ Controllerã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°DispatcherServletçš„æ ¸å¿ƒæ–¹æ³•ä¸­ç¬¬ä¸€å¥å°±æ˜¯å¦‚ä¸‹çš„ä»£ç ï¼š</p><figure><img class="lazy" alt="image-20220104171526682" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220104171526682-501b9dfc.png" tabindex="0"/><figcaption>image-20220104171526682</figcaption></figure><p>**æ³¨ï¼š**MultipartResolver é»˜è®¤ä¸å¼€å¯ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ã€‚</p><p>æ–‡ä»¶ä¸Šä¼ å¯¹å‰ç«¯è¡¨å•æœ‰å¦‚ä¸‹è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„ã€methodè®¾ç½®ä¸ºPOSTã€‘ï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºã€multipart/form-dataã€‘ã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ã€‚</p><p><strong>è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong></p><ul><li><p>application/x-www-form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚</p></li><li><p>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚</p></li></ul><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>form action=&quot;&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>input type=&quot;file&quot; name=&quot;file&quot;/<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>input type=&quot;submit&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/form<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚</p><blockquote><p>åœ¨2003å¹´ï¼ŒApache Software Foundationå‘å¸ƒäº†å¼€æºçš„Commons FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚</p></blockquote><p>1ã€æˆ‘ä»¬åŒæ ·éœ€è¦å¯¼å…¥è¿™ä¸ªjaråŒ…ã€commons-fileuploadã€‘ï¼ŒMavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ…ã€commons-ioã€‘ï¼›</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ --<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.3.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ã€é…ç½®beanï¼šmultipartResolver</p><p>ã€<strong>æ³¨æ„ï¼ï¼ï¼è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼åœ¨è¿™é‡Œæ ½è¿‡å‘,æ•™è®­ï¼</strong>ã€‘</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ é…ç½®--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot;/<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxUploadSize&quot; value=&quot;10485760&quot;/<span class="hljs-symbol">&amp;gt;</span><br>   <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CommonsMultipartFile çš„å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><strong>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</strong></li><li><strong>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ</strong></li><li><strong>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­</strong></li></ul><p>æˆ‘ä»¬å»å®é™…æµ‹è¯•ä¸€ä¸‹</p><p>3ã€ç¼–å†™å‰ç«¯é¡µé¢</p><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>form action=&quot;/upload&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;<span class="hljs-symbol">&amp;gt;</span><br> <span class="hljs-symbol">&amp;lt;</span>input type=&quot;file&quot; name=&quot;file&quot;/<span class="hljs-symbol">&amp;gt;</span><br> <span class="hljs-symbol">&amp;lt;</span>input type=&quot;submit&quot; value=&quot;upload&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/form<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4ã€<code>Controller</code></p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/upload&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> R <span class="hljs-title function_">upload</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>    <span class="hljs-comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">uploadFileName</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>    System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶å : &quot;</span>+uploadFileName);<br><br>    <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;D:/upload&quot;</span>;<br>    <span class="hljs-comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span><br>    <span class="hljs-type">File</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path);<br>    <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>        realPath.mkdir();<br>    &#125;<br>    System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br>    <span class="hljs-comment">//å°±é—®é¦™ä¸é¦™ï¼Œå°±å’Œä½ å†™è¯»æµä¸€æ ·</span><br>    file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path+<span class="hljs-string">&quot;/&quot;</span>+uploadFileName));<br><br>    <span class="hljs-keyword">return</span> R.success();<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5ã€æµ‹è¯•ä¸Šä¼ æ–‡ä»¶ï¼ŒOKï¼</p><p>**å°çŸ¥è¯†ï¼š**æˆ‘ä»¬åœ¨æ–‡ä»¶ä¸Šä¼ å¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>1ã€æ–‡ä»¶çš„åŸå§‹ä¿¡æ¯ï¼Œæˆ–è€…å«æ–‡ä»¶çš„å…ƒæ•°æ®æ˜¯ä¸æ˜¯å¯ä»¥å­˜åœ¨æ•°æ®åº“ï¼Œå…·ä½“åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>2ã€æ–‡ä»¶çš„ä¸Šä¼ ç›®å½•èƒ½ä¸èƒ½å†™åœ¨é…ç½®æ–‡ä»¶å½“ä¸­ï¼Œè¿™ä¸ªåº”è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>3ã€æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨åå¯ä¸å¯ä»¥å®‰è£…ä¸€å®šçš„è§„åˆ™åˆ†ç›®å½•å­˜å‚¨ï¼Œæ¯”å¦‚æ—¥æœŸï¼Ÿ</p><p>4ã€æ€è€ƒæ€ä¹ˆä½¿ç”¨é˜¿é‡Œäº‘çš„ossè¿›è¡Œå›¾ç‰‡å­˜å‚¨ï¼Ÿ</p><h3 id="äºŒã€æ–‡ä»¶ä¸‹è½½" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#äºŒã€æ–‡ä»¶ä¸‹è½½">#</a> äºŒã€æ–‡ä»¶ä¸‹è½½</h3><ul><li><p>ç¬¬ä¸€ç§å¯ä»¥ç›´æ¥å‘responseçš„è¾“å‡ºæµä¸­å†™å…¥å¯¹åº”çš„æ–‡ä»¶æµ</p></li><li><p>ç¬¬äºŒç§å¯ä»¥ä½¿ç”¨ ResponseEntity&lt;byte[]&gt;æ¥å‘å‰ç«¯è¿”å›æ–‡ä»¶</p></li></ul><h4 id="_1ã€ä¼ ç»Ÿæ–¹å¼" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€ä¼ ç»Ÿæ–¹å¼">#</a> 1ã€ä¼ ç»Ÿæ–¹å¼</h4><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/download1&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> R <span class="hljs-title function_">download1</span><span class="hljs-params">(HttpServletResponse response)</span>&#123;<br>    <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fileInputStream</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-type">ServletOutputStream</span> <span class="hljs-variable">outputStream</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">// è¿™ä¸ªæ–‡ä»¶åæ˜¯å‰ç«¯ä¼ ç»™ä½ çš„è¦ä¸‹è½½çš„å›¾ç‰‡çš„id</span><br>        <span class="hljs-comment">// ç„¶åæ ¹æ®idå»æ•°æ®åº“æŸ¥è¯¢å‡ºå¯¹åº”çš„æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬urlï¼Œæ–‡ä»¶åç­‰</span><br>        <span class="hljs-type">String</span>  <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;æ¥ è€å¸ˆ.jpg&quot;</span>;<br><br>        <span class="hljs-comment">//1ã€è®¾ç½®response å“åº”å¤´ï¼Œå¤„ç†ä¸­æ–‡åå­—ä¹±ç é—®é¢˜</span><br>        response.reset(); <span class="hljs-comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span><br>        response.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>); <span class="hljs-comment">//å­—ç¬¦ç¼–ç </span><br>        response.setContentType(<span class="hljs-string">&quot;multipart/form-data&quot;</span>); <span class="hljs-comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span><br>        <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ï¼Œå°±æ˜¯å½“ç”¨æˆ·æƒ³æŠŠè¯·æ±‚æ‰€å¾—çš„å†…å®¹å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™æä¾›ä¸€ä¸ªé»˜è®¤çš„æ–‡ä»¶åã€‚</span><br>        <span class="hljs-comment">//Content-Dispositionå±æ€§æœ‰ä¸¤ç§ç±»å‹ï¼šinline å’Œ attachment </span><br>        <span class="hljs-comment">//inline ï¼šå°†æ–‡ä»¶å†…å®¹ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ </span><br>        <span class="hljs-comment">//attachmentï¼šå¼¹å‡ºå¯¹è¯æ¡†è®©ç”¨æˆ·ä¸‹è½½å…·ä½“ä¾‹å­ï¼š</span><br>        response.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<br>                           <span class="hljs-string">&quot;attachment;fileName=&quot;</span>+ URLEncoder.encode(fileName, <span class="hljs-string">&quot;UTF-8&quot;</span>));<br><br>        <span class="hljs-comment">// é€šè¿‡urlè·å–æ–‡ä»¶</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;D:/upload/&quot;</span>+fileName);<br>        fileInputStream = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file);<br>        outputStream = response.getOutputStream();<br><br>        <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>        <span class="hljs-type">int</span> len;<br>        <span class="hljs-keyword">while</span> ((len = fileInputStream.read(buffer)) != -<span class="hljs-number">1</span>)&#123;<br>            outputStream.write(buffer,<span class="hljs-number">0</span>,len);<br>            outputStream.flush();<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> R.success();<br>    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> R.fail();<br>    &#125;<span class="hljs-keyword">finally</span> &#123;<br>        <span class="hljs-keyword">if</span>( fileInputStream != <span class="hljs-literal">null</span> )&#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                fileInputStream.close();<br>            &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>( outputStream != <span class="hljs-literal">null</span> )&#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                outputStream.close();<br>            &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2ã€ä½¿ç”¨responseentity" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€ä½¿ç”¨responseentity">#</a> 2ã€ä½¿ç”¨ResponseEntity</h4><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping(&quot;/download2&quot;)</span><br><span class="hljs-keyword">public</span> ResponseEntity&amp;lt;<span class="hljs-type">byte</span>[]&amp;gt; download2()&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;æ¥ è€å¸ˆ.jpg&quot;</span>;<br>        <span class="hljs-type">byte</span>[] bytes = FileUtils.readFileToByteArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;D:/upload/&quot;</span>+fileName));<br>        HttpHeaders headers=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHeaders</span>();<br>        <span class="hljs-comment">// Content-Dispositionå°±æ˜¯å½“ç”¨æˆ·æƒ³æŠŠè¯·æ±‚æ‰€å¾—çš„å†…å®¹å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™æä¾›ä¸€ä¸ªé»˜è®¤çš„æ–‡ä»¶åã€‚</span><br>        headers.set(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<span class="hljs-string">&quot;attachment;filename=&quot;</span>+ URLEncoder.encode(fileName, <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>        headers.set(<span class="hljs-string">&quot;charsetEncoding&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        headers.set(<span class="hljs-string">&quot;content-type&quot;</span>,<span class="hljs-string">&quot;multipart/form-data&quot;</span>);<br>        ResponseEntity&amp;lt;<span class="hljs-type">byte</span>[]&amp;gt; entity=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&amp;lt;&amp;gt;(bytes,headers, HttpStatus.OK);<br>        <span class="hljs-keyword">return</span> entity;<br>    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…«ã€websocket" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#å…«ã€websocket">#</a> å…«ã€WebSocket</h2><h3 id="_1ã€websocket-ç®€ä»‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€websocket-ç®€ä»‹">#</a> 1ã€WebSocket ç®€ä»‹</h3><p>WebSocket åè®®æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–æ–¹å¼ï¼Œå¯é€šè¿‡å•ä¸ª TCP è¿æ¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹å…¨åŒå·¥ã€åŒå‘é€šä¿¡é€šé“ã€‚å®ƒæ˜¯ä¸ HTTP ä¸åŒçš„ TCP åè®®ï¼Œä½†æ—¨åœ¨é€šè¿‡ HTTP å·¥ä½œï¼Œä½¿ç”¨ç«¯å£ 80 å’Œ 443ã€‚</p><p>WebSocket äº¤äº’ä»¥ HTTP è¯·æ±‚å¼€å§‹ï¼ŒHTTPè¯·æ±‚ä¸­åŒ…å«<code>Upgrade: websocket </code> æ—¶ï¼Œä¼šåˆ‡æ¢åˆ° WebSocket åè®®ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†è¿™æ ·çš„äº¤äº’ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight yaml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">GET</span> <span class="hljs-string">/spring-websocket-portfolio/portfolio</span> <span class="hljs-string">HTTP/1.1</span><br><span class="hljs-attr">Host:</span> <span class="hljs-string">localhost:8080</span><br><span class="hljs-attr">Upgrade:</span> <span class="hljs-string">websocket</span> <br><span class="hljs-attr">Connection:</span> <span class="hljs-string">Upgrade</span> <br><span class="hljs-attr">Sec-WebSocket-Key:</span> <span class="hljs-string">Uc9l9TMkWGbHFD2qnFHltg==</span><br><span class="hljs-attr">Sec-WebSocket-Protocol:</span> <span class="hljs-string">v10.stomp,</span> <span class="hljs-string">v11.stomp</span><br><span class="hljs-attr">Sec-WebSocket-Version:</span> <span class="hljs-number">13</span><br><span class="hljs-attr">Origin:</span> <span class="hljs-string">http://localhost:8080</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆåŠŸæ¡æ‰‹åï¼ŒHTTP å‡çº§è¯·æ±‚åº•å±‚çš„ TCP å¥—æ¥å­—ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥ç»§ç»­å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚</p><h4 id="_1-http-ä¸-websocket" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-http-ä¸-websocket">#</a> ï¼ˆ1ï¼‰HTTP ä¸ WebSocket</h4><p>å°½ç®¡ WebSocket è¢«è®¾è®¡ä¸ºä¸ HTTP å…¼å®¹å¹¶ä» HTTP è¯·æ±‚å¼€å§‹ï¼Œä½†è¿™ä¸¤ç§åè®®ä¼šäº§ç”Ÿä¸åŒçš„æ¶æ„å’Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¨¡å‹ã€‚</p><p>åœ¨ HTTP å’Œ REST ä¸­ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºè¢«å»ºæ¨¡ä¸ºå¤šä¸ª URLã€‚ä¸ºäº†ä¸åº”ç”¨ç¨‹åºäº¤äº’ï¼Œå®¢æˆ·ç«¯è®¿é—®è¿™äº› URLï¼Œè¯·æ±‚-å“åº”æ ·å¼ã€‚æœåŠ¡å™¨æ ¹æ® HTTP URLã€æ–¹æ³•å’Œè¯·æ±‚å¤´å°†è¯·æ±‚è·¯ç”±åˆ°é€‚å½“çš„å¤„ç†ç¨‹åºã€‚è€Œåœ¨ WebSocketä¸­ï¼Œé€šå¸¸åªæœ‰ä¸€ä¸ª URL ç”¨äºåˆå§‹è¿æ¥ã€‚éšåï¼Œæ‰€æœ‰åº”ç”¨ç¨‹åºæ¶ˆæ¯éƒ½åœ¨åŒä¸€ä¸ª TCP è¿æ¥ä¸ŠæµåŠ¨ã€‚</p><blockquote><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªéœ€è¦ï¼Œå°±æ˜¯é¡µé¢ç”¨å®æ—¶æ˜¾ç¤ºå½“å‰çš„åº“å­˜ä¿¡æ¯ï¼š</p></blockquote><p><strong>çŸ­è½®è¯¢:</strong></p><p>æœ€ç®€å•çš„ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯ä½ ç”¨JSå†™ä¸ªæ­»å¾ªç¯ï¼ˆsetIntervalï¼‰ï¼Œä¸åœçš„å»è¯·æ±‚æœåŠ¡å™¨ä¸­çš„åº“å­˜é‡æ˜¯å¤šå°‘ï¼Œç„¶ååˆ·æ–°åˆ°è¿™ä¸ªé¡µé¢å½“ä¸­ï¼Œè¿™å…¶å®å°±æ˜¯æ‰€è°“çš„çŸ­è½®è¯¢ã€‚</p><p>è¿™ç§æ–¹å¼æœ‰æ˜æ˜¾çš„åå¤„ï¼Œé‚£å°±æ˜¯ä½ å¾ˆæµªè´¹æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„èµ„æºã€‚å®¢æˆ·ç«¯è¿˜å¥½ç‚¹ï¼Œç°åœ¨PCæœºé…ç½®é«˜äº†ï¼Œä½ ä¸åœçš„è¯·æ±‚è¿˜ä¸è‡³äºæŠŠç”¨æˆ·çš„ç”µè„‘æ•´æ­»ï¼Œä½†æ˜¯æœåŠ¡å™¨å°±å¾ˆè›‹ç–¼äº†ã€‚å¦‚æœæœ‰1000ä¸ªäººåœç•™åœ¨æŸä¸ªå•†å“è¯¦æƒ…é¡µé¢ï¼Œé‚£å°±æ˜¯è¯´ä¼šæœ‰1000ä¸ªå®¢æˆ·ç«¯ä¸åœçš„å»è¯·æ±‚æœåŠ¡å™¨è·å–åº“å­˜é‡ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚</p><p><strong>é•¿è½®è¯¢ï¼š</strong></p><p>é•¿è½®è¯¢è¿™ä¸ªæ—¶å€™å°±å‡ºç°äº†ï¼Œå…¶å®é•¿è½®è¯¢å’ŒçŸ­è½®è¯¢æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒçŸ­è½®è¯¢å»æœåŠ¡ç«¯æŸ¥è¯¢çš„æ—¶å€™ï¼Œä¸ç®¡åº“å­˜é‡æœ‰æ²¡æœ‰å˜åŒ–ï¼ŒæœåŠ¡å™¨å°±ç«‹å³è¿”å›ç»“æœäº†ã€‚è€Œé•¿è½®è¯¢åˆ™ä¸æ˜¯ï¼Œåœ¨é•¿è½®è¯¢ä¸­ï¼ŒæœåŠ¡å™¨å¦‚æœæ£€æµ‹åˆ°åº“å­˜é‡æ²¡æœ‰å˜åŒ–çš„è¯ï¼Œå°†ä¼šæŠŠå½“å‰è¯·æ±‚æŒ‚èµ·ä¸€æ®µæ—¶é—´ï¼ˆè¿™ä¸ªæ—¶é—´ä¹Ÿå«ä½œè¶…æ—¶æ—¶é—´ï¼Œä¸€èˆ¬æ˜¯å‡ åç§’ï¼‰ã€‚åœ¨è¿™ä¸ªæ—¶é—´é‡Œï¼ŒæœåŠ¡å™¨ä¼šå»æ£€æµ‹åº“å­˜é‡æœ‰æ²¡æœ‰å˜åŒ–ï¼Œæ£€æµ‹åˆ°å˜åŒ–å°±ç«‹å³è¿”å›ï¼Œå¦åˆ™å°±ä¸€ç›´ç­‰åˆ°è¶…æ—¶ä¸ºæ­¢ã€‚</p><p>è€Œå¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œä¸ç®¡æ˜¯é•¿è½®è¯¢è¿˜æ˜¯çŸ­è½®è¯¢ï¼Œå®¢æˆ·ç«¯çš„åŠ¨ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯ä¸åœçš„å»è¯·æ±‚ï¼Œä¸åŒçš„æ˜¯æœåŠ¡ç«¯ï¼ŒçŸ­è½®è¯¢æƒ…å†µä¸‹æœåŠ¡ç«¯æ¯æ¬¡è¯·æ±‚ä¸ç®¡æœ‰æ²¡æœ‰å˜åŒ–éƒ½ä¼šç«‹å³è¿”å›ç»“æœï¼Œè€Œé•¿è½®è¯¢æƒ…å†µä¸‹ï¼Œå¦‚æœæœ‰å˜åŒ–æ‰ä¼šç«‹å³è¿”å›ç»“æœï¼Œè€Œæ²¡æœ‰å˜åŒ–çš„è¯ï¼Œåˆ™ä¸ä¼šå†ç«‹å³ç»™å®¢æˆ·ç«¯è¿”å›ç»“æœï¼Œç›´åˆ°è¶…æ—¶ä¸ºæ­¢ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚æ¬¡æ•°å°†ä¼šå¤§é‡å‡å°‘ï¼ˆè¿™ä¹Ÿå°±æ„å‘³ç€èŠ‚çœäº†ç½‘ç»œæµé‡ï¼Œæ¯•ç«Ÿæ¯æ¬¡å‘è¯·æ±‚ï¼Œéƒ½ä¼šå ç”¨å®¢æˆ·ç«¯çš„ä¸Šä¼ æµé‡å’ŒæœåŠ¡ç«¯çš„ä¸‹è½½æµé‡ï¼‰ï¼Œè€Œä¸”ä¹Ÿè§£å†³äº†æœåŠ¡ç«¯ä¸€ç›´ç–²äºæ¥å—è¯·æ±‚çš„çª˜å¢ƒã€‚</p><p>ä½†æ˜¯é•¿è½®è¯¢ä¹Ÿæ˜¯æœ‰åå¤„çš„ï¼Œå› ä¸ºæŠŠè¯·æ±‚æŒ‚èµ·åŒæ ·ä¼šå¯¼è‡´èµ„æºçš„æµªè´¹ï¼Œå‡è®¾è¿˜æ˜¯1000ä¸ªäººåœç•™åœ¨æŸä¸ªå•†å“è¯¦æƒ…é¡µé¢ï¼Œé‚£å°±å¾ˆæœ‰å¯èƒ½æœåŠ¡å™¨è¿™è¾¹æŒ‚ç€1000ä¸ªçº¿ç¨‹ï¼Œåœ¨ä¸åœæ£€æµ‹åº“å­˜é‡ï¼Œè¿™ä¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚</p><h4 id="_2-ä½•æ—¶ä½¿ç”¨-websocket" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-ä½•æ—¶ä½¿ç”¨-websocket">#</a> ï¼ˆ2ï¼‰ä½•æ—¶ä½¿ç”¨ WebSocket</h4><p>WebSockets å¯ä»¥ä½¿ç½‘é¡µå…·æœ‰åŠ¨æ€æ€§å’Œäº¤äº’æ€§ã€‚ä½†æ˜¯ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒAjax å’Œ HTTP é•¿è½®è¯¢çš„ç»„åˆå¯ä»¥æä¾›ç®€å•æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ä¾‹å¦‚ï¼Œæ–°é—»ã€é‚®ä»¶å’Œç¤¾äº¤æè¦éœ€è¦åŠ¨æ€æ›´æ–°ï¼Œä½†æ¯éš”å‡ åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡å¯èƒ½ä¹Ÿå®Œå…¨æ²¡é—®é¢˜ã€‚å¦ä¸€æ–¹é¢ï¼Œåä½œã€æ¸¸æˆå’Œé‡‘èåº”ç”¨ç¨‹åºéœ€è¦æ›´æ¥è¿‘å®æ—¶ã€‚</p><p>å»¶è¿Ÿæœ¬èº«å¹¶ä¸æ˜¯å†³å®šå› ç´ ã€‚å¦‚æœæ¶ˆæ¯é‡ç›¸å¯¹è¾ƒä½ï¼ˆä¾‹å¦‚ç›‘æ§ç½‘ç»œæ•…éšœï¼‰ï¼ŒHTTPè½®è¯¢å¯ä»¥æä¾›æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ä½å»¶è¿Ÿã€é«˜é¢‘ç‡å’Œé«˜å®¹é‡çš„ç»„åˆæ˜¯ä½¿ç”¨ WebSocket çš„æœ€ä½³æ¡ˆä¾‹ã€‚</p><h3 id="_2ã€å®æˆ˜æ¡ˆä¾‹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€å®æˆ˜æ¡ˆä¾‹">#</a> 2ã€å®æˆ˜æ¡ˆä¾‹</h3><p>Spring Framework æä¾›äº†ä¸€ä¸ª WebSocket APIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥ç¼–å†™å¤„ç† WebSocket æ¶ˆæ¯çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºã€‚</p><p>ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-websocket<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.2.18.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-messaging<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.2.18.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span>  <br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰åˆ›å»º WebSocket æœåŠ¡å™¨éœ€è¦å®ç°<code>WebSocketHandler</code>æ¥å£æˆ–è€…ç›´æ¥æ‰©å±•<code>TextWebSocketHandler</code>æˆ–<code>BinaryWebSocketHandler</code>è¿™ä¸¤ä¸ªç±»ï¼Œä½¿ç”¨èµ·æ¥ç›¸å¯¹ç®€å•ä¸€ç‚¹ã€‚ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨<code>TextWebSocketHandler</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TextWebSocketHandler</span> &#123;<br><br>    <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(MessageHandler.class);<br><br>    <span class="hljs-comment">//ç”¨æ¥ä¿å­˜è¿æ¥è¿›æ¥session</span><br>    <span class="hljs-keyword">private</span> List&amp;lt;WebSocketSession&amp;gt; sessions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CopyOnWriteArrayList</span>&amp;lt;&amp;gt;();<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å…³é—­è¿æ¥è¿›å…¥è¿™ä¸ªæ–¹æ³•å¤„ç†ï¼Œå°†sessionä» listä¸­åˆ é™¤</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterConnectionClosed</span><span class="hljs-params">(WebSocketSession session, CloseStatus status)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        sessions.remove(session);<br>        log.info(<span class="hljs-string">&quot;&#123;&#125; è¿æ¥å·²ç»å…³é—­ï¼Œç°ä»listä¸­åˆ é™¤ ,çŠ¶æ€ä¿¡æ¯&#123;&#125;&quot;</span>, session, status);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ä¸‰æ¬¡æ¡æ‰‹æˆåŠŸï¼Œè¿›å…¥è¿™ä¸ªæ–¹æ³•å¤„ç†ï¼Œå°†session åŠ å…¥list ä¸­</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterConnectionEstablished</span><span class="hljs-params">(WebSocketSession session)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        sessions.add(session);<br>        log.info(<span class="hljs-string">&quot;ç”¨æˆ·&#123;&#125;è¿æ¥æˆåŠŸ.... &quot;</span>,session);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¤„ç†å®¢æˆ·å‘é€çš„ä¿¡æ¯ï¼Œå°†å®¢æˆ·å‘é€çš„ä¿¡æ¯è½¬ç»™å…¶ä»–ç”¨æˆ·</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(WebSocketSession session, WebSocketMessage&amp;lt;?&amp;gt; message)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        log.info(<span class="hljs-string">&quot;æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„ä¿¡æ¯: &#123;&#125;&quot;</span>,message.getPayload());<br>        session.sendMessage(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextMessage</span>(<span class="hljs-string">&quot;å½“å‰æ—¶é—´ï¼š&quot;</span>+<br>                LocalDateTime.now().format(DateTimeFormatter.ofPattern(<span class="hljs-string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>)) +<span class="hljs-string">&quot;,æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„ä¿¡æ¯!&quot;</span>));<br>        <span class="hljs-keyword">for</span>(WebSocketSession wss : sessions)<br>            <span class="hljs-keyword">if</span>(!wss.getId().equals(session.getId()))&#123;<br>                wss.sendMessage(message);<br>            &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰æœ‰ä¸“ç”¨çš„ WebSocket Java é…ç½®å’Œ XML å‘½åç©ºé—´æ”¯æŒï¼Œç”¨äºå°†å‰é¢çš„ WebSocket å¤„ç†ç¨‹åºæ˜ å°„åˆ°ç‰¹å®šçš„ URLï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableWebSocket</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebSocketConfigurer</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerWebSocketHandlers</span><span class="hljs-params">(WebSocketHandlerRegistry registry)</span> &#123;<br>        registry.addHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageHandler</span>(), <span class="hljs-string">&quot;/message&quot;</span>)<br>        .addInterceptors(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpSessionHandshakeInterceptor</span>())<br>        .setAllowedOrigins(<span class="hljs-string">&quot;*&quot;</span>); <span class="hljs-comment">//å…è®¸è·¨åŸŸè®¿é—®</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸å‰é¢ç¤ºä¾‹ç­‰æ•ˆçš„ XML é…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>    xmlns:websocket=&quot;http://www.springframework.org/schema/websocket&quot;<br>    xsi:schemaLocation=&quot;<br>        http://www.springframework.org/schema/beans<br>        https://www.springframework.org/schema/beans/spring-beans.xsd<br>        http://www.springframework.org/schema/websocket<br>        https://www.springframework.org/schema/websocket/spring-websocket.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>websocket:handlers<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>websocket:mapping path=&quot;/message&quot; handler=&quot;myHandler&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>websocket:handshake-interceptors<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.socket.server.support.HttpSessionHandshakeInterceptor&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/websocket:handshake-interceptors<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/websocket:handlers<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;myHandler&quot; class=&quot;com.ydlclass.MessageHandler&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ4ï¼‰ä½¿ç”¨åŸç”Ÿjsï¼Œç”¨æ¥è®¿é—®websocketï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight html"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-symbol">&amp;lt;</span>!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>html<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>head<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>title<span class="hljs-symbol">&amp;gt;</span>websocketè°ƒè¯•é¡µé¢<span class="hljs-symbol">&amp;lt;</span>/title<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/head<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>body<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>div style=&quot;float: left; padding: 20px&quot;<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>strong<span class="hljs-symbol">&amp;gt;</span>location:<span class="hljs-symbol">&amp;lt;</span>/strong<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>br /<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>input type=&quot;text&quot; id=&quot;serverUrl&quot; size=&quot;35&quot; value=&quot;&quot; /<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>br /<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>button onclick=&quot;connect()&quot;<span class="hljs-symbol">&amp;gt;</span>connect<span class="hljs-symbol">&amp;lt;</span>/button<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>button onclick=&quot;wsclose()&quot;<span class="hljs-symbol">&amp;gt;</span>disConnect<span class="hljs-symbol">&amp;lt;</span>/button<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>br /<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>strong<span class="hljs-symbol">&amp;gt;</span>message:<span class="hljs-symbol">&amp;lt;</span>/strong<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>br /<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>input id=&quot;txtMsg&quot; type=&quot;text&quot; size=&quot;50&quot; /<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>br /<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>button onclick=&quot;sendEvent()&quot;<span class="hljs-symbol">&amp;gt;</span>å‘é€<span class="hljs-symbol">&amp;lt;</span>/button<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/div<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>div style=&quot;float: left; margin-left: 20px; padding-left: 20px; width: 350px; border-left: solid 1px #cccccc;&quot;<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>strong<span class="hljs-symbol">&amp;gt;</span>æ¶ˆæ¯è®°å½•<span class="hljs-symbol">&amp;lt;</span>/strong<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>div style=&quot;border: solid 1px #999999;border-top-color: #CCCCCC;border-left-color: #CCCCCC; padding: 5px;width: 100%;height: 172px;overflow-y: scroll;&quot; id=&quot;echo-log&quot;<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>/div<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>button onclick=&quot;clearLog()&quot; style=&quot;position: relative; top: 3px;&quot;<span class="hljs-symbol">&amp;gt;</span>æ¸…é™¤æ¶ˆæ¯<span class="hljs-symbol">&amp;lt;</span>/button<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/div<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/div<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/body<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!-- ä¸‹é¢æ˜¯h5åŸç”Ÿwebsocket jså†™æ³• --<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>script type=&quot;text/javascript&quot;<span class="hljs-symbol">&amp;gt;</span><br>  let output ;<br>  let websocket;<br>  function connect()&#123; //åˆå§‹åŒ–è¿æ¥<br>    output = document.getElementById(&quot;echo-log&quot;)<br>    let inputNode = document.getElementById(&quot;serverUrl&quot;);<br>    let wsUri = inputNode.value;<br>    try&#123;<br>      websocket = new WebSocket(wsUri);<br>    &#125;catch(ex)&#123;<br>      console.log(ex)<br>      alert(&quot;å¯¹ä¸èµ·websocketè¿æ¥å¼‚å¸¸&quot;)<br>    &#125;<br><br>    connecting();<br>    window.addEventListener(&quot;load&quot;, connecting, false);<br>  &#125;<br><br><br>  function connecting()<br>  &#123;<br>    websocket.onopen = function(evt) &#123; onOpen(evt) &#125;;<br>    websocket.onclose = function(evt) &#123; onClose(evt) &#125;;<br>    websocket.onmessage = function(evt) &#123; onMessage(evt) &#125;;<br>    websocket.onerror = function(evt) &#123; onError(evt) &#125;;<br>  &#125;<br><br>  function sendEvent()&#123;<br>    let msg = document.getElementById(&quot;txtMsg&quot;).value<br>    doSend(msg);<br>  &#125;<br><br>  //è¿æ¥ä¸Šäº‹ä»¶<br>  function onOpen(evt)<br>  &#123;<br>    writeToScreen(&quot;CONNECTED&quot;);<br>    doSend(&quot;WebSocket å·²ç»è¿æ¥æˆåŠŸï¼&quot;);<br>  &#125;<br><br>  //å…³é—­äº‹ä»¶<br>  function onClose(evt)<br>  &#123;<br>    writeToScreen(&quot;è¿æ¥å·²ç»æ–­å¼€ï¼&quot;);<br>  &#125;<br><br>  //åç«¯æ¨é€äº‹ä»¶<br>  function onMessage(evt)<br>  &#123;<br>    writeToScreen(&#x27;<span class="hljs-symbol">&amp;lt;</span>span style=&quot;color: blue;&quot;<span class="hljs-symbol">&amp;gt;</span>æœåŠ¡å™¨: &#x27; + evt.data+&#x27;<span class="hljs-symbol">&amp;lt;</span>/span<span class="hljs-symbol">&amp;gt;</span>&#x27;);<br>  &#125;<br><br>  function onError(evt)<br>  &#123;<br>    writeToScreen(&#x27;<span class="hljs-symbol">&amp;lt;</span>span style=&quot;color: red;&quot;<span class="hljs-symbol">&amp;gt;</span>å¼‚å¸¸ä¿¡æ¯:<span class="hljs-symbol">&amp;lt;</span>/span<span class="hljs-symbol">&amp;gt;</span> &#x27; + evt.data);<br>  &#125;<br><br>  function doSend(message)<br>  &#123;<br>    writeToScreen(&quot;å®¢æˆ·ç«¯A: &quot; + message);<br>    websocket.send(message);<br>  &#125;<br><br>  //æ¸…é™¤divçš„å†…å®¹<br>  function clearLog()&#123;<br>    output.innerHTML = &quot;&quot;;<br>  &#125;<br><br>  //æµè§ˆå™¨ä¸»åŠ¨æ–­å¼€è¿æ¥<br>  function wsclose()&#123;<br>    websocket.close();<br>  &#125;<br><br>  function writeToScreen(message)<br>  &#123;<br>    let pre = document.createElement(&quot;p&quot;);<br>    pre.innerHTML = message;<br>    output.appendChild(pre);<br>  &#125;<br><span class="hljs-symbol">&amp;lt;</span>/script<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/html<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight text"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">ws:127.0.0.1:8088/app/message<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨websocketçš„è¯·æ±‚ä¸­æœ‰è¿™æ ·çš„é¦–éƒ¨ä¿¡æ¯ï¼š</p><figure><img class="lazy" alt="image-20220106143523571" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106143523571-092e8101.png" tabindex="0"/><figcaption>image-20220106143523571</figcaption></figure><p>è€Œä¸”æˆ‘ä»¬å¤šæ¬¡å‘é€æ¶ˆæ¯ï¼Œå¹¶æ²¡æœ‰æ–°çš„è¯·æ±‚äº§ç”Ÿï¼š</p><figure><img class="lazy" alt="image-20220106143650427" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://upyun.thatcdn.cn/public/img/ydldoc/YDLImages/%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/%E6%A1%86%E6%9E%B6/springmvc/image-20220106143650427-78c67cfd.png" tabindex="0"/><figcaption>image-20220106143650427</figcaption></figure><p>å°çŸ¥è¯†ï¼šæˆ‘ä»¬ç»å¸¸çœ‹åˆ°æœ‰å¾ˆå¤šåœ°æ–¹ä½¿ç”¨sockjså®Œæˆwebsocketçš„å»ºç«‹ï¼ŒåŸå› æ˜¯ä¸€äº›æµè§ˆå™¨ä¸­ç¼ºå°‘å¯¹WebSocketçš„æ”¯æŒã€‚SockJSæ˜¯ä¸€ä¸ªæµè§ˆå™¨JavaScriptåº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªè¿è´¯çš„ã€è·¨æµè§ˆå™¨çš„Javascript APIï¼Œå®ƒåœ¨æµè§ˆå™¨å’ŒwebæœåŠ¡å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªä½å»¶è¿Ÿã€å…¨åŒå·¥ã€è·¨åŸŸé€šä¿¡é€šé“ã€‚</p><h2 id="ä¹ã€æ•´åˆæ•°æ®åº“-ssmç»“æŸ" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¹ã€æ•´åˆæ•°æ®åº“-ssmç»“æŸ">#</a> ä¹ã€æ•´åˆæ•°æ®åº“ï¼Œssmç»“æŸ</h2><blockquote><p>å…¶å®å°±æ˜¯springæ•´åˆmybatisï¼Œå’±ä»¬å°½é‡ä½¿ç”¨æ³¨è§£å®Œæˆå·¥ä½œ</p></blockquote><h3 id="_1ã€å®Œæ•´çš„ä¾èµ–" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€å®Œæ•´çš„ä¾èµ–">#</a> 1ã€å®Œæ•´çš„ä¾èµ–</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>parent<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>ssm-study<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.example<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.0-SNAPSHOT<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/parent<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>modelVersion<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/modelVersion<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-mvc-study<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>packaging<span class="hljs-symbol">&amp;gt;</span>war<span class="hljs-symbol">&amp;lt;</span>/packaging<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>dependencies<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æµ‹è¯•ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>junit<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>junit<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.12<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- springmvc --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-webmvc<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.2.6.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- servlet --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>javax.servlet-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet.jsp<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jsp-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.4<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- jackson --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-core<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-annotations<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-databind<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!-- mybatis ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.mybatis<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mybatis<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.5.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ•°æ®åº“è¿æ¥é©±åŠ¨ ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>mysql<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mysql-connector-java<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.1.47<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æä¾›äº†å¯¹JDBCæ“ä½œçš„å®Œæ•´å°è£… --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-jdbc<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.1.10.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ç»‡å…¥ ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.aspectj<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>aspectjweaver<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.9.4<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- springï¼Œmybatisæ•´åˆåŒ… --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.mybatis<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mybatis-spring<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.0.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- é›†æˆå¾·é²ä¼Šä½¿ç”¨ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.alibaba<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>druid<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.1.18<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ—¥å¿— --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>ch.qos.logback<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>logback-classic<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.projectlombok<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>lombok<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.18.12<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.alibaba<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>druid<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.1.18<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.slf4j<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>slf4j-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.7.30<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>ch.qos.logback<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>logback-classic<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/dependencies<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>build<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>plugins<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.apache.maven.plugins<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>maven-compiler-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>source<span class="hljs-symbol">&amp;gt;</span>1.8<span class="hljs-symbol">&amp;lt;</span>/source<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>!-- æºä»£ç ä½¿ç”¨çš„JDKç‰ˆæœ¬ --<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>target<span class="hljs-symbol">&amp;gt;</span>1.8<span class="hljs-symbol">&amp;lt;</span>/target<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>!-- éœ€è¦ç”Ÿæˆçš„ç›®æ ‡classæ–‡ä»¶çš„ç¼–è¯‘ç‰ˆæœ¬ --<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>encoding<span class="hljs-symbol">&amp;gt;</span>utf-8<span class="hljs-symbol">&amp;lt;</span>/encoding<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>!-- å­—ç¬¦é›†ç¼–ç  --<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/plugins<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>resources<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>resource<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>directory<span class="hljs-symbol">&amp;gt;</span>src/main/java<span class="hljs-symbol">&amp;lt;</span>/directory<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>includes<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.properties<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.xml<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/includes<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>filtering<span class="hljs-symbol">&amp;gt;</span>false<span class="hljs-symbol">&amp;lt;</span>/filtering<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/resource<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>resource<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>directory<span class="hljs-symbol">&amp;gt;</span>src/main/resources<span class="hljs-symbol">&amp;lt;</span>/directory<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>includes<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.properties<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.xml<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/includes<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>filtering<span class="hljs-symbol">&amp;gt;</span>false<span class="hljs-symbol">&amp;lt;</span>/filtering<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/resource<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/resources<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/build<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/project<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€mybatisçš„é…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€mybatisçš„é…ç½®æ–‡ä»¶">#</a> 2ã€mybatisçš„é…ç½®æ–‡ä»¶</h3><p><code>mybatis-config.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!DOCTYPE configuration<br>        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€springmvcé…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€springmvcé…ç½®æ–‡ä»¶">#</a> 3ã€springmvcé…ç½®æ–‡ä»¶</h3><p><code>springmvc-servlet.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;<br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>       http://www.springframework.org/schema/beans/spring-beans.xsd<br>       http://www.springframework.org/schema/context<br>       https://www.springframework.org/schema/context/spring-context.xsd<br>       http://www.springframework.org/schema/mvc<br>       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è‡ªåŠ¨æ‰«åŒ… --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>context:component-scan base-package=&quot;cn.itnanls&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:default-servlet-handler /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--  è®©springmvcè‡ªå¸¦çš„æ³¨è§£ç”Ÿæ•ˆ  --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven <span class="hljs-symbol">&amp;gt;</span><br><br><br>    <span class="hljs-symbol">&amp;lt;</span>/mvc:annotation-driven<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;fastjson&quot; class=&quot;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;supportedMediaTypes&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>list<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>text/html;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>application/json;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/list<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/property<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ é…ç½®--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxUploadSize&quot; value=&quot;10485760&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è§†å›¾è§£æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;         id=&quot;internalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- å‰ç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- åç¼€ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€æ•°æ®æºé…ç½®" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€æ•°æ®æºé…ç½®">#</a> 4ã€æ•°æ®æºé…ç½®</h3><div class="language-properties line-numbers-mode" data-ext="properties"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight properties"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;serverTimezone=Asia/Shanghai</span><br><span class="hljs-attr">username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">root</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€springé…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5ã€springé…ç½®æ–‡ä»¶">#</a> 5ã€springé…ç½®æ–‡ä»¶</h3><blockquote><p>application.xml</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;<br>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;<br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>       http://www.springframework.org/schema/beans/spring-beans.xsd<br>       http://www.springframework.org/schema/context<br>       https://www.springframework.org/schema/context/spring-context.xsd<br>       http://www.springframework.org/schema/aop<br>       http://www.springframework.org/schema/aop/spring-aop.xsd<br>       http://www.springframework.org/schema/tx<br>       http://www.springframework.org/schema/tx/spring-tx.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åŠ è½½å¤–éƒ¨çš„æ•°æ®åº“ä¿¡æ¯ classpath:ä¸å«ä¼šæŠ¥é”™å…·ä½“åŸå› ä¸‹è¾¹è§£é‡Š--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>context:property-placeholder location=&quot;classpath:db.properties&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åŠ å…¥springmvcçš„é…ç½® --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>import resource=&quot;classpath:springmvc-servlet.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- Mapper æ‰«æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ‰«æ cn.wmyskxz.mapper åŒ…ä¸‹çš„ç»„ä»¶ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;basePackage&quot; value=&quot;cn.itnanls.dao&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®æ•°æ®æºï¼šæ•°æ®æºæœ‰éå¸¸å¤šï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯ä½¿ä½¿ç”¨Springçš„--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®SqlSessionFactory--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--å…³è”Mybatis--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/*.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ³¨å†ŒsqlSessionTemplate , å…³è”sqlSessionFactory--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åˆ©ç”¨æ„é€ å™¨æ³¨å…¥--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®äº‹åŠ¡é€šçŸ¥--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>tx:attributes<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®å“ªäº›æ–¹æ³•ä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‹åŠ¡,é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;add*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;search*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;get*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;find*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/tx:attributes<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/tx:advice<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®aopç»‡å…¥äº‹åŠ¡--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>aop:config<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>aop:pointcut id=&quot;txPointcut&quot; expression=&quot;execution(* com.ydlclass.service.impl.*.*(..))&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPointcut&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/aop:config<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€web-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6ã€web-xml">#</a> 6ã€web.xml</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;<br>         version=&quot;4.0&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ³¨å†ŒDispatcherServletï¼Œè¿™æ˜¯springmvcçš„æ ¸å¿ƒï¼Œå°±æ˜¯ä¸ªservlet--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>springmvc<span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-class<span class="hljs-symbol">&amp;gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-symbol">&amp;lt;</span>/servlet-class<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>contextConfigLocation<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>classpath:application.xml<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åŠ è½½æ—¶å…ˆå¯åŠ¨--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>load-on-startup<span class="hljs-symbol">&amp;gt;</span>1<span class="hljs-symbol">&amp;lt;</span>/load-on-startup<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/servlet<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>springmvc<span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/web-app<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mavené¡¹ç›®ï¼Œapplication-context.xmlã€db.propertiesæ–‡ä»¶å‡æ”¾ç½®åœ¨src/main/resourcesç›®å½•ä¸‹ï¼ŒTomcatéƒ¨ç½²é¡¹ç›®ï¼Œsrc/main/resourcesç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶é»˜è®¤ä½ç½®ä¸ºï¼š{é¡¹ç›®å}/WEB-INF/classesï¼Œè€ŒSpringå´åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¯»æ‰¾ï¼Œè‚¯å®šæ‰¾ä¸åˆ°ï¼Œå› æ­¤ï¼Œé…ç½®æ—¶æŒ‡å®šclasspathç›®å½•ä¸‹å¯»æ‰¾å³å¯ã€‚</p><p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p><p><code>ã€€&lt;context:property-placeholder location="**classpath:db.properties**" /&gt;</code></p><p>é…ç½®æ–‡ä»¶å®Œ</p><h3 id="_7ã€ç¼–å†™entityå®ä½“ç±»" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_7ã€ç¼–å†™entityå®ä½“ç±»">#</a> 7ã€ç¼–å†™entityå®ä½“ç±»</h3><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ITæ¥ è€å¸ˆ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/5/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8ã€userdaoæ¥å£ç¼–å†™" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_8ã€userdaoæ¥å£ç¼–å†™">#</a> <strong>8ã€UserDaoæ¥å£ç¼–å†™</strong></h3><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ITæ¥ è€å¸ˆ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/5/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ ¹æ®idæŸ¥æ‰¾ç”¨æˆ·</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    User <span class="hljs-title function_">findUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è·å–æ‰€æœ‰çš„ç”¨æˆ·</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    List&amp;lt;User&amp;gt; findAllUsers();<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9ã€mapperæ˜ å°„æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_9ã€mapperæ˜ å°„æ–‡ä»¶">#</a> <strong>9ã€Mapperæ˜ å°„æ–‡ä»¶</strong></h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!DOCTYPE mapper<br>        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>mapper namespace=&quot;cn.itnanls.dao.UserMapper&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>select id=&quot;findUserById&quot; resultType=&quot;cn.itnanls.entity.User&quot;<span class="hljs-symbol">&amp;gt;</span><br>      select id,username,password from user where id = #&#123;id&#125;<br>    <span class="hljs-symbol">&amp;lt;</span>/select<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>select id=&quot;findAllUsers&quot; resultType=&quot;cn.itnanls.entity.User&quot;<span class="hljs-symbol">&amp;gt;</span><br>      select id,username,password from user<br>    <span class="hljs-symbol">&amp;lt;</span>/select<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/mapper<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10ã€ç¼–å†™service" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_10ã€ç¼–å†™service">#</a> 10ã€ç¼–å†™service</h3><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ITæ¥ è€å¸ˆ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/5/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IUserService</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è·å–ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è·å–æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    List&amp;lt;User&amp;gt; getAllUsers();<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ITæ¥ è€å¸ˆ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/5/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IUserService</span> &#123;<br><br>    <span class="hljs-meta">@Resource</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-keyword">return</span> userMapper.findUserById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&amp;lt;User&amp;gt; getAllUsers() &#123;<br>        <span class="hljs-keyword">return</span> userMapper.findAllUsers();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11ã€ç¼–å†™controller" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_11ã€ç¼–å†™controller">#</a> 11ã€ç¼–å†™controller</h3><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ITæ¥ è€å¸ˆ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2020/5/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user/&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-meta">@Resource</span><br>    IUserService userService;<br><br>    <span class="hljs-meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-type">int</span> id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.getUserInfo(id);<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/all&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> List&amp;lt;User&amp;gt; getUserInfo()&#123;<br>        <span class="hljs-keyword">return</span> userService.getAllUsers();<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12ã€æµ‹è¯•" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_12ã€æµ‹è¯•">#</a> 12ã€æµ‹è¯•</h3><h3 id="_13ã€é›†æˆä¸€ä¸ªå¾·é²ä¼Š" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_13ã€é›†æˆä¸€ä¸ªå¾·é²ä¼Š">#</a> 13ã€é›†æˆä¸€ä¸ªå¾·é²ä¼Š</h3><h4 id="_1-æ›´æ¢æ•°æ®æº" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-æ›´æ¢æ•°æ®æº">#</a> ï¼ˆ1ï¼‰æ›´æ¢æ•°æ®æº</h4><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!--é…ç½®æ•°æ®æºï¼šæ•°æ®æºæœ‰éå¸¸å¤šï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯ä½¿ä½¿ç”¨Springçš„--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;filters&quot; value = &quot;$&#123;filters&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æœ€å¤§å¹¶å‘è¿æ¥æ•° --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxActive&quot; value = &quot;$&#123;maxActive&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åˆå§‹åŒ–è¿æ¥æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;initialSize&quot; value = &quot;$&#123;initialSize&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxWait&quot; value = &quot;$&#123;maxWait&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æœ€å°ç©ºé—²è¿æ¥æ•° --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;minIdle&quot; value = &quot;$&#123;minIdle&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;timeBetweenEvictionRunsMillis&quot; value =&quot;$&#123;timeBetweenEvictionRunsMillis&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;minEvictableIdleTimeMillis&quot; value =&quot;$&#123;minEvictableIdleTimeMillis&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;validationQuery&quot; value = &quot;$&#123;validationQuery&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span>     --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testWhileIdle&quot; value = &quot;$&#123;testWhileIdle&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testOnBorrow&quot; value = &quot;$&#123;testOnBorrow&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testOnReturn&quot; value = &quot;$&#123;testOnReturn&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxOpenPreparedStatements&quot; value =&quot;$&#123;maxOpenPreparedStatements&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ‰“å¼€ removeAbandoned åŠŸèƒ½ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;removeAbandoned&quot; value = &quot;$&#123;removeAbandoned&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- 1800 ç§’ï¼Œä¹Ÿå°±æ˜¯ 30 åˆ†é’Ÿ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;removeAbandonedTimeout&quot; value =&quot;$&#123;removeAbandonedTimeout&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å…³é—­ abanded è¿æ¥æ—¶è¾“å‡ºé”™è¯¯æ—¥å¿— --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name = &quot;logAbandoned&quot; value = &quot;$&#123;logAbandoned&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-å¢åŠ db-propertieså†…å®¹" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-å¢åŠ db-propertieså†…å®¹">#</a> ï¼ˆ2ï¼‰å¢åŠ <code>db.properties</code>å†…å®¹</h4><div class="language-properties line-numbers-mode" data-ext="properties"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight properties"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;serverTimezone=Asia/Shanghai</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">root</span><br><br><span class="hljs-attr">filters</span>=<span class="hljs-string">wall,stat</span><br><span class="hljs-attr">maxActive</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">initialSize</span>=<span class="hljs-string">3</span><br><span class="hljs-attr">maxWait</span>=<span class="hljs-string">5000</span><br><span class="hljs-attr">minIdle</span>=<span class="hljs-string">3</span><br><span class="hljs-attr">maxIdle</span>=<span class="hljs-string">15</span><br><span class="hljs-attr">timeBetweenEvictionRunsMillis</span>=<span class="hljs-string">60000</span><br><span class="hljs-attr">minEvictableIdleTimeMillis</span>=<span class="hljs-string">300000</span><br><span class="hljs-attr">validationQuery</span>=<span class="hljs-string">SELECT &#x27;x&#x27;</span><br><span class="hljs-attr">testWhileIdle</span>=<span class="hljs-string">true</span><br><span class="hljs-attr">testOnBorrow</span>=<span class="hljs-string">false</span><br><span class="hljs-attr">testOnReturn</span>=<span class="hljs-string">false</span><br><span class="hljs-attr">maxOpenPreparedStatements</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">removeAbandoned</span>=<span class="hljs-string">true</span><br><span class="hljs-attr">removeAbandonedTimeout</span>=<span class="hljs-string">1800</span><br><span class="hljs-attr">logAbandoned</span>=<span class="hljs-string">true</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-å¼€å¯webç›‘æ§" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-å¼€å¯webç›‘æ§">#</a> ï¼ˆ3ï¼‰å¼€å¯webç›‘æ§</h4><blockquote><p>åœ¨web.xmlä¸­å¯åŠ¨webæœåŠ¡</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>!-- è¿æ¥æ±  å¯ç”¨ Web ç›‘æ§ç»Ÿè®¡åŠŸèƒ½    start--<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>DruidWebStatFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-class<span class="hljs-symbol">&amp;gt;</span>com.alibaba.druid.support.http.WebStatFilter<span class="hljs-symbol">&amp;lt;</span>/filter-class<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>exclusions<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>filter-mapping<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>filter-name<span class="hljs-symbol">&amp;gt;</span>DruidWebStatFilter<span class="hljs-symbol">&amp;lt;</span>/filter-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/*<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/filter-mapping<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>servlet<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>DruidStatView <span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet-class<span class="hljs-symbol">&amp;gt;</span>com.alibaba.druid.support.http.StatViewServlet<span class="hljs-symbol">&amp;lt;</span>/servlet-class<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ç”¨æˆ·å --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>loginUsername<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>itnanls<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>init-param<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- å¯†ç  --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-name<span class="hljs-symbol">&amp;gt;</span>loginPassword<span class="hljs-symbol">&amp;lt;</span>/param-name<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>param-value<span class="hljs-symbol">&amp;gt;</span>123<span class="hljs-symbol">&amp;lt;</span>/param-value<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/init-param<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/servlet<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>servlet-name<span class="hljs-symbol">&amp;gt;</span>DruidStatView<span class="hljs-symbol">&amp;lt;</span>/servlet-name<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>url-pattern<span class="hljs-symbol">&amp;gt;</span>/druid/*<span class="hljs-symbol">&amp;lt;</span>/url-pattern<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/servlet-mapping<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-æµ‹è¯•-æˆåŠŸã€‚" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-æµ‹è¯•-æˆåŠŸã€‚">#</a> ï¼ˆ4ï¼‰æµ‹è¯•ï¼ŒæˆåŠŸã€‚</h4><h3 id="_14ã€é›†æˆæ—¥å¿—æ¡†æ¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_14ã€é›†æˆæ—¥å¿—æ¡†æ¶">#</a> 14ã€é›†æˆæ—¥å¿—æ¡†æ¶</h3><h4 id="_1-å¼•å…¥ä¾èµ–" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–">#</a> ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–</h4><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>ch.qos.logback<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>logback-classic<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>  <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ–°å»ºé…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2-æ–°å»ºé…ç½®æ–‡ä»¶">#</a> ï¼ˆ2ï¼‰æ–°å»ºé…ç½®æ–‡ä»¶</h4><p>åœ¨ç±»è·¯å¾„ä¸‹ï¼ˆsrc/main/resourcesï¼‰æ–°å»ºä¸€ä¸ªlogback.xmlæ–‡ä»¶ è¿™é‡Œè´´å‡ºä¸€ä¸ªæ¨¡æ¿ï¼Œä¸‹é¢ä¼šæœ‰è§£é‡Š</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot; debug=&quot;false&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å®šä¹‰å‚æ•°å¸¸é‡ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ—¥å¿—çº§åˆ« TRACE<span class="hljs-symbol">&amp;lt;</span>DEBUG<span class="hljs-symbol">&amp;lt;</span>INFO<span class="hljs-symbol">&amp;lt;</span>WARN<span class="hljs-symbol">&amp;lt;</span>ERROR --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- logger.trace(&quot;msg&quot;) logger.debug... --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.level&quot; value=&quot;debug&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.maxHistory&quot; value=&quot;30&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.filePath&quot; value=&quot;D:/log&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.pattern&quot;<br>              value=&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ§åˆ¶å°è¾“å‡ºè®¾ç½® --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- DEBUGçº§åˆ«æ–‡ä»¶è®°å½• --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;debugAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶è·¯å¾„ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/debug.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ»šåŠ¨æ—¥å¿—æ–‡ä»¶ç±»å‹ï¼Œå°±æ˜¯æ¯å¤©éƒ½ä¼šæœ‰ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶åç§° --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>fileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/debug/debug.%d&#123;yyyy-MM-dd&#125;.log.gz<br>            <span class="hljs-symbol">&amp;lt;</span>/fileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶æœ€å¤§ä¿å­˜å†å²æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>$&#123;log.maxHistory&#125;<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>level<span class="hljs-symbol">&amp;gt;</span>DEBUG<span class="hljs-symbol">&amp;lt;</span>/level<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMatch<span class="hljs-symbol">&amp;gt;</span>ACCEPT<span class="hljs-symbol">&amp;lt;</span>/onMatch<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMismatch<span class="hljs-symbol">&amp;gt;</span>DENY<span class="hljs-symbol">&amp;lt;</span>/onMismatch<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- INFO --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;infoAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶è·¯å¾„ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/info.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶åç§° --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>fileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/info/info.%d&#123;yyyy-MM-dd&#125;.log.gz<br>            <span class="hljs-symbol">&amp;lt;</span>/fileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶æœ€å¤§ä¿å­˜å†å²æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>$&#123;log.maxHistory&#125;<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>level<span class="hljs-symbol">&amp;gt;</span>INFO<span class="hljs-symbol">&amp;lt;</span>/level<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMatch<span class="hljs-symbol">&amp;gt;</span>ACCEPT<span class="hljs-symbol">&amp;lt;</span>/onMatch<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMismatch<span class="hljs-symbol">&amp;gt;</span>DENY<span class="hljs-symbol">&amp;lt;</span>/onMismatch<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- com.ydlclasså¼€å¤´çš„æ—¥å¿—å¯¹åº”å½¢å¼ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>logger name=&quot;com.ydlclass&quot; level=&quot;$&#123;log.level&#125;&quot; additivity=&quot;true&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;debugAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;infoAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/logger<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- <span class="hljs-symbol">&amp;lt;</span>root<span class="hljs-symbol">&amp;gt;</span> æ˜¯å¿…é€‰èŠ‚ç‚¹ï¼Œç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œåªæœ‰ä¸€ä¸ªlevelå±æ€§ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>root level=&quot;info&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;consoleAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/root<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ•æ‰sqlå¼€å¤´çš„æ—¥å¿— --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;MyBatis&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/sql_log/mybatis-sql.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>FileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/sql_log/mybatis-sql.log.%d&#123;yyyy-MM-dd&#125;<span class="hljs-symbol">&amp;lt;</span>/FileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>30<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>%thread|%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;|%level|%logger&#123;36&#125;|%m%n<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>logger name=&quot;sql&quot; level=&quot;DEBUG&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;MyBatis&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/logger<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mybatisé…ç½®æ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>settings<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>setting name=&quot;logPrefix&quot; value=&quot;sql.&quot;/<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/settings<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ä½¿ç”¨" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3-ä½¿ç”¨">#</a> ï¼ˆ3ï¼‰ä½¿ç”¨</h4><blockquote><p>æ³¨æ„å¼•å…¥çš„åŒ…å¿…é¡»æ˜¯org.slf4j.Loggerå’Œorg.slf4j.LoggerFactory</p></blockquote><p>å¿…é¡»å®šä¹‰ä¸€ä¸ªlogå˜é‡æ‰èƒ½æ‰“logï¼Œå‚æ•°å°±å¡«æœ¬ç±»çš„classï¼Œè¿™æ ·æ‰“å°æ—¥å¿—æ‰èƒ½å‡†ç¡®å®šä½å•Š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(UserController.class);<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> org.slf4j.Logger;<br><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªlog</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(UserController.class);<br><br>    ....<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> ....<br>&#125;<br><br><br><span class="hljs-comment">//åœ¨æ–¹æ³•ä¸­åˆç†ä½¿ç”¨logï¼Œä½¿ç”¨å“ªä¸ªçº§åˆ«çœ‹è¿™ä¸ªæ—¥å¿—çš„é‡è¦æ€§</span><br><span class="hljs-meta">@GetMapping(value = &quot;&#123;id&#125;&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>    log.info(<span class="hljs-string">&quot;info&quot;</span>);<br>    log.trace(<span class="hljs-string">&quot;trace&quot;</span>);<br>    log.debug(<span class="hljs-string">&quot;debug&quot;</span>);<br>    log.warn(<span class="hljs-string">&quot;warn&quot;</span>);<br>    log.error(<span class="hljs-string">&quot;error&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> userService.getUserInfo(id);<br>&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-ä½¿ç”¨lombok" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4-ä½¿ç”¨lombok">#</a> ï¼ˆ4ï¼‰ä½¿ç”¨lombok</h4><p>åœ¨ç±»ä¸ŠåŠ æ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Slf4j</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è‡ªåŠ¨åŠ ä¸Š</p><div class="language-java line-numbers-mode" data-ext="java"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight java"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(UserController.class);<br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div></div></div><p>æ‰€ä»¥è¿™å¥è¯å°±ä¸ç”¨å†™äº†ã€‚</p><p>ç»“æŸ</p><h2 id="ä¹ã€å…¨éƒ¨çš„é…ç½®æ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#ä¹ã€å…¨éƒ¨çš„é…ç½®æ–‡ä»¶">#</a> ä¹ã€å…¨éƒ¨çš„é…ç½®æ–‡ä»¶ï¼š</h2><h3 id="_1ã€pomæ–‡ä»¶" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_1ã€pomæ–‡ä»¶">#</a> 1ã€pomæ–‡ä»¶</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;<br>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>parent<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>ssm-study<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.example<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.0-SNAPSHOT<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/parent<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>modelVersion<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/modelVersion<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-mvc-study<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>packaging<span class="hljs-symbol">&amp;gt;</span>war<span class="hljs-symbol">&amp;lt;</span>/packaging<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>dependencies<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æµ‹è¯•ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>junit<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>junit<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.12<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- springmvc --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-webmvc<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.2.6.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- servlet --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>javax.servlet-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>4.0.0<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>javax.servlet.jsp<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jsp-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>scope<span class="hljs-symbol">&amp;gt;</span>provided<span class="hljs-symbol">&amp;lt;</span>/scope<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>commons-fileupload<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.4<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- jackson --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-core<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-annotations<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.fasterxml.jackson.core<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>jackson-databind<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.11.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!-- mybatis ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.mybatis<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mybatis<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.5.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ•°æ®åº“è¿æ¥é©±åŠ¨ ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>mysql<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mysql-connector-java<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.1.47<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æä¾›äº†å¯¹JDBCæ“ä½œçš„å®Œæ•´å°è£… --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.springframework<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>spring-jdbc<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>5.1.10.RELEASE<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ç»‡å…¥ ç›¸å…³ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.aspectj<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>aspectjweaver<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.9.4<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- springï¼Œmybatisæ•´åˆåŒ… --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.mybatis<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>mybatis-spring<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>2.0.2<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- é›†æˆå¾·é²ä¼Šä½¿ç”¨ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.alibaba<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>druid<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.1.18<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>ch.qos.logback<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>logback-classic<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.projectlombok<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>lombok<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.18.12<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>com.alibaba<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>druid<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.1.18<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.slf4j<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>slf4j-api<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.7.30<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>dependency<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>ch.qos.logback<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>logback-classic<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.3<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/dependencies<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>build<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>plugins<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>plugin<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>groupId<span class="hljs-symbol">&amp;gt;</span>org.apache.maven.plugins<span class="hljs-symbol">&amp;lt;</span>/groupId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>artifactId<span class="hljs-symbol">&amp;gt;</span>maven-compiler-plugin<span class="hljs-symbol">&amp;lt;</span>/artifactId<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>3.1<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>source<span class="hljs-symbol">&amp;gt;</span>1.8<span class="hljs-symbol">&amp;lt;</span>/source<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>!-- æºä»£ç ä½¿ç”¨çš„JDKç‰ˆæœ¬ --<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>target<span class="hljs-symbol">&amp;gt;</span>1.8<span class="hljs-symbol">&amp;lt;</span>/target<span class="hljs-symbol">&amp;gt;</span> <span class="hljs-symbol">&amp;lt;</span>!-- éœ€è¦ç”Ÿæˆçš„ç›®æ ‡classæ–‡ä»¶çš„ç¼–è¯‘ç‰ˆæœ¬ --<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>encoding<span class="hljs-symbol">&amp;gt;</span>utf-8<span class="hljs-symbol">&amp;lt;</span>/encoding<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>!-- å­—ç¬¦é›†ç¼–ç  --<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/plugin<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/plugins<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>resources<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>resource<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>directory<span class="hljs-symbol">&amp;gt;</span>src/main/java<span class="hljs-symbol">&amp;lt;</span>/directory<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>includes<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.properties<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.xml<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/includes<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>filtering<span class="hljs-symbol">&amp;gt;</span>false<span class="hljs-symbol">&amp;lt;</span>/filtering<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/resource<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>resource<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>directory<span class="hljs-symbol">&amp;gt;</span>src/main/resources<span class="hljs-symbol">&amp;lt;</span>/directory<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>includes<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.properties<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>include<span class="hljs-symbol">&amp;gt;</span>**/*.xml<span class="hljs-symbol">&amp;lt;</span>/include<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/includes<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>filtering<span class="hljs-symbol">&amp;gt;</span>false<span class="hljs-symbol">&amp;lt;</span>/filtering<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/resource<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/resources<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/build<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/project<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€mybatis-config-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_2ã€mybatis-config-xml">#</a> 2ã€mybatis-config.xml</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>!DOCTYPE configuration<br>        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;<br>        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>configuration<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>settings<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>setting name=&quot;aggressiveLazyLoading&quot; value=&quot;false&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ä¸‹åˆ’çº¿è½¬é©¼å³°å¼ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>setting name=&quot;logPrefix&quot; value=&quot;sql.&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/settings<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>typeAliases<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>package name=&quot;cn.itnanls.entity&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/typeAliases<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€springmvc-servlet-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_3ã€springmvc-servlet-xml">#</a> 3ã€springmvc-servlet.xml</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;<br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>       http://www.springframework.org/schema/beans/spring-beans.xsd<br>       http://www.springframework.org/schema/context<br>       https://www.springframework.org/schema/context/spring-context.xsd<br>       http://www.springframework.org/schema/mvc<br>       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:default-servlet-handler /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--  è®©springmvcè‡ªå¸¦çš„æ³¨è§£ç”Ÿæ•ˆ  --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>mvc:annotation-driven <span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;fastjson&quot; class=&quot;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&quot;<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>property name=&quot;supportedMediaTypes&quot;<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>list<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>text/html;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                        <span class="hljs-symbol">&amp;lt;</span>value<span class="hljs-symbol">&amp;gt;</span>application/json;charset=UTF-8<span class="hljs-symbol">&amp;lt;</span>/value<span class="hljs-symbol">&amp;gt;</span><br>                    <span class="hljs-symbol">&amp;lt;</span>/list<span class="hljs-symbol">&amp;gt;</span><br>                <span class="hljs-symbol">&amp;lt;</span>/property<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/mvc:message-converters<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/mvc:annotation-driven<span class="hljs-symbol">&amp;gt;</span><br><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ–‡ä»¶ä¸Šä¼ é…ç½®--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxUploadSize&quot; value=&quot;10485760&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†æ˜ å°„å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å¤„ç†å™¨é€‚é…å™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; id=&quot;InternalResourceViewResolver&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--å‰ç¼€--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åç¼€--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;suffix&quot; value=&quot;.jsp&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€db-properties" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_4ã€db-properties">#</a> 4ã€db.properties</h3><div class="language-properties line-numbers-mode" data-ext="properties"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight properties"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;serverTimezone=Asia/Shanghai</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">root</span><br><br><span class="hljs-attr">filters</span>=<span class="hljs-string">wall,stat</span><br><span class="hljs-attr">maxActive</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">initialSize</span>=<span class="hljs-string">3</span><br><span class="hljs-attr">maxWait</span>=<span class="hljs-string">5000</span><br><span class="hljs-attr">minIdle</span>=<span class="hljs-string">3</span><br><span class="hljs-attr">maxIdle</span>=<span class="hljs-string">15</span><br><span class="hljs-attr">timeBetweenEvictionRunsMillis</span>=<span class="hljs-string">60000</span><br><span class="hljs-attr">minEvictableIdleTimeMillis</span>=<span class="hljs-string">300000</span><br><span class="hljs-attr">validationQuery</span>=<span class="hljs-string">SELECT &#x27;x&#x27;</span><br><span class="hljs-attr">testWhileIdle</span>=<span class="hljs-string">true</span><br><span class="hljs-attr">testOnBorrow</span>=<span class="hljs-string">false</span><br><span class="hljs-attr">testOnReturn</span>=<span class="hljs-string">false</span><br><span class="hljs-attr">maxOpenPreparedStatements</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">removeAbandoned</span>=<span class="hljs-string">true</span><br><span class="hljs-attr">removeAbandonedTimeout</span>=<span class="hljs-string">1800</span><br><span class="hljs-attr">logAbandoned</span>=<span class="hljs-string">true</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€application-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_5ã€application-xml">#</a> 5ã€application.xml</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br>       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;<br>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;<br>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans<br>       http://www.springframework.org/schema/beans/spring-beans.xsd<br>       http://www.springframework.org/schema/context<br>       https://www.springframework.org/schema/context/spring-context.xsd<br>       http://www.springframework.org/schema/aop<br>       http://www.springframework.org/schema/aop/spring-aop.xsd<br>       http://www.springframework.org/schema/tx<br>       http://www.springframework.org/schema/tx/spring-tx.xsd&quot;<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åŠ è½½å¤–éƒ¨çš„æ•°æ®åº“ä¿¡æ¯ classpath:ä¸å«ä¼šæŠ¥é”™å…·ä½“åŸå› ä¸‹è¾¹è§£é‡Š--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>context:property-placeholder location=&quot;classpath:db.properties&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- åŠ å…¥springmvcçš„é…ç½® --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>import resource=&quot;classpath:springmvc-servlet.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>context:component-scan base-package=&quot;cn.itnanls&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- Mapper æ‰«æå™¨ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ‰«æ cn.wmyskxz.mapper åŒ…ä¸‹çš„ç»„ä»¶ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;basePackage&quot; value=&quot;cn.itnanls.dao&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®æ•°æ®æºï¼šæ•°æ®æºæœ‰éå¸¸å¤šï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯ä½¿ä½¿ç”¨Springçš„--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/<span class="hljs-symbol">&amp;gt;</span><br><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;filters&quot; value = &quot;$&#123;filters&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æœ€å¤§å¹¶å‘è¿æ¥æ•° --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxActive&quot; value = &quot;$&#123;maxActive&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- åˆå§‹åŒ–è¿æ¥æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;initialSize&quot; value = &quot;$&#123;initialSize&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxWait&quot; value = &quot;$&#123;maxWait&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æœ€å°ç©ºé—²è¿æ¥æ•° --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;minIdle&quot; value = &quot;$&#123;minIdle&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;timeBetweenEvictionRunsMillis&quot; value =&quot;$&#123;timeBetweenEvictionRunsMillis&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;minEvictableIdleTimeMillis&quot; value =&quot;$&#123;minEvictableIdleTimeMillis&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;validationQuery&quot; value = &quot;$&#123;validationQuery&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span>     --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testWhileIdle&quot; value = &quot;$&#123;testWhileIdle&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testOnBorrow&quot; value = &quot;$&#123;testOnBorrow&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;testOnReturn&quot; value = &quot;$&#123;testOnReturn&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;maxOpenPreparedStatements&quot; value =&quot;$&#123;maxOpenPreparedStatements&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ‰“å¼€ removeAbandoned åŠŸèƒ½ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;removeAbandoned&quot; value = &quot;$&#123;removeAbandoned&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- 1800 ç§’ï¼Œä¹Ÿå°±æ˜¯ 30 åˆ†é’Ÿ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;removeAbandonedTimeout&quot; value =&quot;$&#123;removeAbandonedTimeout&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- å…³é—­ abanded è¿æ¥æ—¶è¾“å‡ºé”™è¯¯æ—¥å¿— --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name = &quot;logAbandoned&quot; value = &quot;$&#123;logAbandoned&#125;&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®SqlSessionFactory--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--å…³è”Mybatis--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/*.xml&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--æ³¨å†ŒsqlSessionTemplate , å…³è”sqlSessionFactory--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!--åˆ©ç”¨æ„é€ å™¨æ³¨å…¥--<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/bean<span class="hljs-symbol">&amp;gt;</span><br><br><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®äº‹åŠ¡é€šçŸ¥--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>tx:attributes<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®å“ªäº›æ–¹æ³•ä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‹åŠ¡,é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;add*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;search*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;get*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;find*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot;/<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/tx:attributes<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/tx:advice<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!--é…ç½®aopç»‡å…¥äº‹åŠ¡--<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>aop:config<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>aop:pointcut id=&quot;txPointcut&quot; expression=&quot;execution(* cn.itnanls.service.impl.*.*(..))&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPointcut&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/aop:config<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/beans<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€logback-xml" tabindex="-1"><a aria-hidden="true" class="header-anchor" href="#_6ã€logback-xml">#</a> 6ã€logback.xml</h3><div class="language-xml line-numbers-mode" data-ext="xml"><button aria-label="å¤åˆ¶ä»£ç " class="copy-code-button" data-copied="å·²å¤åˆ¶"><div class="copy-icon"></div></button>

<figure class="highlight xml"><figcaption><span>From: å…ƒåŠ¨åŠ›</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-symbol">&amp;lt;</span>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?<span class="hljs-symbol">&amp;gt;</span><br><span class="hljs-symbol">&amp;lt;</span>configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot; debug=&quot;false&quot;<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- å®šä¹‰å‚æ•°å¸¸é‡ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ—¥å¿—çº§åˆ« TRACE<span class="hljs-symbol">&amp;lt;</span>DEBUG<span class="hljs-symbol">&amp;lt;</span>INFO<span class="hljs-symbol">&amp;lt;</span>WARN<span class="hljs-symbol">&amp;lt;</span>ERROR --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- logger.trace(&quot;msg&quot;) logger.debug... --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.level&quot; value=&quot;debug&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.maxHistory&quot; value=&quot;30&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.filePath&quot; value=&quot;D:/log&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>property name=&quot;log.pattern&quot;<br>              value=&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&quot; /<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ§åˆ¶å°è¾“å‡ºè®¾ç½® --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- DEBUGçº§åˆ«æ–‡ä»¶è®°å½• --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;debugAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶è·¯å¾„ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/debug.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ»šåŠ¨æ—¥å¿—æ–‡ä»¶ç±»å‹ï¼Œå°±æ˜¯æ¯å¤©éƒ½ä¼šæœ‰ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶åç§° --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>fileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/debug/debug.%d&#123;yyyy-MM-dd&#125;.log.gz<br>            <span class="hljs-symbol">&amp;lt;</span>/fileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶æœ€å¤§ä¿å­˜å†å²æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>$&#123;log.maxHistory&#125;<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>level<span class="hljs-symbol">&amp;gt;</span>DEBUG<span class="hljs-symbol">&amp;lt;</span>/level<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMatch<span class="hljs-symbol">&amp;gt;</span>ACCEPT<span class="hljs-symbol">&amp;lt;</span>/onMatch<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMismatch<span class="hljs-symbol">&amp;gt;</span>DENY<span class="hljs-symbol">&amp;lt;</span>/onMismatch<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>!-- INFO --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;infoAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶è·¯å¾„ --<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/info.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶åç§° --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>fileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/info/info.%d&#123;yyyy-MM-dd&#125;.log.gz<br>            <span class="hljs-symbol">&amp;lt;</span>/fileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>!-- æ–‡ä»¶æœ€å¤§ä¿å­˜å†å²æ•°é‡ --<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>$&#123;log.maxHistory&#125;<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.pattern&#125;<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>level<span class="hljs-symbol">&amp;gt;</span>INFO<span class="hljs-symbol">&amp;lt;</span>/level<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMatch<span class="hljs-symbol">&amp;gt;</span>ACCEPT<span class="hljs-symbol">&amp;lt;</span>/onMatch<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>onMismatch<span class="hljs-symbol">&amp;gt;</span>DENY<span class="hljs-symbol">&amp;lt;</span>/onMismatch<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/filter<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- com.ydlclasså¼€å¤´çš„æ—¥å¿—å¯¹åº”å½¢å¼ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>logger name=&quot;com.ydlclass&quot; level=&quot;$&#123;log.level&#125;&quot; additivity=&quot;true&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;debugAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;infoAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/logger<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- <span class="hljs-symbol">&amp;lt;</span>root<span class="hljs-symbol">&amp;gt;</span> æ˜¯å¿…é€‰èŠ‚ç‚¹ï¼Œç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œåªæœ‰ä¸€ä¸ªlevelå±æ€§ --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>root level=&quot;info&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;consoleAppender&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/root<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>!-- æ•æ‰sqlå¼€å¤´çš„æ—¥å¿— --<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>appender name=&quot;MyBatis&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>file<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/sql_log/mybatis-sql.log<span class="hljs-symbol">&amp;lt;</span>/file<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>FileNamePattern<span class="hljs-symbol">&amp;gt;</span>$&#123;log.filePath&#125;/sql_log/mybatis-sql.log.%d&#123;yyyy-MM-dd&#125;<span class="hljs-symbol">&amp;lt;</span>/FileNamePattern<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>maxHistory<span class="hljs-symbol">&amp;gt;</span>30<span class="hljs-symbol">&amp;lt;</span>/maxHistory<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/rollingPolicy<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;<span class="hljs-symbol">&amp;gt;</span><br>            <span class="hljs-symbol">&amp;lt;</span>pattern<span class="hljs-symbol">&amp;gt;</span>%thread|%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;|%level|%logger&#123;36&#125;|%m%n<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span><br><br>    <span class="hljs-symbol">&amp;lt;</span>logger name=&quot;sql&quot; level=&quot;DEBUG&quot;<span class="hljs-symbol">&amp;gt;</span><br>        <span class="hljs-symbol">&amp;lt;</span>appender-ref ref=&quot;MyBatis&quot;/<span class="hljs-symbol">&amp;gt;</span><br>    <span class="hljs-symbol">&amp;lt;</span>/logger<span class="hljs-symbol">&amp;gt;</span><br><br><span class="hljs-symbol">&amp;lt;</span>/configuration<span class="hljs-symbol">&amp;gt;</span><br></code></pre></td></tr></table></figure>

<div aria-hidden="true" class="line-numbers"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></article>
<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">å›é¡¾ä¸Šä¸€ç¯‡</div><a href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/mybatis/mybatis.html">mybatis</a></div><div class="item" id="next"><div class="note">æ¥ä¸‹æ¥é˜…è¯»</div><a href="/wiki/YDLDoc2/%E6%A1%86%E6%9E%B6/spring/spring.html">spring</a></div></section></div>


  <div class="related-wrap md-text" id="comments">
    <section class='header cmt-title cap theme'>
      å¿«æ¥å‚ä¸è®¨è®ºå§
    </section>
    <section class='body cmt-body waline'>
      

<div id="waline_container" class="waline_thread"><svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </section>
  </div>



<footer class="page-footer fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">åšå®¢</span><a href="/">è¿‘æœŸ</a><a href="/categories/">åˆ†ç±»</a><a href="/tags/">æ ‡ç­¾</a><a href="/archives/">å½’æ¡£</a></div><div class="sitemap-group"><span class="fs14">ç«™ç‚¹</span><a target="_blank" rel="noopener" href="https://status.thatcoder.cn/status/public/">å…¬å…±æœåŠ¡</a><a target="_blank" rel="noopener" href="https://ai.thatcoder.cn/">ChatGPT</a><a target="_blank" rel="noopener" href="https://alist.thatcoder.cn/">æ–‡ä»¶èµ„æº</a><a target="_blank" rel="noopener" href="https://docs.thatapi.cn/">å…¬å…±æ¥å£</a></div><div class="sitemap-group"><span class="fs14">ç¤¾äº¤</span><a href="/links/">å‹äººå¸</a><a href="/links/#comments">ç•™è¨€æ¿</a><a href="/animes/">åœ¨è¿½ç•ª</a><a href="/cinemas/">è¿˜è¿½å‰§</a></div><div class="sitemap-group"><span class="fs14">æ›´å¤š</span><a href="/about/#tab_1-1/">æœ¬ç«™åŠ¨æ€</a><a target="_blank" rel="noopener" href="https://muselink.cc/naive">è”ç³»åšä¸»</a><a target="_blank" rel="noopener" href="https://github.com/ThatCoders">GitHub</a><a target="_blank" rel="noopener" href="https://gitee.com/thatcoder">Gitee</a></div></div><div class="text"><p style="text-align:center" >
æœ¬ç«™ç”± <a style="font-weight: bold;" href="/author/ThatCoder/">é’Ÿæ„</a> ä½¿ç”¨ <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0">Stellar 1.25.0</a> ä¸»é¢˜åˆ›å»ºã€‚
<br>
ç”± <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">åˆæ‹äº‘</a> æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡
<br>
ç”± <a style="font-weight: bold;" target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral">vercel</a> æä¾›æ‰˜ç®¡æœåŠ¡
<br>
<a href="https://beian.miit.gov.cn/" target="_blank">æ¹˜ICPå¤‡2023019799å·-1</a>
<br>
<!--ä¸è’œå­è®¡æ•°å™¨-->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!--æ·»åŠ ä¸€ä¸ªè®¿é—®é‡-->
<span>æ€»è®¿é—® <span id="busuanzi_value_site_pv" style="font-weight: bold;"></span> æ¬¡ | æœ¬é¡µè®¿é—® <span id="busuanzi_value_page_pv" style="font-weight: bold;"></span> æ¬¡</span> 
<div id="siteruntime"></div>
</p>
<script>
function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000
    var minutes = seconds * 60
    var hours = minutes * 60
    var days = hours * 24
    var years = days * 365
    var today = new Date()
    var todayYear = today.getFullYear()
    var todayMonth = today.getMonth()
    var todayDate = today.getDate()
    var todayHour = today.getHours()
    var todayMinute = today.getMinutes()
    var todaySecond = today.getSeconds()
    var t1 = Date.UTC(2020,4,30,08,00,00)
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond)
    var diff = t2-t1
    var diffYears = Math.floor(diff/years)
    var diffDays = Math.floor((diff/days)-diffYears*365)
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours)
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes)
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds)
    document.getElementById("siteruntime").innerHTML="<p style=\"text-align:center\">å°ç ´ç«™å·²é¢ æ²›æµç¦» "+diffYears+" å¹´ "+diffDays+" å¤© "+diffHours+" å°æ—¶ "+diffMinutes+" åˆ†é’Ÿ "+diffSeconds+" ç§’</p>"
}
siteTime();
</script>
</div></footer>
<div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg t="1705412886951" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8331" width="200" height="200"><path d="M638.72 970.666667h-256c-118.186667 0-198.272-25.002667-251.946667-78.72S52.053333 758.186667 52.053333 640V384c0-118.186667 25.002667-198.272 78.72-251.946667S264.533333 53.333333 382.72 53.333333h256c118.186667 0 198.272 25.002667 251.946667 78.72S969.386667 265.813333 969.386667 384v256c0 118.186667-25.002667 198.272-78.72 251.946667S756.906667 970.666667 638.72 970.666667z m-256-853.333334c-100.096 0-165.802667 19.2-206.72 59.946667S116.053333 283.904 116.053333 384v256c0 100.096 19.072 165.802667 59.946667 206.72S282.624 906.666667 382.72 906.666667h256c100.096 0 165.802667-19.072 206.72-59.946667S905.386667 740.096 905.386667 640V384c0-100.096-19.072-165.802667-59.946667-206.72S738.816 117.333333 638.72 117.333333z" p-id="8332"></path><path d="M638.72 970.666667a32 32 0 0 1-32-32V85.333333a32 32 0 0 1 32-32 32 32 0 0 1 32 32v853.333334a32 32 0 0 1-32 32zM340.053333 653.226667a31.914667 31.914667 0 0 1-22.613333-9.386667 32 32 0 0 1 0-45.269333L404.053333 512 317.44 425.386667a32 32 0 0 1 0-45.226667 32 32 0 0 1 45.226667 0l109.226666 109.226667a32 32 0 0 1 0 45.269333L362.666667 643.84a31.914667 31.914667 0 0 1-22.613334 9.386667z" p-id="8333"></path></svg>
  </button>
</div>
<div class="main-mask" onclick="sidebar.toggle()"></div></div></div><div class="scripts">
<script type="text/javascript">
  const stellar = {
    // æ‡’åŠ è½½ css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // ä» butterfly å’Œ volantis è·å¾—çµæ„Ÿ
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // é»˜è®¤å¼‚æ­¥ï¼Œå¦‚æœéœ€è¦åŒæ­¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ {} å³å¯
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.25.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0';
  stellar.config = {
    date_suffix: {
      just: 'åˆšåˆš',
      min: 'åˆ†é’Ÿå‰',
      hour: 'å°æ—¶å‰',
      day: 'å¤©å‰',
      month: 'ä¸ªæœˆå‰',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"post, page, docs","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js","memos":"/js/plugins/memos.js","marked":"/js/plugins/marked.js","timetmpl":"/js/plugins/timetmpl.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@10.3/swiper-bundle.min.css","js":"https://unpkg.com/swiper@10.3/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://cdn.bootcdn.net/ajax/libs/scrollReveal.js/4.0.9/scrollreveal.min.js","distance":"16px","duration":800,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img, .md-text.content p>img, .md-text.content li img , .wl-content img, waline_container .vcontent img, .timeline .body .image img,  .timeline .gallery img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('false' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":false,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied","toast":"å¤åˆ¶æˆåŠŸ"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script type="module" defer="defer">
    import { init } from 'https://upyun.thatcdn.cn/public/web/waline/v3/client/dist/waline.js';
  function load_comment(){
    if(!document.getElementById("waline_container"))return;
    stellar.loadCSS('https://upyun.thatcdn.cn/public/web/waline/v3/client/dist/waline.css');
    stellar.loadScript('https://upyun.thatcdn.cn/public/web/waline/v3/client/dist/waline.js', {defer:true, type:"module"}).then(function () {
      const el = document.getElementById("waline_container");
      var path = el.getAttribute('comment_id');
      if (!path) {
        path = decodeURI(window.location.pathname);
      }
        init(Object.assign({"js":"https://upyun.thatcdn.cn/public/web/waline/v3/client/dist/waline.js","css":"https://upyun.thatcdn.cn/public/web/waline/v3/client/dist/waline.css","serverURL":"https://waline.thatapi.cn/","commentCount":true,"pageview":false,"custom":{"css":"/custom/css/ZYWaline.css"},"search":false,"locale":{"placeholder":"  é‡äº‹ä¸å†³, å¯é—®æ˜¥é£..."},"emoji":["https://upyun.thatcdn.cn/public/web/emojis/bilibili","https://upyun.thatcdn.cn/public/web/emojis/qq","https://upyun.thatcdn.cn/public/web/emojis/tieba","https://upyun.thatcdn.cn/public/web/emojis/weibo"],"reaction":["https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_cute.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_chuckle.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_sunglasses.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_crazy.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_pick_nose.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_not_care.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_trollface.png","https://upyun.thatcdn.cn/public/web/emojis/bilibili/bb_thumbsup.png"],"meta":["nick","mail","link"],"imageUploader":{"fileName":"file","tokenName":"Authorization","api":"https://lsky.thatcoder.cn/api/v1/upload","token":"Bearer 6|x9vHGJGHAnjqbO0PGEE5vM7r9S9hdqFA9bmdESdm","resp":"data.links.url"}}, {
        el: '#waline_container',
        path: path,
        
          imageUploader: function(file) {
            let headers = new Headers();
            headers.set('Accept', 'application/json');
            
              headers.set('Authorization', 'Bearer 6|x9vHGJGHAnjqbO0PGEE5vM7r9S9hdqFA9bmdESdm')
            
            let formData = new FormData();
            formData.append('file', file);
            return fetch('https://lsky.thatcoder.cn/api/v1/upload',{
              method: 'POST',
              body: formData,
              headers: headers
              }).then((resp) => resp.json())
                .then((resp) => resp.data.links.url)
          },
        
      }));
    });
  }
  stellar.loadCSS('/custom/css/ZYWaline.css');
  window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    load_comment();
  });

</script>







<!-- inject -->
<script type="text/javascript" src="/custom/js/ZYUtil.js"></script><script type="text/javascript" src="/custom/js/ZYDark.js"></script><script type="text/javascript" src="/custom/js/ZYCategory.js"></script><script type="text/javascript" src="/custom/js/ZYCode.js"></script><script type="text/javascript" src="/custom/js/timetmpl.js"></script>
</div></body></html>
